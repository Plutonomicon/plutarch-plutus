<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusLedgerApi.V1.Orphans.Value</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-4"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Specialized Value wrappers</span></span><span>
</span><span id="line-5"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier">FeeValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getFeeValue"><span class="hs-identifier">getFeeValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier">UTxOValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getUtxoValue"><span class="hs-identifier">getUtxoValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier">NonAdaValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getNonAdaValue"><span class="hs-identifier">getNonAdaValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier">MintValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getMintValue"><span class="hs-identifier">getMintValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#guard"><span class="hs-identifier">guard</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Coerce.html"><span class="hs-identifier">Data.Coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.Orphans.Common.html"><span class="hs-identifier">PlutusLedgerApi.Orphans.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.Orphans.Common.html#getBlake2b244Hash"><span class="hs-identifier">getBlake2b244Hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V1</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLA</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V1.Value</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Value</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AssocMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AssocMap</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Prelude</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pretty</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Test.QuickCheck</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><span class="hs-identifier">Arbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">arbitrary</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">shrink</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><span class="hs-identifier">Arbitrary1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftArbitrary</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftShrink</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-identifier">CoArbitrary</span></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="hs-identifier">Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">function</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-identifier">Gen</span></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><span class="hs-identifier">NonEmptyList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-identifier">NonZero</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonZero</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><span class="hs-identifier">Positive</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Positive</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-identifier">chooseBoundedIntegral</span></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><span class="hs-identifier">chooseInt</span></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><span class="hs-identifier">frequency</span></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><span class="hs-identifier">functionMap</span></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="hs-identifier">getNonEmpty</span></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="hs-identifier">getNonZero</span></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><span class="hs-identifier">getPositive</span></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><span class="hs-identifier">resize</span></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><span class="hs-identifier">scale</span></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-identifier">sized</span></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-identifier">vectorOf</span></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="annot"><span class="hs-comment">-- | @since 1.1.0</span></span><span>
</span><span id="line-49"></span><span id="local-6989586621679136791"><span id="local-6989586621679136798"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.TokenName</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.AssetClass</span></span></span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="annot"><span class="hs-comment">-- | @since 1.1.0</span></span><span>
</span><span id="line-52"></span><span id="local-6989586621679136808"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.TokenName</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.AssetClass</span></span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="annot"><span class="hs-comment">-- | @since 1.1.0</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.AssetClass</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-57"></span><span>  </span><span id="local-6989586621679136829"><span class="annot"><span class="annottext">function :: forall b. (AssetClass -&gt; b) -&gt; AssetClass :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AssetClass -&gt; (CurrencySymbol, TokenName))
-&gt; ((CurrencySymbol, TokenName) -&gt; AssetClass)
-&gt; (AssetClass -&gt; b)
-&gt; AssetClass :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">AssetClass -&gt; (CurrencySymbol, TokenName)
</span><a href="#local-6989586621679136830"><span class="hs-identifier hs-var">into</span></a></span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol, TokenName) -&gt; AssetClass
</span><a href="#local-6989586621679136831"><span class="hs-identifier hs-var">outOf</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-59"></span><span>      </span><span class="annot"><a href="#local-6989586621679136830"><span class="hs-identifier hs-type">into</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.AssetClass</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.TokenName</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>      </span><span id="local-6989586621679136830"><span class="annot"><span class="annottext">into :: AssetClass -&gt; (CurrencySymbol, TokenName)
</span><a href="#local-6989586621679136830"><span class="hs-identifier hs-var hs-var">into</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AssetClass -&gt; (CurrencySymbol, TokenName)
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-61"></span><span>      </span><span class="annot"><a href="#local-6989586621679136831"><span class="hs-identifier hs-type">outOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.TokenName</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.AssetClass</span></span><span>
</span><span id="line-62"></span><span>      </span><span id="local-6989586621679136831"><span class="annot"><span class="annottext">outOf :: (CurrencySymbol, TokenName) -&gt; AssetClass
</span><a href="#local-6989586621679136831"><span class="hs-identifier hs-var hs-var">outOf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol, TokenName) -&gt; AssetClass
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-65"></span><span id="local-6989586621679136833"><span id="local-6989586621679136838"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Lovelace</span></span></span></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-68"></span><span id="local-6989586621679136843"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Lovelace</span></span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Lovelace</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-73"></span><span>  </span><span id="local-6989586621679136853"><span class="annot"><span class="annottext">function :: forall b. (Lovelace -&gt; b) -&gt; Lovelace :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Lovelace -&gt; Integer)
-&gt; (Integer -&gt; Lovelace) -&gt; (Lovelace -&gt; b) -&gt; Lovelace :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Integer
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Lovelace
</span><span class="hs-identifier hs-var">PLA.Lovelace</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="annot"><span class="hs-comment">{- | A 'CurrencySymbol' is either a BLAKE2b-244 hash or empty (representing the
Ada symbol). In a fully-fair generator, this makes it vanishingly unlikely
that the Ada symbol will be produced naturally (1 in 2^8^28 = 2^244) odds.
QuickCheck doesn't give us the ability to represent these odds faithfully:
thus, we merely make the Ada symbol as unlikely as we can. If you want to
ensure that the Ada symbol is covered by your tests, you need to make
dedicated tests for this. For this reason, we also don't shrink into the Ada
symbol (indeed, we don't shrink at all).

@since 1.0.0
-}</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679136857"><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621679136872"><span class="annot"><span class="annottext">arbitrary :: Gen CurrencySymbol
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.CurrencySymbol</span></span><span>
</span><span id="line-90"></span><span>      </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; CurrencySymbol)
-&gt; Gen BuiltinByteString -&gt; Gen CurrencySymbol
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, Gen BuiltinByteString)] -&gt; Gen BuiltinByteString
forall a. HasCallStack =&gt; [(Int, Gen a)] -&gt; Gen a
</span><span class="hs-identifier hs-var">frequency</span></span><span>
</span><span id="line-91"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; Gen BuiltinByteString
forall a. a -&gt; Gen a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. Bounded a =&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Enum.html#maxBound"><span class="hs-identifier hs-var">maxBound</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Blake2b244Hash -&gt; BuiltinByteString
</span><a href="PlutusLedgerApi.Orphans.Common.html#getBlake2b244Hash"><span class="hs-identifier hs-var">getBlake2b244Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(Blake2b244Hash -&gt; BuiltinByteString)
-&gt; Gen Blake2b244Hash -&gt; Gen BuiltinByteString
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen Blake2b244Hash
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-96"></span><span id="local-6989586621679136877"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-99"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-101"></span><span>  </span><span id="local-6989586621679136885"><span class="annot"><span class="annottext">function :: forall b. (CurrencySymbol -&gt; b) -&gt; CurrencySymbol :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol -&gt; BuiltinByteString)
-&gt; (BuiltinByteString -&gt; CurrencySymbol)
-&gt; (CurrencySymbol -&gt; b)
-&gt; CurrencySymbol :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; BuiltinByteString
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.CurrencySymbol</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><span class="hs-comment">{- | A 'PLA.Value' suitable for 'PLA.TxOut'. Specifically:

* The `PLA.Value` is sorted by both keys (meaning 'PLA.CurrencySymbol' and
  'PLA.TokenName');
* There exists an Ada amount; and
* All amounts are positive.

= Note

This is designed to act as a modifier, and thus, we expose the constructor
even though it preserves invariants. If you use the constructor directly,
be /very/ certain that the Value being wrapped satisfies the invariants
described above: failing to do so means all guarantees of this type are off
the table.

@since 1.0.2
-}</span></span><span>
</span><span id="line-120"></span><span class="hs-keyword">newtype</span><span> </span><span id="UTxOValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-var">UTxOValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UTxOValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-var">UTxOValue</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-123"></span><span>      </span><span id="local-6989586621679136892"><span id="local-6989586621679136897"><span class="annot"><span class="annottext">UTxOValue -&gt; UTxOValue -&gt; Bool
(UTxOValue -&gt; UTxOValue -&gt; Bool)
-&gt; (UTxOValue -&gt; UTxOValue -&gt; Bool) -&gt; Eq UTxOValue
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: UTxOValue -&gt; UTxOValue -&gt; Bool
== :: UTxOValue -&gt; UTxOValue -&gt; Bool
$c/= :: UTxOValue -&gt; UTxOValue -&gt; Bool
/= :: UTxOValue -&gt; UTxOValue -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-128"></span><span>      </span><span id="local-6989586621679136903"><span id="local-6989586621679136909"><span id="local-6989586621679136913"><span class="annot"><span class="annottext">Int -&gt; UTxOValue -&gt; ShowS
[UTxOValue] -&gt; ShowS
UTxOValue -&gt; String
(Int -&gt; UTxOValue -&gt; ShowS)
-&gt; (UTxOValue -&gt; String)
-&gt; ([UTxOValue] -&gt; ShowS)
-&gt; Show UTxOValue
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UTxOValue -&gt; ShowS
showsPrec :: Int -&gt; UTxOValue -&gt; ShowS
$cshow :: UTxOValue -&gt; String
show :: UTxOValue -&gt; String
$cshowList :: [UTxOValue] -&gt; ShowS
showList :: [UTxOValue] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- @since 1.1.0</span><span>
</span><span id="line-132"></span><span id="local-6989586621679136917"><span id="local-6989586621679136922"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-type">UTxOValue</span></a></span></span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.2</span></span><span>
</span><span id="line-135"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-type">UTxOValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-137"></span><span>  </span><span id="local-6989586621679136980"><span class="annot"><span class="annottext">arbitrary :: Gen UTxOValue
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-138"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; UTxOValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-var">UTxOValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; UTxOValue) -&gt; Gen Value -&gt; Gen UTxOValue
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-139"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Positive</span></span><span> </span><span id="local-6989586621679136981"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679136981"><span class="hs-identifier hs-var">adaQuantity</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Gen (Positive Integer)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-140"></span><span>      </span><span class="hs-comment">-- Set of non-Ada currency symbols</span><span>
</span><span id="line-141"></span><span>      </span><span id="local-6989586621679136982"><span class="annot"><span class="annottext">Set CurrencySymbol
</span><a href="#local-6989586621679136982"><span class="hs-identifier hs-var">csSet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CurrencySymbol] -&gt; Set CurrencySymbol
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([CurrencySymbol] -&gt; Set CurrencySymbol)
-&gt; Gen [CurrencySymbol] -&gt; Gen (Set CurrencySymbol)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen CurrencySymbol -&gt; Gen [CurrencySymbol]
forall a. Gen a -&gt; Gen [a]
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.CurrencySymbol</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; CurrencySymbol)
-&gt; (Blake2b244Hash -&gt; BuiltinByteString)
-&gt; Blake2b244Hash
-&gt; CurrencySymbol
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Blake2b244Hash -&gt; BuiltinByteString
</span><a href="PlutusLedgerApi.Orphans.Common.html#getBlake2b244Hash"><span class="hs-identifier hs-var">getBlake2b244Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(Blake2b244Hash -&gt; CurrencySymbol)
-&gt; Gen Blake2b244Hash -&gt; Gen CurrencySymbol
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen Blake2b244Hash
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679136985"><span class="annot"><span class="annottext">cses :: [CurrencySymbol]
</span><a href="#local-6989586621679136985"><span class="hs-identifier hs-var hs-var">cses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CurrencySymbol -&gt; [CurrencySymbol]
forall a. Set a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set CurrencySymbol
</span><a href="#local-6989586621679136982"><span class="hs-identifier hs-var">csSet</span></a></span><span>
</span><span id="line-143"></span><span>      </span><span class="hs-comment">-- For each key, generate a set of token names that aren't Ada, and a</span><span>
</span><span id="line-144"></span><span>      </span><span class="hs-comment">-- positive value</span><span>
</span><span id="line-145"></span><span>      </span><span id="local-6989586621679136987"><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679136987"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [CurrencySymbol]
-&gt; Gen [(CurrencySymbol, [(TokenName, Integer)])]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Int)
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall a. (Int -&gt; Int) -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">scale</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#quot"><span class="hs-operator hs-var">`quot`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Gen (CurrencySymbol, [(TokenName, Integer)])
 -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; (CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; CurrencySymbol
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
</span><a href="#local-6989586621679136990"><span class="hs-identifier hs-var">mkInner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CurrencySymbol]
</span><a href="#local-6989586621679136985"><span class="hs-identifier hs-var">cses</span></a></span><span>
</span><span id="line-146"></span><span>      </span><span class="hs-comment">-- Jam the Ada value in there</span><span>
</span><span id="line-147"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679136991"><span class="annot"><span class="annottext">table' :: [(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679136991"><span class="hs-identifier hs-var hs-var">table'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol
</span><span class="hs-identifier hs-var">Value.adaSymbol</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenName
</span><span class="hs-identifier hs-var">Value.adaToken</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679136981"><span class="hs-identifier hs-var">adaQuantity</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol, [(TokenName, Integer)])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679136987"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">Value -&gt; Gen Value
forall a. a -&gt; Gen a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Gen Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Gen Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#pruneZeros"><span class="hs-identifier hs-var">pruneZeros</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">Value.Value</span></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])]
    -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, Map TokenName Integer)]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, Map TokenName Integer)]
 -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])]
    -&gt; [(CurrencySymbol, Map TokenName Integer)])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)])
 -&gt; (CurrencySymbol, Map TokenName Integer))
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; Map TokenName Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
-&gt; (CurrencySymbol, Map TokenName Integer)
forall a b. (a -&gt; b) -&gt; (CurrencySymbol, a) -&gt; (CurrencySymbol, b)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)] -&gt; Map TokenName Integer
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Gen Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])] -&gt; Gen Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679136991"><span class="hs-identifier hs-var">table'</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><a href="#local-6989586621679136990"><span class="hs-identifier hs-type">mkInner</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>      </span><span id="local-6989586621679136990"><span class="annot"><span class="annottext">mkInner :: CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
</span><a href="#local-6989586621679136990"><span class="hs-identifier hs-var hs-var">mkInner</span></a></span></span><span> </span><span id="local-6989586621679136996"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679136996"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679136996"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)]
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; Gen [(TokenName, Integer)]
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-153"></span><span>          </span><span class="hs-comment">-- Set of non-Ada token names</span><span>
</span><span id="line-154"></span><span>          </span><span id="local-6989586621679136997"><span class="annot"><span class="annottext">Set TokenName
</span><a href="#local-6989586621679136997"><span class="hs-identifier hs-var">tnSet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TokenName] -&gt; Set TokenName
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([TokenName] -&gt; Set TokenName)
-&gt; Gen [TokenName] -&gt; Gen (Set TokenName)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen TokenName -&gt; Gen [TokenName]
forall a. Gen a -&gt; Gen [a]
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen TokenName
</span><a href="#local-6989586621679136998"><span class="hs-identifier hs-var">genNonAdaTokenName</span></a></span><span>
</span><span id="line-155"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679136999"><span class="annot"><span class="annottext">asList :: [TokenName]
</span><a href="#local-6989586621679136999"><span class="hs-identifier hs-var hs-var">asList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set TokenName -&gt; [TokenName]
forall a. Set a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set TokenName
</span><a href="#local-6989586621679136997"><span class="hs-identifier hs-var">tnSet</span></a></span><span>
</span><span id="line-156"></span><span>          </span><span class="annot"><span class="annottext">(TokenName -&gt; Gen (TokenName, Integer))
-&gt; [TokenName] -&gt; Gen [(TokenName, Integer)]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679137000"><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137000"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137000"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; (TokenName, Integer))
-&gt; (Positive Integer -&gt; Integer)
-&gt; Positive Integer
-&gt; (TokenName, Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Positive Integer -&gt; Integer
forall a. Positive a -&gt; a
</span><span class="hs-identifier hs-var">getPositive</span></span><span> </span><span class="annot"><span class="annottext">(Positive Integer -&gt; (TokenName, Integer))
-&gt; Gen (Positive Integer) -&gt; Gen (TokenName, Integer)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Positive Integer)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TokenName]
</span><a href="#local-6989586621679136999"><span class="hs-identifier hs-var">asList</span></a></span><span>
</span><span id="line-157"></span><span>      </span><span class="annot"><a href="#local-6989586621679136998"><span class="hs-identifier hs-type">genNonAdaTokenName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span>
</span><span id="line-158"></span><span>      </span><span id="local-6989586621679136998"><span class="annot"><span class="annottext">genNonAdaTokenName :: Gen TokenName
</span><a href="#local-6989586621679136998"><span class="hs-identifier hs-var hs-var">genNonAdaTokenName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><span class="hs-identifier hs-var">PLA.TokenName</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; TokenName)
-&gt; ([Word8] -&gt; BuiltinByteString) -&gt; [Word8] -&gt; TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasToBuiltin a =&gt; a -&gt; ToBuiltin a
</span><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; ([Word8] -&gt; ByteString) -&gt; [Word8] -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span> </span><span class="annot"><span class="annottext">([Word8] -&gt; TokenName) -&gt; Gen [Word8] -&gt; Gen TokenName
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>          </span><span id="local-6989586621679137003"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137003"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Gen Int
</span><span class="hs-identifier hs-var">chooseInt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>          </span><span class="hs-comment">-- ASCII printable range</span><span>
</span><span id="line-162"></span><span>          </span><span class="annot"><span class="annottext">Int -&gt; Gen Word8 -&gt; Gen [Word8]
forall a. Int -&gt; Gen a -&gt; Gen [a]
</span><span class="hs-identifier hs-var">vectorOf</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137003"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Word8 -&gt; Gen [Word8])
-&gt; ((Word8, Word8) -&gt; Gen Word8) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8, Word8) -&gt; Gen Word8
forall a. (Bounded a, Integral a) =&gt; (a, a) -&gt; Gen a
</span><span class="hs-identifier hs-var">chooseBoundedIntegral</span></span><span> </span><span class="annot"><span class="annottext">((Word8, Word8) -&gt; Gen [Word8]) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">33</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">126</span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">shrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679137020"><span class="annot"><span class="annottext">shrink :: UTxOValue -&gt; [UTxOValue]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-type">UTxOValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span> </span><span id="local-6989586621679137021"><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
</span><a href="#local-6989586621679137021"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; UTxOValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-var">UTxOValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; UTxOValue)
-&gt; (Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; Map CurrencySymbol (Map TokenName Integer)
-&gt; UTxOValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">Value.Value</span></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer) -&gt; UTxOValue)
-&gt; [Map CurrencySymbol (Map TokenName Integer)] -&gt; [UTxOValue]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-166"></span><span>      </span><span class="hs-comment">-- To ensure we don't break anything, we shrink in only two ways:</span><span>
</span><span id="line-167"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-comment">-- 1. Dropping keys (outer or inner)</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-comment">-- 2. Shrinking amounts</span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span>      </span><span class="hs-comment">-- To make this a bit easier on ourselves, we first 'unpack' the Value</span><span>
</span><span id="line-172"></span><span>      </span><span class="hs-comment">-- completely, shrink the resulting (nested) list, then 'repack'. As neither</span><span>
</span><span id="line-173"></span><span>      </span><span class="hs-comment">-- of these changes affect order or uniqueness, we're safe.</span><span>
</span><span id="line-174"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679137022"><span class="annot"><span class="annottext">asList :: [(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137022"><span class="hs-identifier hs-var hs-var">asList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Map TokenName Integer -&gt; [(TokenName, Integer)])
-&gt; (CurrencySymbol, Map TokenName Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
forall a b. (a -&gt; b) -&gt; (CurrencySymbol, a) -&gt; (CurrencySymbol, b)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Map TokenName Integer -&gt; [(TokenName, Integer)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">AssocMap.toList</span></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, Map TokenName Integer)
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [(CurrencySymbol, Map TokenName Integer)]
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">AssocMap.toList</span></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
</span><a href="#local-6989586621679137021"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-175"></span><span>      </span><span id="local-6989586621679137024"><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137024"><span class="hs-identifier hs-var">shrunk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)])
 -&gt; [(CurrencySymbol, [(TokenName, Integer)])])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [[(CurrencySymbol, [(TokenName, Integer)])]]
forall a. (a -&gt; [a]) -&gt; [a] -&gt; [[a]]
forall (f :: Type -&gt; Type) a.
Arbitrary1 f =&gt;
(a -&gt; [a]) -&gt; f a -&gt; [f a]
</span><span class="hs-identifier hs-var">liftShrink</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679137025"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137025"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679137026"><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137026"><span class="hs-identifier hs-var">inner</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137025"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)]
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [[(TokenName, Integer)]]
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; [(TokenName, Integer)] -&gt; [[(TokenName, Integer)]]
forall a. (a -&gt; [a]) -&gt; [a] -&gt; [[a]]
forall (f :: Type -&gt; Type) a.
Arbitrary1 f =&gt;
(a -&gt; [a]) -&gt; f a -&gt; [f a]
</span><span class="hs-identifier hs-var">liftShrink</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679137027"><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137027"><span class="hs-identifier hs-var">tn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679137028"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137028"><span class="hs-identifier hs-var">amount</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137027"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; (TokenName, Integer))
-&gt; (Positive Integer -&gt; Integer)
-&gt; Positive Integer
-&gt; (TokenName, Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Positive Integer -&gt; Integer
forall a. Positive a -&gt; a
</span><span class="hs-identifier hs-var">getPositive</span></span><span> </span><span class="annot"><span class="annottext">(Positive Integer -&gt; (TokenName, Integer))
-&gt; [Positive Integer] -&gt; [(TokenName, Integer)]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Positive Integer -&gt; [Positive Integer]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">shrink</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Positive Integer
forall a. a -&gt; Positive a
</span><span class="hs-identifier hs-var">Positive</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137028"><span class="hs-identifier hs-var">amount</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137026"><span class="hs-identifier hs-var">inner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137022"><span class="hs-identifier hs-var">asList</span></a></span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall a. a -&gt; [a]
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer)
 -&gt; [Map CurrencySymbol (Map TokenName Integer)])
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])]
    -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, Map TokenName Integer)]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, Map TokenName Integer)]
 -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])]
    -&gt; [(CurrencySymbol, Map TokenName Integer)])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)])
 -&gt; (CurrencySymbol, Map TokenName Integer))
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; Map TokenName Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
-&gt; (CurrencySymbol, Map TokenName Integer)
forall a b. (a -&gt; b) -&gt; (CurrencySymbol, a) -&gt; (CurrencySymbol, b)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)] -&gt; Map TokenName Integer
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, [(TokenName, Integer)])]
 -&gt; [Map CurrencySymbol (Map TokenName Integer)])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137024"><span class="hs-identifier hs-var">shrunk</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-179"></span><span id="local-6989586621679137030"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-type">UTxOValue</span></a></span></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-type">UTxOValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-184"></span><span>  </span><span id="local-6989586621679137040"><span class="annot"><span class="annottext">function :: forall b. (UTxOValue -&gt; b) -&gt; UTxOValue :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UTxOValue -&gt; Value)
-&gt; (Value -&gt; UTxOValue) -&gt; (UTxOValue -&gt; b) -&gt; UTxOValue :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">UTxOValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; UTxOValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-var">UTxOValue</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-187"></span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getUtxoValue"><span class="hs-identifier hs-type">getUtxoValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#UTxOValue"><span class="hs-identifier hs-type">UTxOValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-188"></span><span id="getUtxoValue"><span class="annot"><span class="annottext">getUtxoValue :: UTxOValue -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#getUtxoValue"><span class="hs-identifier hs-var hs-var">getUtxoValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTxOValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><span class="hs-comment">{- | A 'PLA.Value' that contains zero Ada.

= Note

This is designed to act as a modifier, and thus, we expose the constructor
even though it preserves invariants. If you use the constructor directly,
be /very/ certain that the Value being wrapped satisfies the invariants
described above: failing to do so means all guarantees of this type are off
the table.

@since 1.0.0
-}</span></span><span>
</span><span id="line-202"></span><span class="hs-keyword">newtype</span><span> </span><span id="NonAdaValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-var">NonAdaValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NonAdaValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-var">NonAdaValue</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-205"></span><span>      </span><span id="local-6989586621679137043"><span id="local-6989586621679137047"><span class="annot"><span class="annottext">NonAdaValue -&gt; NonAdaValue -&gt; Bool
(NonAdaValue -&gt; NonAdaValue -&gt; Bool)
-&gt; (NonAdaValue -&gt; NonAdaValue -&gt; Bool) -&gt; Eq NonAdaValue
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: NonAdaValue -&gt; NonAdaValue -&gt; Bool
== :: NonAdaValue -&gt; NonAdaValue -&gt; Bool
$c/= :: NonAdaValue -&gt; NonAdaValue -&gt; Bool
/= :: NonAdaValue -&gt; NonAdaValue -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-210"></span><span>      </span><span id="local-6989586621679137052"><span id="local-6989586621679137056"><span id="local-6989586621679137060"><span class="annot"><span class="annottext">Int -&gt; NonAdaValue -&gt; ShowS
[NonAdaValue] -&gt; ShowS
NonAdaValue -&gt; String
(Int -&gt; NonAdaValue -&gt; ShowS)
-&gt; (NonAdaValue -&gt; String)
-&gt; ([NonAdaValue] -&gt; ShowS)
-&gt; Show NonAdaValue
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; NonAdaValue -&gt; ShowS
showsPrec :: Int -&gt; NonAdaValue -&gt; ShowS
$cshow :: NonAdaValue -&gt; String
show :: NonAdaValue -&gt; String
$cshowList :: [NonAdaValue] -&gt; ShowS
showList :: [NonAdaValue] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-214"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-type">NonAdaValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-216"></span><span>  </span><span id="local-6989586621679137103"><span class="annot"><span class="annottext">arbitrary :: Gen NonAdaValue
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; NonAdaValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-var">NonAdaValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; NonAdaValue) -&gt; Gen Value -&gt; Gen NonAdaValue
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-218"></span><span>      </span><span class="hs-comment">-- Generate a set of currency symbols that aren't Ada</span><span>
</span><span id="line-219"></span><span>      </span><span id="local-6989586621679137104"><span class="annot"><span class="annottext">Set CurrencySymbol
</span><a href="#local-6989586621679137104"><span class="hs-identifier hs-var">keySet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CurrencySymbol] -&gt; Set CurrencySymbol
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([CurrencySymbol] -&gt; Set CurrencySymbol)
-&gt; Gen [CurrencySymbol] -&gt; Gen (Set CurrencySymbol)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen CurrencySymbol -&gt; Gen [CurrencySymbol]
forall a. Gen a -&gt; Gen [a]
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.CurrencySymbol</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; CurrencySymbol)
-&gt; (Blake2b244Hash -&gt; BuiltinByteString)
-&gt; Blake2b244Hash
-&gt; CurrencySymbol
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Blake2b244Hash -&gt; BuiltinByteString
</span><a href="PlutusLedgerApi.Orphans.Common.html#getBlake2b244Hash"><span class="hs-identifier hs-var">getBlake2b244Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(Blake2b244Hash -&gt; CurrencySymbol)
-&gt; Gen Blake2b244Hash -&gt; Gen CurrencySymbol
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen Blake2b244Hash
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679137105"><span class="annot"><span class="annottext">keyList :: [CurrencySymbol]
</span><a href="#local-6989586621679137105"><span class="hs-identifier hs-var hs-var">keyList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CurrencySymbol -&gt; [CurrencySymbol]
forall a. Set a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set CurrencySymbol
</span><a href="#local-6989586621679137104"><span class="hs-identifier hs-var">keySet</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span class="hs-comment">-- For each key, generate a set of token name keys that aren't Ada</span><span>
</span><span id="line-222"></span><span>      </span><span id="local-6989586621679137106"><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137106"><span class="hs-identifier hs-var">keyVals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [CurrencySymbol]
-&gt; Gen [(CurrencySymbol, [(TokenName, Integer)])]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Int)
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall a. (Int -&gt; Int) -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">scale</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#quot"><span class="hs-operator hs-var">`quot`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Gen (CurrencySymbol, [(TokenName, Integer)])
 -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; (CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; CurrencySymbol
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
</span><a href="#local-6989586621679137107"><span class="hs-identifier hs-var">mkInner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CurrencySymbol]
</span><a href="#local-6989586621679137105"><span class="hs-identifier hs-var">keyList</span></a></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><span class="annottext">Value -&gt; Gen Value
forall a. a -&gt; Gen a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-224"></span><span>        </span><span class="annot"><span class="annottext">(Value -&gt; Gen Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Gen Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#withZeroAda"><span class="hs-identifier hs-var">withZeroAda</span></a></span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><span class="annottext">(Value -&gt; Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)]) -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: Type -&gt; Type) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679137110"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137110"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679137111"><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137111"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((TokenName, Integer) -&gt; Value) -&gt; [(TokenName, Integer)] -&gt; Value
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: Type -&gt; Type) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TokenName -&gt; Integer -&gt; Value) -&gt; (TokenName, Integer) -&gt; Value
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#uncurry"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><span class="hs-identifier hs-var">Value.singleton</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137110"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137111"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><span class="annottext">([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Gen Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])] -&gt; Gen Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137106"><span class="hs-identifier hs-var">keyVals</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><a href="#local-6989586621679137107"><span class="hs-identifier hs-type">mkInner</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>      </span><span id="local-6989586621679137107"><span class="annot"><span class="annottext">mkInner :: CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
</span><a href="#local-6989586621679137107"><span class="hs-identifier hs-var hs-var">mkInner</span></a></span></span><span> </span><span id="local-6989586621679137114"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137114"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-230"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137114"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)]
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; (NonEmptyList (TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; NonEmptyList (TokenName, Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Set (TokenName, Integer) -&gt; [(TokenName, Integer)]
forall a. Set a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; (NonEmptyList (TokenName, Integer) -&gt; Set (TokenName, Integer))
-&gt; NonEmptyList (TokenName, Integer)
-&gt; [(TokenName, Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)] -&gt; Set (TokenName, Integer)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; Set (TokenName, Integer))
-&gt; (NonEmptyList (TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; NonEmptyList (TokenName, Integer)
-&gt; Set (TokenName, Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmptyList (TokenName, Integer) -&gt; [(TokenName, Integer)]
forall a. NonEmptyList a -&gt; [a]
</span><span class="hs-identifier hs-var">getNonEmpty</span></span><span> </span><span class="annot"><span class="annottext">(NonEmptyList (TokenName, Integer)
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; Gen (NonEmptyList (TokenName, Integer))
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (TokenName, Integer) -&gt; Gen (NonEmptyList (TokenName, Integer))
forall a. Gen a -&gt; Gen (NonEmptyList a)
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TokenName -&gt; Integer -&gt; (TokenName, Integer))
-&gt; Gen TokenName -&gt; Gen (Integer -&gt; (TokenName, Integer))
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen TokenName
</span><a href="#local-6989586621679137115"><span class="hs-identifier hs-var">genNonAdaTokenName</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Integer -&gt; (TokenName, Integer))
-&gt; Gen Integer -&gt; Gen (TokenName, Integer)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen Integer
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><a href="#local-6989586621679137115"><span class="hs-identifier hs-type">genNonAdaTokenName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span>
</span><span id="line-232"></span><span>      </span><span id="local-6989586621679137115"><span class="annot"><span class="annottext">genNonAdaTokenName :: Gen TokenName
</span><a href="#local-6989586621679137115"><span class="hs-identifier hs-var hs-var">genNonAdaTokenName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Word8] -&gt; TokenName) -&gt; Gen [Word8] -&gt; Gen TokenName
forall a b. (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><span class="hs-identifier hs-var">PLA.TokenName</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; TokenName)
-&gt; ([Word8] -&gt; BuiltinByteString) -&gt; [Word8] -&gt; TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasToBuiltin a =&gt; a -&gt; ToBuiltin a
</span><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; ([Word8] -&gt; ByteString) -&gt; [Word8] -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Gen [Word8] -&gt; Gen TokenName)
-&gt; ((Int -&gt; Gen [Word8]) -&gt; Gen [Word8])
-&gt; (Int -&gt; Gen [Word8])
-&gt; Gen TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Gen [Word8]) -&gt; Gen [Word8]
forall a. (Int -&gt; Gen a) -&gt; Gen a
</span><span class="hs-identifier hs-var">sized</span></span><span> </span><span class="annot"><span class="annottext">((Int -&gt; Gen [Word8]) -&gt; Gen TokenName)
-&gt; (Int -&gt; Gen [Word8]) -&gt; Gen TokenName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679137116"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137116"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-233"></span><span>        </span><span id="local-6989586621679137117"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137117"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Gen Int -&gt; Gen Int
forall a. HasCallStack =&gt; Int -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">resize</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137116"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Int -&gt; Gen Int)
-&gt; ((Int, Int) -&gt; Gen Int) -&gt; (Int, Int) -&gt; Gen Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Gen Int
</span><span class="hs-identifier hs-var">chooseInt</span></span><span> </span><span class="annot"><span class="annottext">((Int, Int) -&gt; Gen Int) -&gt; (Int, Int) -&gt; Gen Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Gen Word8 -&gt; Gen [Word8]
forall a. Int -&gt; Gen a -&gt; Gen [a]
</span><span class="hs-identifier hs-var">vectorOf</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137117"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Word8 -&gt; Gen [Word8])
-&gt; ((Word8, Word8) -&gt; Gen Word8) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8, Word8) -&gt; Gen Word8
forall a. (Bounded a, Integral a) =&gt; (a, a) -&gt; Gen a
</span><span class="hs-identifier hs-var">chooseBoundedIntegral</span></span><span> </span><span class="annot"><span class="annottext">((Word8, Word8) -&gt; Gen [Word8]) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">33</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">126</span></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">shrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-comment">-- Since we can't shrink keys anyway, we just borrow the stock shrinker</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621679137121"><span class="annot"><span class="annottext">shrink :: NonAdaValue -&gt; [NonAdaValue]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-type">NonAdaValue</span></a></span><span> </span><span id="local-6989586621679137122"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679137122"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; NonAdaValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-var">NonAdaValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; NonAdaValue) -&gt; (Value -&gt; Value) -&gt; Value -&gt; NonAdaValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#withZeroAda"><span class="hs-identifier hs-var">withZeroAda</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; NonAdaValue) -&gt; [Value] -&gt; [NonAdaValue]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; [Value]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">shrink</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679137122"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-240"></span><span id="local-6989586621679137124"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-type">NonAdaValue</span></a></span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-type">NonAdaValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679137132"><span class="annot"><span class="annottext">function :: forall b. (NonAdaValue -&gt; b) -&gt; NonAdaValue :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NonAdaValue -&gt; Value)
-&gt; (Value -&gt; NonAdaValue)
-&gt; (NonAdaValue -&gt; b)
-&gt; NonAdaValue :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">NonAdaValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; NonAdaValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-var">NonAdaValue</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-248"></span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getNonAdaValue"><span class="hs-identifier hs-type">getNonAdaValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#NonAdaValue"><span class="hs-identifier hs-type">NonAdaValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-249"></span><span id="getNonAdaValue"><span class="annot"><span class="annottext">getNonAdaValue :: NonAdaValue -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#getNonAdaValue"><span class="hs-identifier hs-var hs-var">getNonAdaValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonAdaValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="annot"><span class="hs-comment">{- | This is the most general possible instance for 'PLA.Value'. In particular,
this can have zero values, and does not treat the Ada symbol or token name
specially.

@since 1.0.0
-}</span></span><span>
</span><span id="line-257"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621679137147"><span class="annot"><span class="annottext">arbitrary :: Gen Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">PLA.Value</span></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; Gen (Map CurrencySymbol (Map TokenName Integer)) -&gt; Gen Value
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Map TokenName Integer)
-&gt; Gen (Map CurrencySymbol (Map TokenName Integer))
forall a. Gen a -&gt; Gen (Map CurrencySymbol a)
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Int)
-&gt; Gen (Map TokenName Integer) -&gt; Gen (Map TokenName Integer)
forall a. (Int -&gt; Int) -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">scale</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#quot"><span class="hs-operator hs-var">`quot`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Gen (Map TokenName Integer)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">shrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-261"></span><span>  </span><span id="local-6989586621679137156"><span class="annot"><span class="annottext">shrink :: Value -&gt; [Value]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; [Map CurrencySymbol (Map TokenName Integer)] -&gt; [Value]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">PLA.Value</span></span><span> </span><span class="annot"><span class="annottext">([Map CurrencySymbol (Map TokenName Integer)] -&gt; [Value])
-&gt; (Value -&gt; [Map CurrencySymbol (Map TokenName Integer)])
-&gt; Value
-&gt; [Value]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">shrink</span></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer)
 -&gt; [Map CurrencySymbol (Map TokenName Integer)])
-&gt; (Value -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; Value
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Map CurrencySymbol (Map TokenName Integer)
</span><span class="hs-identifier hs-var">PLA.getValue</span></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-264"></span><span id="local-6989586621679137159"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AssocMap.Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AssocMap.Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-270"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621679137175"><span class="annot"><span class="annottext">function :: forall b. (Value -&gt; b) -&gt; Value :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; (Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; (Value -&gt; b)
-&gt; Value :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Map CurrencySymbol (Map TokenName Integer)
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">PLA.Value</span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="annot"><span class="hs-comment">{- | This instance can generate the Ada token name, with faithful odds. It is
limited to generating printable ASCII names, rather than the full UTF-8
range. We did this for two reasons:

1. For testing purposes, we should prioritize readability, hence our choice
   of a textual representation; and
2. It is difficult to work within the size limit (32 bytes) when generating
   UTF-8.

@since 1.0.0
-}</span></span><span>
</span><span id="line-285"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621679137187"><span class="annot"><span class="annottext">arbitrary :: Gen TokenName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><span class="annottext">([Word8] -&gt; TokenName) -&gt; Gen [Word8] -&gt; Gen TokenName
forall a b. (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><span class="hs-identifier hs-var">PLA.TokenName</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; TokenName)
-&gt; ([Word8] -&gt; BuiltinByteString) -&gt; [Word8] -&gt; TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasToBuiltin a =&gt; a -&gt; ToBuiltin a
</span><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; ([Word8] -&gt; ByteString) -&gt; [Word8] -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Gen [Word8] -&gt; Gen TokenName)
-&gt; ((Int -&gt; Gen [Word8]) -&gt; Gen [Word8])
-&gt; (Int -&gt; Gen [Word8])
-&gt; Gen TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Gen [Word8]) -&gt; Gen [Word8]
forall a. (Int -&gt; Gen a) -&gt; Gen a
</span><span class="hs-identifier hs-var">sized</span></span><span> </span><span class="annot"><span class="annottext">((Int -&gt; Gen [Word8]) -&gt; Gen TokenName)
-&gt; (Int -&gt; Gen [Word8]) -&gt; Gen TokenName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679137188"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137188"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-289"></span><span>      </span><span class="hs-comment">-- We want the length to be size-dependent</span><span>
</span><span id="line-290"></span><span>      </span><span id="local-6989586621679137189"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137189"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Gen Int -&gt; Gen Int
forall a. HasCallStack =&gt; Int -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">resize</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137188"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Int -&gt; Gen Int)
-&gt; ((Int, Int) -&gt; Gen Int) -&gt; (Int, Int) -&gt; Gen Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Gen Int
</span><span class="hs-identifier hs-var">chooseInt</span></span><span> </span><span class="annot"><span class="annottext">((Int, Int) -&gt; Gen Int) -&gt; (Int, Int) -&gt; Gen Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>      </span><span class="hs-comment">-- But the bytes themselves should not be: the whole ASCII printable range</span><span>
</span><span id="line-292"></span><span>      </span><span class="hs-comment">-- should be available always</span><span>
</span><span id="line-293"></span><span>      </span><span class="annot"><span class="annottext">Int -&gt; Gen Word8 -&gt; Gen [Word8]
forall a. Int -&gt; Gen a -&gt; Gen [a]
</span><span class="hs-identifier hs-var">vectorOf</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137189"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Word8 -&gt; Gen [Word8])
-&gt; ((Word8, Word8) -&gt; Gen Word8) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8, Word8) -&gt; Gen Word8
forall a. (Bounded a, Integral a) =&gt; (a, a) -&gt; Gen a
</span><span class="hs-identifier hs-var">chooseBoundedIntegral</span></span><span> </span><span class="annot"><span class="annottext">((Word8, Word8) -&gt; Gen [Word8]) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">33</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">126</span></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">shrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679137210"><span class="annot"><span class="annottext">shrink :: TokenName -&gt; [TokenName]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></span></span><span> </span><span id="local-6989586621679137211"><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137211"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><span class="hs-identifier hs-var">PLA.TokenName</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; TokenName)
-&gt; (ByteString -&gt; BuiltinByteString) -&gt; ByteString -&gt; TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasToBuiltin a =&gt; a -&gt; ToBuiltin a
</span><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; TokenName) -&gt; [ByteString] -&gt; [TokenName]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-297"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679137212"><span class="annot"><span class="annottext">asList :: [Word8]
</span><a href="#local-6989586621679137212"><span class="hs-identifier hs-var hs-var">asList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Word8]
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#unpack"><span class="hs-identifier hs-var">BS.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; [Word8])
-&gt; (TokenName -&gt; ByteString) -&gt; TokenName -&gt; [Word8]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall arep. HasFromBuiltin arep =&gt; arep -&gt; FromBuiltin arep
</span><span class="hs-identifier hs-var">PlutusTx.fromBuiltin</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; ByteString)
-&gt; (TokenName -&gt; BuiltinByteString) -&gt; TokenName -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName -&gt; BuiltinByteString
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">(TokenName -&gt; [Word8]) -&gt; TokenName -&gt; [Word8]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137211"><span class="hs-identifier hs-var">tn</span></a></span><span>
</span><span id="line-298"></span><span>      </span><span id="local-6989586621679137215"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679137215"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span> </span><span class="annot"><span class="annottext">([Word8] -&gt; ByteString) -&gt; [[Word8]] -&gt; [ByteString]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; [[Word8]]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">shrink</span></span><span> </span><span class="annot"><span class="annottext">[Word8]
</span><a href="#local-6989586621679137212"><span class="hs-identifier hs-var">asList</span></a></span><span>
</span><span id="line-299"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; [()]
forall (f :: Type -&gt; Type). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#guard"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word8 -&gt; Bool) -&gt; ByteString -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#all"><span class="hs-identifier hs-var">BS.all</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679137217"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679137217"><span class="hs-identifier hs-var">w8</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679137217"><span class="hs-identifier hs-var">w8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">33</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621679137217"><span class="hs-identifier hs-var">w8</span></a></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">126</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679137215"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
forall a. a -&gt; [a]
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679137215"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-303"></span><span id="local-6989586621679137221"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.BuiltinByteString</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span></span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-306"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621679137227"><span class="annot"><span class="annottext">function :: forall b. (TokenName -&gt; b) -&gt; TokenName :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TokenName -&gt; BuiltinByteString)
-&gt; (BuiltinByteString -&gt; TokenName)
-&gt; (TokenName -&gt; b)
-&gt; TokenName :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">TokenName -&gt; BuiltinByteString
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><span class="hs-identifier hs-var">PLA.TokenName</span></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-comment">-- Helpers</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="hs-comment">-- This is frankly a bizarre omission</span><span>
</span><span id="line-313"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmptyList</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">liftArbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621679137236"><span class="annot"><span class="annottext">liftArbitrary :: forall a. Gen a -&gt; Gen (NonEmptyList a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">liftArbitrary</span></span></span><span> </span><span id="local-6989586621679137237"><span class="annot"><span class="annottext">Gen a
</span><a href="#local-6989586621679137237"><span class="hs-identifier hs-var">genInner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-316"></span><span>    </span><span class="annot"><span class="annottext">[a] -&gt; NonEmptyList a
forall a. [a] -&gt; NonEmptyList a
</span><span class="hs-identifier hs-var">NonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; NonEmptyList a) -&gt; Gen [a] -&gt; Gen (NonEmptyList a)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-317"></span><span>      </span><span id="local-6989586621679137238"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679137238"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Gen a
</span><a href="#local-6989586621679137237"><span class="hs-identifier hs-var">genInner</span></a></span><span>
</span><span id="line-318"></span><span>      </span><span id="local-6989586621679137239"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679137239"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Gen a -&gt; Gen [a]
forall a. Gen a -&gt; Gen [a]
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen a
</span><a href="#local-6989586621679137237"><span class="hs-identifier hs-var">genInner</span></a></span><span>
</span><span id="line-319"></span><span>      </span><span class="annot"><span class="annottext">[a] -&gt; Gen [a]
forall a. a -&gt; Gen a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Gen [a]) -&gt; [a] -&gt; Gen [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679137238"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679137239"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">liftShrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-321"></span><span>  </span><span id="local-6989586621679137244"><span class="annot"><span class="annottext">liftShrink :: forall a. (a -&gt; [a]) -&gt; NonEmptyList a -&gt; [NonEmptyList a]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">liftShrink</span></span></span><span> </span><span id="local-6989586621679137245"><span class="annot"><span class="annottext">a -&gt; [a]
</span><a href="#local-6989586621679137245"><span class="hs-identifier hs-var">shrinkInner</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span id="local-6989586621679137246"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679137246"><span class="hs-identifier hs-var">ell</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="annottext">[a] -&gt; NonEmptyList a
forall a. [a] -&gt; NonEmptyList a
</span><span class="hs-identifier hs-var">NonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; NonEmptyList a) -&gt; [[a]] -&gt; [NonEmptyList a]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679137246"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-324"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679137247"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679137247"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679137248"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679137248"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; [a] -&gt; [a]) -&gt; [a] -&gt; [[a] -&gt; [a]]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a]
</span><a href="#local-6989586621679137245"><span class="hs-identifier hs-var">shrinkInner</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679137247"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[[a] -&gt; [a]] -&gt; [[a]] -&gt; [[a]]
forall a b. [a -&gt; b] -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; [a]) -&gt; [a] -&gt; [[a]]
forall a. (a -&gt; [a]) -&gt; [a] -&gt; [[a]]
forall (f :: Type -&gt; Type) a.
Arbitrary1 f =&gt;
(a -&gt; [a]) -&gt; f a -&gt; [f a]
</span><span class="hs-identifier hs-var">liftShrink</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a]
</span><a href="#local-6989586621679137245"><span class="hs-identifier hs-var">shrinkInner</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679137248"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="annot"><span class="hs-comment">{- | A 'PLA.Value' containing only Ada, suitable for fees. Furthermore, the
Ada quantity is positive.

= Note

This is designed to act as a modifier, and thus, we expose the constructor
even though it preserves invariants. If you use the constructor directly,
be /very/ certain that the Value being wrapped satisfies the invariants
described above: failing to do so means all guarantees of this type are off
the table.

@since 1.0.0
-}</span></span><span>
</span><span id="line-339"></span><span class="hs-keyword">newtype</span><span> </span><span id="FeeValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-var">FeeValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FeeValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-var">FeeValue</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-342"></span><span>      </span><span id="local-6989586621679137251"><span id="local-6989586621679137255"><span class="annot"><span class="annottext">FeeValue -&gt; FeeValue -&gt; Bool
(FeeValue -&gt; FeeValue -&gt; Bool)
-&gt; (FeeValue -&gt; FeeValue -&gt; Bool) -&gt; Eq FeeValue
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: FeeValue -&gt; FeeValue -&gt; Bool
== :: FeeValue -&gt; FeeValue -&gt; Bool
$c/= :: FeeValue -&gt; FeeValue -&gt; Bool
/= :: FeeValue -&gt; FeeValue -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-343"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-347"></span><span>      </span><span id="local-6989586621679137260"><span id="local-6989586621679137264"><span id="local-6989586621679137268"><span class="annot"><span class="annottext">Int -&gt; FeeValue -&gt; ShowS
[FeeValue] -&gt; ShowS
FeeValue -&gt; String
(Int -&gt; FeeValue -&gt; ShowS)
-&gt; (FeeValue -&gt; String) -&gt; ([FeeValue] -&gt; ShowS) -&gt; Show FeeValue
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FeeValue -&gt; ShowS
showsPrec :: Int -&gt; FeeValue -&gt; ShowS
$cshow :: FeeValue -&gt; String
show :: FeeValue -&gt; String
$cshowList :: [FeeValue] -&gt; ShowS
showList :: [FeeValue] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-351"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-type">FeeValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-353"></span><span>  </span><span id="local-6989586621679137277"><span class="annot"><span class="annottext">arbitrary :: Gen FeeValue
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; FeeValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-var">FeeValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; FeeValue)
-&gt; (Positive Integer -&gt; Value) -&gt; Positive Integer -&gt; FeeValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><span class="hs-identifier hs-var">PLA.singleton</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.adaSymbol</span></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><span class="hs-identifier hs-var">PLA.adaToken</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Value)
-&gt; (Positive Integer -&gt; Integer) -&gt; Positive Integer -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Positive Integer -&gt; Integer
forall a. Positive a -&gt; a
</span><span class="hs-identifier hs-var">getPositive</span></span><span> </span><span class="annot"><span class="annottext">(Positive Integer -&gt; FeeValue)
-&gt; Gen (Positive Integer) -&gt; Gen FeeValue
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Positive Integer)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">shrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-355"></span><span>  </span><span id="local-6989586621679137284"><span class="annot"><span class="annottext">shrink :: FeeValue -&gt; [FeeValue]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-type">FeeValue</span></a></span><span> </span><span id="local-6989586621679137285"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679137285"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; FeeValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-var">FeeValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; FeeValue) -&gt; (Integer -&gt; Value) -&gt; Integer -&gt; FeeValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><span class="hs-identifier hs-var">PLA.singleton</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.adaSymbol</span></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><span class="hs-identifier hs-var">PLA.adaToken</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; FeeValue) -&gt; [Integer] -&gt; [FeeValue]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-357"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679137286"><span class="annot"><span class="annottext">adaAmount :: Integer
</span><a href="#local-6989586621679137286"><span class="hs-identifier hs-var hs-var">adaAmount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; CurrencySymbol -&gt; TokenName -&gt; Integer
</span><span class="hs-identifier hs-var">Value.valueOf</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679137285"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.adaSymbol</span></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><span class="hs-identifier hs-var">PLA.adaToken</span></span><span>
</span><span id="line-358"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Positive</span></span><span> </span><span id="local-6989586621679137288"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137288"><span class="hs-identifier hs-var">adaAmount'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Positive Integer -&gt; [Positive Integer]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">shrink</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Positive Integer
forall a. a -&gt; Positive a
</span><span class="hs-identifier hs-var">Positive</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137286"><span class="hs-identifier hs-var">adaAmount</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><span class="annottext">Integer -&gt; [Integer]
forall a. a -&gt; [a]
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137288"><span class="hs-identifier hs-var">adaAmount'</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-362"></span><span id="local-6989586621679137290"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-type">FeeValue</span></a></span></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-365"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-type">FeeValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-367"></span><span>  </span><span id="local-6989586621679137298"><span class="annot"><span class="annottext">function :: forall b. (FeeValue -&gt; b) -&gt; FeeValue :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FeeValue -&gt; Value)
-&gt; (Value -&gt; FeeValue) -&gt; (FeeValue -&gt; b) -&gt; FeeValue :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">FeeValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; FeeValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-var">FeeValue</span></a></span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.0</span></span><span>
</span><span id="line-370"></span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getFeeValue"><span class="hs-identifier hs-type">getFeeValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#FeeValue"><span class="hs-identifier hs-type">FeeValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-371"></span><span id="getFeeValue"><span class="annot"><span class="annottext">getFeeValue :: FeeValue -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#getFeeValue"><span class="hs-identifier hs-var hs-var">getFeeValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FeeValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="annot"><span class="hs-comment">{- | Similar to 'NonAdaValue', but also does not have nonzero amounts.

= Note

This is designed to act as a modifier, and thus, we expose the constructor
even though it preserves invariants. If you use the constructor directly,
be /very/ certain that the Value being wrapped satisfies the invariants
described above: failing to do so means all guarantees of this type are off
the table.

@since 1.0.3
-}</span></span><span>
</span><span id="line-385"></span><span class="hs-keyword">newtype</span><span> </span><span id="MintValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-var">MintValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MintValue"><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-var">MintValue</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.3</span></span><span>
</span><span id="line-388"></span><span>      </span><span id="local-6989586621679137301"><span id="local-6989586621679137305"><span class="annot"><span class="annottext">MintValue -&gt; MintValue -&gt; Bool
(MintValue -&gt; MintValue -&gt; Bool)
-&gt; (MintValue -&gt; MintValue -&gt; Bool) -&gt; Eq MintValue
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: MintValue -&gt; MintValue -&gt; Bool
== :: MintValue -&gt; MintValue -&gt; Bool
$c/= :: MintValue -&gt; MintValue -&gt; Bool
/= :: MintValue -&gt; MintValue -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.0.3</span></span><span>
</span><span id="line-393"></span><span>      </span><span id="local-6989586621679137310"><span id="local-6989586621679137314"><span id="local-6989586621679137318"><span class="annot"><span class="annottext">Int -&gt; MintValue -&gt; ShowS
[MintValue] -&gt; ShowS
MintValue -&gt; String
(Int -&gt; MintValue -&gt; ShowS)
-&gt; (MintValue -&gt; String)
-&gt; ([MintValue] -&gt; ShowS)
-&gt; Show MintValue
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; MintValue -&gt; ShowS
showsPrec :: Int -&gt; MintValue -&gt; ShowS
$cshow :: MintValue -&gt; String
show :: MintValue -&gt; String
$cshowList :: [MintValue] -&gt; ShowS
showList :: [MintValue] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-comment">-- @since 1.1.0</span><span>
</span><span id="line-397"></span><span id="local-6989586621679137321"><span id="local-6989586621679137325"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-type">MintValue</span></a></span></span></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.3</span></span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-type">MintValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">arbitrary</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-402"></span><span>  </span><span id="local-6989586621679137369"><span class="annot"><span class="annottext">arbitrary :: Gen MintValue
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; MintValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-var">MintValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; MintValue) -&gt; Gen Value -&gt; Gen MintValue
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-404"></span><span>      </span><span class="hs-comment">-- Generate a set of currency symbols that aren't Ada</span><span>
</span><span id="line-405"></span><span>      </span><span id="local-6989586621679137370"><span class="annot"><span class="annottext">Set CurrencySymbol
</span><a href="#local-6989586621679137370"><span class="hs-identifier hs-var">keySet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CurrencySymbol] -&gt; Set CurrencySymbol
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([CurrencySymbol] -&gt; Set CurrencySymbol)
-&gt; Gen [CurrencySymbol] -&gt; Gen (Set CurrencySymbol)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen CurrencySymbol -&gt; Gen [CurrencySymbol]
forall a. Gen a -&gt; Gen [a]
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><span class="hs-identifier hs-var">PLA.CurrencySymbol</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; CurrencySymbol)
-&gt; (Blake2b244Hash -&gt; BuiltinByteString)
-&gt; Blake2b244Hash
-&gt; CurrencySymbol
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Blake2b244Hash -&gt; BuiltinByteString
</span><a href="PlutusLedgerApi.Orphans.Common.html#getBlake2b244Hash"><span class="hs-identifier hs-var">getBlake2b244Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(Blake2b244Hash -&gt; CurrencySymbol)
-&gt; Gen Blake2b244Hash -&gt; Gen CurrencySymbol
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen Blake2b244Hash
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679137371"><span class="annot"><span class="annottext">keyList :: [CurrencySymbol]
</span><a href="#local-6989586621679137371"><span class="hs-identifier hs-var hs-var">keyList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CurrencySymbol -&gt; [CurrencySymbol]
forall a. Set a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set CurrencySymbol
</span><a href="#local-6989586621679137370"><span class="hs-identifier hs-var">keySet</span></a></span><span>
</span><span id="line-407"></span><span>      </span><span class="hs-comment">-- For each key, generate a set of token name keys that aren't Ada</span><span>
</span><span id="line-408"></span><span>      </span><span id="local-6989586621679137372"><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137372"><span class="hs-identifier hs-var">keyVals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [CurrencySymbol]
-&gt; Gen [(CurrencySymbol, [(TokenName, Integer)])]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Int)
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall a. (Int -&gt; Int) -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">scale</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#quot"><span class="hs-operator hs-var">`quot`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Gen (CurrencySymbol, [(TokenName, Integer)])
 -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; (CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)]))
-&gt; CurrencySymbol
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
</span><a href="#local-6989586621679137373"><span class="hs-identifier hs-var">mkInner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CurrencySymbol]
</span><a href="#local-6989586621679137371"><span class="hs-identifier hs-var">keyList</span></a></span><span>
</span><span id="line-409"></span><span>      </span><span class="annot"><span class="annottext">Value -&gt; Gen Value
forall a. a -&gt; Gen a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-410"></span><span>        </span><span class="annot"><span class="annottext">(Value -&gt; Gen Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Gen Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#withZeroAda"><span class="hs-identifier hs-var">withZeroAda</span></a></span><span>
</span><span id="line-411"></span><span>        </span><span class="annot"><span class="annottext">(Value -&gt; Value)
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)]) -&gt; Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])] -&gt; Value
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: Type -&gt; Type) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679137374"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137374"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679137375"><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137375"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((TokenName, Integer) -&gt; Value) -&gt; [(TokenName, Integer)] -&gt; Value
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: Type -&gt; Type) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TokenName -&gt; Integer -&gt; Value) -&gt; (TokenName, Integer) -&gt; Value
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#uncurry"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><span class="hs-identifier hs-var">Value.singleton</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137374"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137375"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>        </span><span class="annot"><span class="annottext">([(CurrencySymbol, [(TokenName, Integer)])] -&gt; Gen Value)
-&gt; [(CurrencySymbol, [(TokenName, Integer)])] -&gt; Gen Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137372"><span class="hs-identifier hs-var">keyVals</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>      </span><span class="annot"><a href="#local-6989586621679137373"><span class="hs-identifier hs-type">mkInner</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLA.CurrencySymbol</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>      </span><span id="local-6989586621679137373"><span class="annot"><span class="annottext">mkInner :: CurrencySymbol -&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
</span><a href="#local-6989586621679137373"><span class="hs-identifier hs-var hs-var">mkInner</span></a></span></span><span> </span><span id="local-6989586621679137376"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137376"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-416"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137376"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>          </span><span class="annot"><span class="annottext">([(TokenName, Integer)]
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; (NonEmptyList (TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; NonEmptyList (TokenName, Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Set (TokenName, Integer) -&gt; [(TokenName, Integer)]
forall a. Set a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span>
</span><span id="line-418"></span><span>          </span><span class="annot"><span class="annottext">(Set (TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; (NonEmptyList (TokenName, Integer) -&gt; Set (TokenName, Integer))
-&gt; NonEmptyList (TokenName, Integer)
-&gt; [(TokenName, Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)] -&gt; Set (TokenName, Integer)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span>
</span><span id="line-419"></span><span>          </span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; Set (TokenName, Integer))
-&gt; (NonEmptyList (TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; NonEmptyList (TokenName, Integer)
-&gt; Set (TokenName, Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmptyList (TokenName, Integer) -&gt; [(TokenName, Integer)]
forall a. NonEmptyList a -&gt; [a]
</span><span class="hs-identifier hs-var">getNonEmpty</span></span><span>
</span><span id="line-420"></span><span>          </span><span class="annot"><span class="annottext">(NonEmptyList (TokenName, Integer)
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; Gen (NonEmptyList (TokenName, Integer))
-&gt; Gen (CurrencySymbol, [(TokenName, Integer)])
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (TokenName, Integer) -&gt; Gen (NonEmptyList (TokenName, Integer))
forall a. Gen a -&gt; Gen (NonEmptyList a)
forall (f :: Type -&gt; Type) a. Arbitrary1 f =&gt; Gen a -&gt; Gen (f a)
</span><span class="hs-identifier hs-var">liftArbitrary</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TokenName -&gt; Integer -&gt; (TokenName, Integer))
-&gt; Gen TokenName -&gt; Gen (Integer -&gt; (TokenName, Integer))
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen TokenName
</span><a href="#local-6989586621679137377"><span class="hs-identifier hs-var">genNonAdaTokenName</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Integer -&gt; (TokenName, Integer))
-&gt; Gen Integer -&gt; Gen (TokenName, Integer)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonZero Integer -&gt; Integer
forall a. NonZero a -&gt; a
</span><span class="hs-identifier hs-var">getNonZero</span></span><span> </span><span class="annot"><span class="annottext">(NonZero Integer -&gt; Integer)
-&gt; Gen (NonZero Integer) -&gt; Gen Integer
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (NonZero Integer)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>      </span><span class="annot"><a href="#local-6989586621679137377"><span class="hs-identifier hs-type">genNonAdaTokenName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.TokenName</span></span><span>
</span><span id="line-422"></span><span>      </span><span id="local-6989586621679137377"><span class="annot"><span class="annottext">genNonAdaTokenName :: Gen TokenName
</span><a href="#local-6989586621679137377"><span class="hs-identifier hs-var hs-var">genNonAdaTokenName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Word8] -&gt; TokenName) -&gt; Gen [Word8] -&gt; Gen TokenName
forall a b. (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><span class="hs-identifier hs-var">PLA.TokenName</span></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; TokenName)
-&gt; ([Word8] -&gt; BuiltinByteString) -&gt; [Word8] -&gt; TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasToBuiltin a =&gt; a -&gt; ToBuiltin a
</span><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; ([Word8] -&gt; ByteString) -&gt; [Word8] -&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Gen [Word8] -&gt; Gen TokenName)
-&gt; ((Int -&gt; Gen [Word8]) -&gt; Gen [Word8])
-&gt; (Int -&gt; Gen [Word8])
-&gt; Gen TokenName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Gen [Word8]) -&gt; Gen [Word8]
forall a. (Int -&gt; Gen a) -&gt; Gen a
</span><span class="hs-identifier hs-var">sized</span></span><span> </span><span class="annot"><span class="annottext">((Int -&gt; Gen [Word8]) -&gt; Gen TokenName)
-&gt; (Int -&gt; Gen [Word8]) -&gt; Gen TokenName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679137378"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137378"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-423"></span><span>        </span><span id="local-6989586621679137379"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137379"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Gen Int -&gt; Gen Int
forall a. HasCallStack =&gt; Int -&gt; Gen a -&gt; Gen a
</span><span class="hs-identifier hs-var">resize</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137378"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Int -&gt; Gen Int)
-&gt; ((Int, Int) -&gt; Gen Int) -&gt; (Int, Int) -&gt; Gen Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Gen Int
</span><span class="hs-identifier hs-var">chooseInt</span></span><span> </span><span class="annot"><span class="annottext">((Int, Int) -&gt; Gen Int) -&gt; (Int, Int) -&gt; Gen Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Gen Word8 -&gt; Gen [Word8]
forall a. Int -&gt; Gen a -&gt; Gen [a]
</span><span class="hs-identifier hs-var">vectorOf</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679137379"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">(Gen Word8 -&gt; Gen [Word8])
-&gt; ((Word8, Word8) -&gt; Gen Word8) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Word8, Word8) -&gt; Gen Word8
forall a. (Bounded a, Integral a) =&gt; (a, a) -&gt; Gen a
</span><span class="hs-identifier hs-var">chooseBoundedIntegral</span></span><span> </span><span class="annot"><span class="annottext">((Word8, Word8) -&gt; Gen [Word8]) -&gt; (Word8, Word8) -&gt; Gen [Word8]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">33</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">126</span></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">shrink</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-426"></span><span>  </span><span id="local-6989586621679137393"><span class="annot"><span class="annottext">shrink :: MintValue -&gt; [MintValue]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-type">MintValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span> </span><span id="local-6989586621679137394"><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
</span><a href="#local-6989586621679137394"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-427"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; MintValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-var">MintValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; MintValue)
-&gt; (Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; Map CurrencySymbol (Map TokenName Integer)
-&gt; MintValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#withZeroAda"><span class="hs-identifier hs-var">withZeroAda</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Value)
-&gt; (Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; Map CurrencySymbol (Map TokenName Integer)
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">Value.Value</span></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer) -&gt; MintValue)
-&gt; [Map CurrencySymbol (Map TokenName Integer)] -&gt; [MintValue]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-428"></span><span>      </span><span class="hs-comment">-- To ensure we don't break anything, we shrink in only two ways:</span><span>
</span><span id="line-429"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-430"></span><span>      </span><span class="hs-comment">-- 1. Dropping keys (outer or inner)</span><span>
</span><span id="line-431"></span><span>      </span><span class="hs-comment">-- 2. Shrinking amounts</span><span>
</span><span id="line-432"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-433"></span><span>      </span><span class="hs-comment">-- To make this a bit easier on ourselves, we first 'unpack' the Value</span><span>
</span><span id="line-434"></span><span>      </span><span class="hs-comment">-- completely, shrink the resulting (nested) list, then 'repack'. As neither</span><span>
</span><span id="line-435"></span><span>      </span><span class="hs-comment">-- of these changes affect order or uniqueness, we're safe.</span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679137395"><span class="annot"><span class="annottext">asList :: [(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137395"><span class="hs-identifier hs-var hs-var">asList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Map TokenName Integer -&gt; [(TokenName, Integer)])
-&gt; (CurrencySymbol, Map TokenName Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
forall a b. (a -&gt; b) -&gt; (CurrencySymbol, a) -&gt; (CurrencySymbol, b)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Map TokenName Integer -&gt; [(TokenName, Integer)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">AssocMap.toList</span></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, Map TokenName Integer)
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [(CurrencySymbol, Map TokenName Integer)]
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">AssocMap.toList</span></span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
</span><a href="#local-6989586621679137394"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-437"></span><span>      </span><span id="local-6989586621679137396"><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137396"><span class="hs-identifier hs-var">shrunk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)])
 -&gt; [(CurrencySymbol, [(TokenName, Integer)])])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [[(CurrencySymbol, [(TokenName, Integer)])]]
forall a. (a -&gt; [a]) -&gt; [a] -&gt; [[a]]
forall (f :: Type -&gt; Type) a.
Arbitrary1 f =&gt;
(a -&gt; [a]) -&gt; f a -&gt; [f a]
</span><span class="hs-identifier hs-var">liftShrink</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679137397"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137397"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679137398"><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137398"><span class="hs-identifier hs-var">inner</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621679137397"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)]
 -&gt; (CurrencySymbol, [(TokenName, Integer)]))
-&gt; [[(TokenName, Integer)]]
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenName, Integer) -&gt; [(TokenName, Integer)])
-&gt; [(TokenName, Integer)] -&gt; [[(TokenName, Integer)]]
forall a. (a -&gt; [a]) -&gt; [a] -&gt; [[a]]
forall (f :: Type -&gt; Type) a.
Arbitrary1 f =&gt;
(a -&gt; [a]) -&gt; f a -&gt; [f a]
</span><span class="hs-identifier hs-var">liftShrink</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679137399"><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137399"><span class="hs-identifier hs-var">tn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679137400"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137400"><span class="hs-identifier hs-var">amount</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679137399"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; (TokenName, Integer))
-&gt; (NonZero Integer -&gt; Integer)
-&gt; NonZero Integer
-&gt; (TokenName, Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">NonZero Integer -&gt; Integer
forall a. NonZero a -&gt; a
</span><span class="hs-identifier hs-var">getNonZero</span></span><span> </span><span class="annot"><span class="annottext">(NonZero Integer -&gt; (TokenName, Integer))
-&gt; [NonZero Integer] -&gt; [(TokenName, Integer)]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NonZero Integer -&gt; [NonZero Integer]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">shrink</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; NonZero Integer
forall a. a -&gt; NonZero a
</span><span class="hs-identifier hs-var">NonZero</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679137400"><span class="hs-identifier hs-var">amount</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)]
</span><a href="#local-6989586621679137398"><span class="hs-identifier hs-var">inner</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137395"><span class="hs-identifier hs-var">asList</span></a></span><span>
</span><span id="line-438"></span><span>      </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall a. a -&gt; [a]
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer)
 -&gt; [Map CurrencySymbol (Map TokenName Integer)])
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])]
    -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, Map TokenName Integer)]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, Map TokenName Integer)]
 -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; ([(CurrencySymbol, [(TokenName, Integer)])]
    -&gt; [(CurrencySymbol, Map TokenName Integer)])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((CurrencySymbol, [(TokenName, Integer)])
 -&gt; (CurrencySymbol, Map TokenName Integer))
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; Map TokenName Integer)
-&gt; (CurrencySymbol, [(TokenName, Integer)])
-&gt; (CurrencySymbol, Map TokenName Integer)
forall a b. (a -&gt; b) -&gt; (CurrencySymbol, a) -&gt; (CurrencySymbol, b)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(TokenName, Integer)] -&gt; Map TokenName Integer
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, [(TokenName, Integer)])]
 -&gt; [Map CurrencySymbol (Map TokenName Integer)])
-&gt; [(CurrencySymbol, [(TokenName, Integer)])]
-&gt; [Map CurrencySymbol (Map TokenName Integer)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(CurrencySymbol, [(TokenName, Integer)])]
</span><a href="#local-6989586621679137396"><span class="hs-identifier hs-var">shrunk</span></a></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.3</span></span><span>
</span><span id="line-441"></span><span id="local-6989586621679137402"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLA.Value</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CoArbitrary</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-type">MintValue</span></a></span></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.3</span></span><span>
</span><span id="line-444"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Function</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-type">MintValue</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-445"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">function</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-446"></span><span>  </span><span id="local-6989586621679137410"><span class="annot"><span class="annottext">function :: forall b. (MintValue -&gt; b) -&gt; MintValue :-&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">function</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MintValue -&gt; Value)
-&gt; (Value -&gt; MintValue) -&gt; (MintValue -&gt; b) -&gt; MintValue :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span><span class="hs-identifier hs-var">functionMap</span></span><span> </span><span class="annot"><span class="annottext">MintValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; MintValue
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-var">MintValue</span></a></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="annot"><span class="hs-comment">-- | @since 1.0.3</span></span><span>
</span><span id="line-449"></span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#getMintValue"><span class="hs-identifier hs-type">getMintValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#MintValue"><span class="hs-identifier hs-type">MintValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span>
</span><span id="line-450"></span><span id="getMintValue"><span class="annot"><span class="annottext">getMintValue :: MintValue -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#getMintValue"><span class="hs-identifier hs-var hs-var">getMintValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MintValue -&gt; Value
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#withZeroAda"><span class="hs-identifier hs-type">withZeroAda</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span>
</span><span id="line-453"></span><span id="withZeroAda"><span class="annot"><span class="annottext">withZeroAda :: Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#withZeroAda"><span class="hs-identifier hs-var hs-var">withZeroAda</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><span class="hs-identifier hs-var">Value.singleton</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><span class="hs-identifier hs-var">Value.adaSymbol</span></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><span class="hs-identifier hs-var">Value.adaToken</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Value
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="annot"><a href="PlutusLedgerApi.V1.Orphans.Value.html#pruneZeros"><span class="hs-identifier hs-type">pruneZeros</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span>
</span><span id="line-456"></span><span id="pruneZeros"><span class="annot"><span class="annottext">pruneZeros :: Value -&gt; Value
</span><a href="PlutusLedgerApi.V1.Orphans.Value.html#pruneZeros"><span class="hs-identifier hs-var hs-var">pruneZeros</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Value.Value</span></span><span> </span><span id="local-6989586621679137411"><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
</span><a href="#local-6989586621679137411"><span class="hs-identifier hs-var">assets</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-457"></span><span>  </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer) -&gt; Value
</span><span class="hs-identifier hs-var">Value.Value</span></span><span> </span><span class="annot"><span class="annottext">(Map CurrencySymbol (Map TokenName Integer) -&gt; Value)
-&gt; Map CurrencySymbol (Map TokenName Integer) -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="annottext">[(CurrencySymbol, Map TokenName Integer)]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, Map TokenName Integer)]
 -&gt; Map CurrencySymbol (Map TokenName Integer))
-&gt; [(CurrencySymbol, Map TokenName Integer)]
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-459"></span><span>      </span><span class="annot"><span class="annottext">((CurrencySymbol, Map TokenName Integer) -&gt; Bool)
-&gt; [(CurrencySymbol, Map TokenName Integer)]
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; ((CurrencySymbol, Map TokenName Integer) -&gt; Bool)
-&gt; (CurrencySymbol, Map TokenName Integer)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map TokenName Integer -&gt; Bool
forall k v. Map k v -&gt; Bool
</span><span class="hs-identifier hs-var">AssocMap.null</span></span><span> </span><span class="annot"><span class="annottext">(Map TokenName Integer -&gt; Bool)
-&gt; ((CurrencySymbol, Map TokenName Integer)
    -&gt; Map TokenName Integer)
-&gt; (CurrencySymbol, Map TokenName Integer)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(CurrencySymbol, Map TokenName Integer) -&gt; Map TokenName Integer
forall a b. (a, b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(CurrencySymbol, Map TokenName Integer)]
 -&gt; [(CurrencySymbol, Map TokenName Integer)])
-&gt; [(CurrencySymbol, Map TokenName Integer)]
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-comment">-- After removing tokens now we may have empty currency list, so clear that as well</span><span>
</span><span id="line-460"></span><span>        </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
-&gt; [(CurrencySymbol, Map TokenName Integer)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">AssocMap.toList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Map TokenName Integer -&gt; Maybe (Map TokenName Integer))
-&gt; Map CurrencySymbol (Map TokenName Integer)
-&gt; Map CurrencySymbol (Map TokenName Integer)
forall a b k. (a -&gt; Maybe b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">AssocMap.mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(TokenName, Integer)] -&gt; Maybe (Map TokenName Integer)
forall k v. [(k, v)] -&gt; Maybe (Map k v)
</span><a href="#local-6989586621679137416"><span class="hs-identifier hs-var">assocMapNonEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; Maybe (Map TokenName Integer))
-&gt; (Map TokenName Integer -&gt; [(TokenName, Integer)])
-&gt; Map TokenName Integer
-&gt; Maybe (Map TokenName Integer)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenName, Integer) -&gt; Bool)
-&gt; [(TokenName, Integer)] -&gt; [(TokenName, Integer)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Bool)
-&gt; ((TokenName, Integer) -&gt; Integer)
-&gt; (TokenName, Integer)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TokenName, Integer) -&gt; Integer
forall a b. (a, b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(TokenName, Integer)] -&gt; [(TokenName, Integer)])
-&gt; (Map TokenName Integer -&gt; [(TokenName, Integer)])
-&gt; Map TokenName Integer
-&gt; [(TokenName, Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map TokenName Integer -&gt; [(TokenName, Integer)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">AssocMap.toList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map CurrencySymbol (Map TokenName Integer)
</span><a href="#local-6989586621679137411"><span class="hs-identifier hs-var">assets</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Remove all zero tokens</span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>    </span><span id="local-6989586621679136752"><span id="local-6989586621679136753"><span class="annot"><a href="#local-6989586621679137416"><span class="hs-identifier hs-type">assocMapNonEmpty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679136752"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679136753"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AssocMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679136752"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679136753"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-463"></span><span>    </span><span id="local-6989586621679137416"><span class="annot"><span class="annottext">assocMapNonEmpty :: forall k v. [(k, v)] -&gt; Maybe (Map k v)
</span><a href="#local-6989586621679137416"><span class="hs-identifier hs-var hs-var">assocMapNonEmpty</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Map k v)
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><a href="#local-6989586621679137416"><span class="hs-identifier hs-var">assocMapNonEmpty</span></a></span><span> </span><span id="local-6989586621679137418"><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679137418"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map k v -&gt; Maybe (Map k v)
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Map k v -&gt; Maybe (Map k v)) -&gt; Map k v -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)] -&gt; Map k v
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">AssocMap.unsafeFromList</span></span><span> </span><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679137418"><span class="hs-identifier hs-var">lst</span></a></span><span>
</span><span id="line-465"></span></pre></body></html>