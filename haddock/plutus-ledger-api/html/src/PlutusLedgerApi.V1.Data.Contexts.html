<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DerivingVia       #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns    #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE NoImplicitPrelude #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms   #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell   #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns      #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-simplifiable-class-constraints #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# OPTIONS_GHC -fexpose-all-unfoldings #-}</span><span> </span><span class="hs-comment">-- needed for asData pattern synonyms</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-omit-interface-pragmas #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-specialise #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusLedgerApi.V1.Data.Contexts</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Pending transactions and related types</span></span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier">TxInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier">TxInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoInputs"><span class="hs-identifier">txInfoInputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoOutputs"><span class="hs-identifier">txInfoOutputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoFee"><span class="hs-identifier">txInfoFee</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoMint"><span class="hs-identifier">txInfoMint</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoDCert"><span class="hs-identifier">txInfoDCert</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoWdrl"><span class="hs-identifier">txInfoWdrl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoValidRange"><span class="hs-identifier">txInfoValidRange</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoSignatories"><span class="hs-identifier">txInfoSignatories</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoData"><span class="hs-identifier">txInfoData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoId"><span class="hs-identifier">txInfoId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier">ScriptContext</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier">ScriptContext</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextTxInfo"><span class="hs-identifier">scriptContextTxInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextPurpose"><span class="hs-identifier">scriptContextPurpose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptPurpose"><span class="hs-identifier">ScriptPurpose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Minting"><span class="hs-identifier">Minting</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Spending"><span class="hs-identifier">Spending</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Rewarding"><span class="hs-identifier">Rewarding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Certifying"><span class="hs-identifier">Certifying</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxId"><span class="hs-identifier">TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier">txOutAddress</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutValue"><span class="hs-identifier">txOutValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutDatumHash"><span class="hs-identifier">txOutDatumHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOutRef"><span class="hs-identifier">TxOutRef</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOutRef"><span class="hs-identifier">TxOutRef</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutRefId"><span class="hs-identifier">txOutRefId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutRefIdx"><span class="hs-identifier">txOutRefIdx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier">TxInInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier">TxInInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoOutRef"><span class="hs-identifier">txInInfoOutRef</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoResolved"><span class="hs-identifier">txInInfoResolved</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-identifier">findOwnInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatum"><span class="hs-identifier">findDatum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatumHash"><span class="hs-identifier">findDatumHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findTxInByTxOutRef"><span class="hs-identifier">findTxInByTxOutRef</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findContinuingOutputs"><span class="hs-identifier">findContinuingOutputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#getContinuingOutputs"><span class="hs-identifier">getContinuingOutputs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Validator functions</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier">pubKeyOutputsAt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valuePaidTo"><span class="hs-identifier">valuePaidTo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#spendsOutput"><span class="hs-identifier">spendsOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txSignedBy"><span class="hs-identifier">txSignedBy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueSpent"><span class="hs-identifier">valueSpent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueProduced"><span class="hs-identifier">valueProduced</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ownCurrencySymbol"><span class="hs-identifier">ownCurrencySymbol</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AsData</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">List</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Data.List</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Prelude</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Prettyprinter.Extras.html"><span class="hs-identifier">Prettyprinter.Extras</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Crypto.html"><span class="hs-identifier">PlutusLedgerApi.V1.Crypto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Crypto.html#PubKeyHash"><span class="hs-identifier">PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Address.html"><span class="hs-identifier">PlutusLedgerApi.V1.Data.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Address.html#Address"><span class="hs-identifier">Address</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Credential.html"><span class="hs-identifier">PlutusLedgerApi.V1.Data.Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Credential.html#StakingCredential"><span class="hs-identifier">StakingCredential</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Credential.html#PubKeyCredential"><span class="hs-identifier">PubKeyCredential</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.DCert.html"><span class="hs-identifier">PlutusLedgerApi.V1.Data.DCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.DCert.html#DCert"><span class="hs-identifier">DCert</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Time.html"><span class="hs-identifier">PlutusLedgerApi.V1.Data.Time</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Time.html#POSIXTimeRange"><span class="hs-identifier">POSIXTimeRange</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html"><span class="hs-identifier">PlutusLedgerApi.V1.Data.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxId"><span class="hs-identifier">TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOutRef"><span class="hs-identifier">TxOutRef</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOutRef"><span class="hs-identifier">TxOutRef</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>                                   </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier">txOutAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutDatumHash"><span class="hs-identifier">txOutDatumHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutRefId"><span class="hs-identifier">txOutRefId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutRefIdx"><span class="hs-identifier">txOutRefIdx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>                                   </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutValue"><span class="hs-identifier">txOutValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html"><span class="hs-identifier">PlutusLedgerApi.V1.Data.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#CurrencySymbol"><span class="hs-identifier">CurrencySymbol</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#Value"><span class="hs-identifier">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Scripts.html"><span class="hs-identifier">PlutusLedgerApi.V1.Scripts</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Haskell</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">{- Note [Script types in pending transactions]
To validate a transaction, we have to evaluate the validation script of each of
the transaction's inputs. The validation script sees the data of the
transaction output it validates, and the redeemer of the transaction input of
the transaction that consumes it.
In addition, the validation script also needs information on the transaction as
a whole (not just the output-input pair it is concerned with). This information
is provided by the `TxInfo` type. A `TxInfo` contains the hashes of
redeemer and data scripts of all of its inputs and outputs.
-}</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="annot"><span class="hs-comment">-- | An input of a pending transaction.</span></span><span>
</span><span id="line-100"></span><span id="TxInInfo"><span id="TxInInfo"><span id="txInInfoOutRef"><span id="txInInfoResolved"><span id="TxInInfo_6989586621680774788"><span id="local-6989586621681074503"><span id="local-6989586621681074505"><span id="local-6989586621681074507"><span id="local-6989586621681074513"><span id="local-6989586621681074517"><span id="local-6989586621681074520"><span id="local-6989586621681074524"><span id="local-6989586621681074528"><span id="local-6989586621681074533"><span id="local-6989586621681074538"><span id="%24mTxInInfo"><span id="%24bTxInInfo"><span class="hs-identifier">PlutusTx.asData</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">[d|</span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">TxInInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">TxInInfo</span><span>
</span><span id="line-103"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">txInInfoOutRef</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TxOutRef</span><span>
</span><span id="line-104"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInInfoResolved</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TxOut</span><span>
</span><span id="line-105"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-106"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">stock</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Eq</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PlutusTx.FromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.UnsafeFromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.ToData</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span id="local-6989586621681074572"><span id="local-6989586621681074574"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxInInfo</span></span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span> </span><span id="local-6989586621681074707"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074707"><span class="hs-identifier hs-var">ref</span></a></span></span><span> </span><span id="local-6989586621681074708"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621681074708"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621681074709"><span class="annot"><span class="annottext">== :: TxInInfo -&gt; TxInInfo -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span> </span><span id="local-6989586621681074710"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074710"><span class="hs-identifier hs-var">ref'</span></a></span></span><span> </span><span id="local-6989586621681074711"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621681074711"><span class="hs-identifier hs-var">res'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074707"><span class="hs-identifier hs-var">ref</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074710"><span class="hs-identifier hs-var">ref'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621681074708"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; TxOut -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621681074711"><span class="hs-identifier hs-var">res'</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681074715"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="local-6989586621681074725"><span class="annot"><span class="annottext">pretty :: forall ann. TxInInfo -&gt; Doc ann
</span><a href="#local-6989586621681074725"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681074727"><span class="annot"><span class="annottext">TxOutRef
txInInfoOutRef :: TxInInfo -&gt; TxOutRef
txInInfoOutRef :: TxOutRef
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoOutRef"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681074728"><span class="annot"><span class="annottext">TxOut
txInInfoResolved :: TxInInfo -&gt; TxOut
txInInfoResolved :: TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var hs-var">txInInfoResolved</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="annottext">TxOutRef -&gt; Doc ann
forall ann. TxOutRef -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074727"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Doc ann
forall ann. TxOut -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621681074728"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><span class="hs-comment">-- | Purpose of the script that is currently running</span></span><span>
</span><span id="line-120"></span><span id="ScriptPurpose"><span id="Minting"><span id="Spending"><span id="Rewarding"><span id="Certifying"><span id="ScriptPurpose_6989586621680775733"><span id="local-6989586621681074731"><span id="local-6989586621681074732"><span id="local-6989586621681074733"><span id="local-6989586621681074734"><span id="local-6989586621681074736"><span id="local-6989586621681074738"><span id="local-6989586621681074740"><span id="local-6989586621681074744"><span id="local-6989586621681074748"><span id="local-6989586621681074751"><span id="local-6989586621681074754"><span id="local-6989586621681074758"><span id="local-6989586621681074762"><span id="local-6989586621681074766"><span id="local-6989586621681074770"><span id="local-6989586621681074776"><span id="%24mCertifying"><span id="%24bCertifying"><span id="%24mRewarding"><span id="%24bRewarding"><span id="%24mSpending"><span id="%24bSpending"><span id="%24mMinting"><span id="%24bMinting"><span class="hs-identifier">PlutusTx.asData</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">[d|</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">ScriptPurpose</span><span>
</span><span id="line-123"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Minting</span><span> </span><span class="hs-identifier">CurrencySymbol</span><span>
</span><span id="line-124"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Spending</span><span> </span><span class="hs-identifier">TxOutRef</span><span>
</span><span id="line-125"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Rewarding</span><span> </span><span class="hs-identifier">StakingCredential</span><span>
</span><span id="line-126"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Certifying</span><span> </span><span class="hs-identifier">DCert</span><span>
</span><span id="line-127"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">stock</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Eq</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PlutusTx.FromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.UnsafeFromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.ToData</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier">Pretty</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PrettyShow</span><span> </span><span class="hs-identifier">ScriptPurpose</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span id="local-6989586621681074808"><span id="local-6989586621681074810"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScriptPurpose</span></span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621681074888"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621681074888"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621681074889"><span class="annot"><span class="annottext">== :: ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621681074890"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621681074890"><span class="hs-identifier hs-var">cs'</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621681074888"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; CurrencySymbol -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621681074890"><span class="hs-identifier hs-var">cs'</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621681074891"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074891"><span class="hs-identifier hs-var">ref</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621681074892"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074892"><span class="hs-identifier hs-var">ref'</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074891"><span class="hs-identifier hs-var">ref</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681074892"><span class="hs-identifier hs-var">ref'</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Rewarding"><span class="hs-identifier hs-type">Rewarding</span></a></span><span> </span><span id="local-6989586621681074893"><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621681074893"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Rewarding"><span class="hs-identifier hs-type">Rewarding</span></a></span><span> </span><span id="local-6989586621681074894"><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621681074894"><span class="hs-identifier hs-var">sc'</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621681074893"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">StakingCredential -&gt; StakingCredential -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">StakingCredential
</span><a href="#local-6989586621681074894"><span class="hs-identifier hs-var">sc'</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Certifying"><span class="hs-identifier hs-type">Certifying</span></a></span><span> </span><span id="local-6989586621681074895"><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621681074895"><span class="hs-identifier hs-var">cert</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Certifying"><span class="hs-identifier hs-type">Certifying</span></a></span><span> </span><span id="local-6989586621681074896"><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621681074896"><span class="hs-identifier hs-var">cert'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621681074895"><span class="hs-identifier hs-var">cert</span></a></span><span> </span><span class="annot"><span class="annottext">DCert -&gt; DCert -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DCert
</span><a href="#local-6989586621681074896"><span class="hs-identifier hs-var">cert'</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="annottext">ScriptPurpose
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><span class="hs-identifier">_</span></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="annot"><span class="hs-comment">{-| A pending transaction. This is the view as seen by validator scripts,
so some details are stripped out.
-}</span></span><span>
</span><span id="line-145"></span><span id="TxInfo"><span id="TxInfo"><span id="txInfoInputs"><span id="txInfoOutputs"><span id="txInfoFee"><span id="txInfoMint"><span id="txInfoDCert"><span id="txInfoWdrl"><span id="txInfoValidRange"><span id="txInfoSignatories"><span id="txInfoData"><span id="txInfoId"><span id="TxInfo_6989586621680777062"><span id="local-6989586621681074899"><span id="local-6989586621681074901"><span id="local-6989586621681074903"><span id="local-6989586621681074907"><span id="local-6989586621681074911"><span id="local-6989586621681074914"><span id="local-6989586621681074917"><span id="local-6989586621681074921"><span id="local-6989586621681074925"><span id="local-6989586621681074929"><span id="%24mTxInfo"><span id="%24bTxInfo"><span class="hs-identifier">PlutusTx.asData</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-special">[d|</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">TxInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">TxInfo</span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">txInfoInputs</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">List</span><span> </span><span class="hs-identifier">TxInInfo</span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-comment">-- ^ Transaction inputs; cannot be an empty list</span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoOutputs</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">List</span><span> </span><span class="hs-identifier">TxOut</span><span>
</span><span id="line-151"></span><span>      </span><span class="hs-comment">-- ^ Transaction outputs</span><span>
</span><span id="line-152"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoFee</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Value</span><span>
</span><span id="line-153"></span><span>      </span><span class="hs-comment">-- ^ The fee paid by this transaction.</span><span>
</span><span id="line-154"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoMint</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Value</span><span>
</span><span id="line-155"></span><span>      </span><span class="hs-comment">-- ^ The 'Value' minted by this transaction.</span><span>
</span><span id="line-156"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoDCert</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">List</span><span> </span><span class="hs-identifier">DCert</span><span>
</span><span id="line-157"></span><span>      </span><span class="hs-comment">-- ^ Digests of certificates included in this transaction</span><span>
</span><span id="line-158"></span><span>      </span><span class="hs-comment">-- TODO: is this a map? is this a list?</span><span>
</span><span id="line-159"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoWdrl</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">List</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">StakingCredential</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Integer</span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>      </span><span class="hs-comment">-- ^ Withdrawals</span><span>
</span><span id="line-161"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoValidRange</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">POSIXTimeRange</span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-comment">-- ^ The valid range for the transaction.</span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoSignatories</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">List</span><span> </span><span class="hs-identifier">PubKeyHash</span><span>
</span><span id="line-164"></span><span>      </span><span class="hs-comment">-- ^ Signatures provided with the transaction, attested that they all signed the tx</span><span>
</span><span id="line-165"></span><span>      </span><span class="hs-comment">-- TODO: is this a map? is this a list?</span><span>
</span><span id="line-166"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoData</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">List</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DatumHash</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Datum</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>      </span><span class="hs-comment">-- ^ The lookup table of datums attached to the transaction</span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">txInfoId</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TxId</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-comment">-- ^ Hash of the pending transaction body (i.e. transaction excluding witnesses)</span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-171"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">stock</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Eq</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PlutusTx.FromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.UnsafeFromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.ToData</span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-special">|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span id="local-6989586621681074962"><span id="local-6989586621681074964"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">TxInfo</span></span></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span id="local-6989586621681075057"><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075057"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681075058"><span class="annot"><span class="annottext">List TxOut
</span><a href="#local-6989586621681075058"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681075059"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075059"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681075060"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075060"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681075061"><span class="annot"><span class="annottext">List DCert
</span><a href="#local-6989586621681075061"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681075062"><span class="annot"><span class="annottext">List (StakingCredential, Integer)
</span><a href="#local-6989586621681075062"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621681075063"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621681075063"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681075064"><span class="annot"><span class="annottext">List PubKeyHash
</span><a href="#local-6989586621681075064"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681075065"><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075065"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681075066"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075066"><span class="hs-identifier hs-var">tid</span></a></span></span><span> </span><span id="local-6989586621681075067"><span class="annot"><span class="annottext">== :: TxInfo -&gt; TxInfo -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span id="local-6989586621681075068"><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075068"><span class="hs-identifier hs-var">i'</span></a></span></span><span> </span><span id="local-6989586621681075069"><span class="annot"><span class="annottext">List TxOut
</span><a href="#local-6989586621681075069"><span class="hs-identifier hs-var">o'</span></a></span></span><span> </span><span id="local-6989586621681075070"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075070"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621681075071"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075071"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span id="local-6989586621681075072"><span class="annot"><span class="annottext">List DCert
</span><a href="#local-6989586621681075072"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span id="local-6989586621681075073"><span class="annot"><span class="annottext">List (StakingCredential, Integer)
</span><a href="#local-6989586621681075073"><span class="hs-identifier hs-var">w'</span></a></span></span><span> </span><span id="local-6989586621681075074"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621681075074"><span class="hs-identifier hs-var">r'</span></a></span></span><span> </span><span id="local-6989586621681075075"><span class="annot"><span class="annottext">List PubKeyHash
</span><a href="#local-6989586621681075075"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span id="local-6989586621681075076"><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075076"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span id="local-6989586621681075077"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075077"><span class="hs-identifier hs-var">tid'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075057"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-181"></span><span>      </span><span class="annot"><span class="annottext">List TxInInfo -&gt; List TxInInfo -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075068"><span class="hs-identifier hs-var">i'</span></a></span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">List TxOut
</span><a href="#local-6989586621681075058"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><span class="annottext">List TxOut -&gt; List TxOut -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">List TxOut
</span><a href="#local-6989586621681075069"><span class="hs-identifier hs-var">o'</span></a></span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075059"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075070"><span class="hs-identifier hs-var">f'</span></a></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075060"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075071"><span class="hs-identifier hs-var">m'</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">List DCert
</span><a href="#local-6989586621681075061"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="annottext">List DCert -&gt; List DCert -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">List DCert
</span><a href="#local-6989586621681075072"><span class="hs-identifier hs-var">c'</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">List (StakingCredential, Integer)
</span><a href="#local-6989586621681075062"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><span class="annottext">List (StakingCredential, Integer)
-&gt; List (StakingCredential, Integer) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">List (StakingCredential, Integer)
</span><a href="#local-6989586621681075073"><span class="hs-identifier hs-var">w'</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621681075063"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; POSIXTimeRange -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621681075074"><span class="hs-identifier hs-var">r'</span></a></span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">List PubKeyHash
</span><a href="#local-6989586621681075064"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><span class="annottext">List PubKeyHash -&gt; List PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">List PubKeyHash
</span><a href="#local-6989586621681075075"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075065"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">List (DatumHash, Datum) -&gt; List (DatumHash, Datum) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075076"><span class="hs-identifier hs-var">d'</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075066"><span class="hs-identifier hs-var">tid</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">TxId -&gt; TxId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075077"><span class="hs-identifier hs-var">tid'</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681075080"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621681075139"><span class="annot"><span class="annottext">pretty :: forall ann. TxInfo -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span>
</span><span id="line-204"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681075140"><span class="annot"><span class="annottext">List TxInInfo
txInfoInputs :: TxInfo -&gt; List TxInInfo
txInfoInputs :: List TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span>
</span><span id="line-205"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075141"><span class="annot"><span class="annottext">List TxOut
txInfoOutputs :: TxInfo -&gt; List TxOut
txInfoOutputs :: List TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span></span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075142"><span class="annot"><span class="annottext">Value
txInfoFee :: TxInfo -&gt; Value
txInfoFee :: Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoFee"><span class="hs-identifier hs-var hs-var">txInfoFee</span></a></span></span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075143"><span class="annot"><span class="annottext">Value
txInfoMint :: TxInfo -&gt; Value
txInfoMint :: Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoMint"><span class="hs-identifier hs-var hs-var">txInfoMint</span></a></span></span><span>
</span><span id="line-208"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075144"><span class="annot"><span class="annottext">List DCert
txInfoDCert :: TxInfo -&gt; List DCert
txInfoDCert :: List DCert
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoDCert"><span class="hs-identifier hs-var hs-var">txInfoDCert</span></a></span></span><span>
</span><span id="line-209"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075145"><span class="annot"><span class="annottext">List (StakingCredential, Integer)
txInfoWdrl :: TxInfo -&gt; List (StakingCredential, Integer)
txInfoWdrl :: List (StakingCredential, Integer)
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoWdrl"><span class="hs-identifier hs-var hs-var">txInfoWdrl</span></a></span></span><span>
</span><span id="line-210"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075146"><span class="annot"><span class="annottext">POSIXTimeRange
txInfoValidRange :: TxInfo -&gt; POSIXTimeRange
txInfoValidRange :: POSIXTimeRange
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoValidRange"><span class="hs-identifier hs-var hs-var">txInfoValidRange</span></a></span></span><span>
</span><span id="line-211"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075147"><span class="annot"><span class="annottext">List PubKeyHash
txInfoSignatories :: TxInfo -&gt; List PubKeyHash
txInfoSignatories :: List PubKeyHash
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoSignatories"><span class="hs-identifier hs-var hs-var">txInfoSignatories</span></a></span></span><span>
</span><span id="line-212"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075148"><span class="annot"><span class="annottext">List (DatumHash, Datum)
txInfoData :: TxInfo -&gt; List (DatumHash, Datum)
txInfoData :: List (DatumHash, Datum)
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoData"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span>
</span><span id="line-213"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075149"><span class="annot"><span class="annottext">TxId
txInfoId :: TxInfo -&gt; TxId
txInfoId :: TxId
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoId"><span class="hs-identifier hs-var hs-var">txInfoId</span></a></span></span><span>
</span><span id="line-214"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span>
</span><span id="line-216"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;TxId:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. TxId -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075149"><span class="hs-identifier hs-var">txInfoId</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Inputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">List TxInInfo -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. List TxInInfo -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075140"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-218"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Outputs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">List TxOut -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. List TxOut -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">List TxOut
</span><a href="#local-6989586621681075141"><span class="hs-identifier hs-var">txInfoOutputs</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Fee:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. Value -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075142"><span class="hs-identifier hs-var">txInfoFee</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Value minted:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. Value -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075143"><span class="hs-identifier hs-var">txInfoMint</span></a></span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;DCerts:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">List DCert -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. List DCert -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">List DCert
</span><a href="#local-6989586621681075144"><span class="hs-identifier hs-var">txInfoDCert</span></a></span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Wdrl:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">List (StakingCredential, Integer) -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. List (StakingCredential, Integer) -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">List (StakingCredential, Integer)
</span><a href="#local-6989586621681075145"><span class="hs-identifier hs-var">txInfoWdrl</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Valid range:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; Doc ann
forall ann. POSIXTimeRange -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621681075146"><span class="hs-identifier hs-var">txInfoValidRange</span></a></span><span>
</span><span id="line-224"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Signatories:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">List PubKeyHash -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. List PubKeyHash -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">List PubKeyHash
</span><a href="#local-6989586621681075147"><span class="hs-identifier hs-var">txInfoSignatories</span></a></span><span>
</span><span id="line-225"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Datums:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">List (DatumHash, Datum) -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. List (DatumHash, Datum) -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075148"><span class="hs-identifier hs-var">txInfoData</span></a></span><span>
</span><span id="line-226"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><span class="hs-comment">-- | The context that the currently-executing script can access.</span></span><span>
</span><span id="line-229"></span><span id="ScriptContext"><span id="ScriptContext"><span id="scriptContextTxInfo"><span id="scriptContextPurpose"><span id="ScriptContext_6989586621680778228"><span id="local-6989586621681075153"><span id="local-6989586621681075155"><span id="local-6989586621681075157"><span id="local-6989586621681075160"><span id="local-6989586621681075164"><span id="local-6989586621681075168"><span id="local-6989586621681075172"><span id="local-6989586621681075175"><span id="local-6989586621681075179"><span id="local-6989586621681075183"><span id="%24mScriptContext"><span id="%24bScriptContext"><span class="hs-identifier">PlutusTx.asData</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-special">[d|</span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">ScriptContext</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ScriptContext</span><span>
</span><span id="line-232"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">scriptContextTxInfo</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TxInfo</span><span>
</span><span id="line-233"></span><span>      </span><span class="hs-comment">-- ^ information about the transaction the currently-executing script is included in</span><span>
</span><span id="line-234"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">scriptContextPurpose</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">ScriptPurpose</span><span>
</span><span id="line-235"></span><span>      </span><span class="hs-comment">-- ^ the purpose of the currently-executing script</span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-237"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">stock</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Haskell.Show</span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>      </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PlutusTx.FromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.UnsafeFromData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">PlutusTx.ToData</span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-special">|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span id="local-6989586621681075198"><span id="local-6989586621681075200"><span class="hs-identifier">makeLift</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScriptContext</span></span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-245"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span id="local-6989586621681075273"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075273"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681075274"><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621681075274"><span class="hs-identifier hs-var">purpose</span></a></span></span><span> </span><span id="local-6989586621681075275"><span class="annot"><span class="annottext">== :: ScriptContext -&gt; ScriptContext -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span id="local-6989586621681075276"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075276"><span class="hs-identifier hs-var">info'</span></a></span></span><span> </span><span id="local-6989586621681075277"><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621681075277"><span class="hs-identifier hs-var">purpose'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075273"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; TxInfo -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075276"><span class="hs-identifier hs-var">info'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621681075274"><span class="hs-identifier hs-var">purpose</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose -&gt; ScriptPurpose -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621681075277"><span class="hs-identifier hs-var">purpose'</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681075280"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-248"></span><span>  </span><span id="local-6989586621681075287"><span class="annot"><span class="annottext">pretty :: forall ann. ScriptContext -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075288"><span class="annot"><span class="annottext">TxInfo
scriptContextTxInfo :: ScriptContext -&gt; TxInfo
scriptContextTxInfo :: TxInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var hs-var">scriptContextTxInfo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075289"><span class="annot"><span class="annottext">ScriptPurpose
scriptContextPurpose :: ScriptContext -&gt; ScriptPurpose
scriptContextPurpose :: ScriptPurpose
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextPurpose"><span class="hs-identifier hs-var hs-var">scriptContextPurpose</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span>
</span><span id="line-250"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Purpose:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose -&gt; Doc ann
forall ann. ScriptPurpose -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose
</span><a href="#local-6989586621681075289"><span class="hs-identifier hs-var">scriptContextPurpose</span></a></span><span>
</span><span id="line-251"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc ann -&gt; Doc ann
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Doc ann -&gt; Doc ann) -&gt; Doc ann -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><span class="hs-identifier hs-var">vsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;TxInfo:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; Doc ann
forall ann. TxInfo -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075288"><span class="hs-identifier hs-var">scriptContextTxInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-252"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="annot"><span class="hs-comment">-- | Find the input currently being validated.</span></span><span>
</span><span id="line-255"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-identifier hs-type">findOwnInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span>
</span><span id="line-256"></span><span id="findOwnInput"><span class="annot"><span class="annottext">findOwnInput :: ScriptContext -&gt; Maybe TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-identifier hs-var hs-var">findOwnInput</span></a></span></span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">scriptContextTxInfo :: ScriptContext -&gt; TxInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var">scriptContextTxInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075292"><span class="annot"><span class="annottext">List TxInInfo
txInfoInputs :: TxInfo -&gt; List TxInInfo
txInfoInputs :: List TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">scriptContextPurpose :: ScriptContext -&gt; ScriptPurpose
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextPurpose"><span class="hs-identifier hs-var">scriptContextPurpose</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621681075293"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075293"><span class="hs-identifier hs-var">txOutRef</span></a></span></span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Bool) -&gt; List TxInInfo -&gt; Maybe TxInInfo
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Data.List.find</span></span><span>
</span><span id="line-262"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075295"><span class="annot"><span class="annottext">TxOutRef
txInInfoOutRef :: TxInInfo -&gt; TxOutRef
txInInfoOutRef :: TxOutRef
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoOutRef"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075295"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075293"><span class="hs-identifier hs-var">txOutRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075292"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-264"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TxInInfo
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-265"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-pragma hs-type">findOwnInput</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><span class="hs-comment">-- | Find the data corresponding to a data hash, if there is one</span></span><span>
</span><span id="line-268"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatum"><span class="hs-identifier hs-type">findDatum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Scripts.html#Datum"><span class="hs-identifier hs-type">Datum</span></a></span><span>
</span><span id="line-269"></span><span id="findDatum"><span class="annot"><span class="annottext">findDatum :: DatumHash -&gt; TxInfo -&gt; Maybe Datum
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatum"><span class="hs-identifier hs-var hs-var">findDatum</span></a></span></span><span> </span><span id="local-6989586621681075296"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621681075296"><span class="hs-identifier hs-var">dsh</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075297"><span class="annot"><span class="annottext">List (DatumHash, Datum)
txInfoData :: TxInfo -&gt; List (DatumHash, Datum)
txInfoData :: List (DatumHash, Datum)
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoData"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-270"></span><span>  </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Datum
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Datum)
-&gt; Maybe (DatumHash, Datum) -&gt; Maybe Datum
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Bool)
-&gt; List (DatumHash, Datum) -&gt; Maybe (DatumHash, Datum)
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Data.List.find</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Bool
forall {b}. (DatumHash, b) -&gt; Bool
</span><a href="#local-6989586621681075300"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075297"><span class="hs-identifier hs-var">txInfoData</span></a></span><span>
</span><span id="line-271"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621681075300"><span class="annot"><span class="annottext">f :: (DatumHash, b) -&gt; Bool
</span><a href="#local-6989586621681075300"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681075303"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621681075303"><span class="hs-identifier hs-var">dsh'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621681075303"><span class="hs-identifier hs-var">dsh'</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; DatumHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621681075296"><span class="hs-identifier hs-var">dsh</span></a></span><span>
</span><span id="line-273"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatum"><span class="hs-pragma hs-type">findDatum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><span class="hs-comment">{-| Find the hash of a datum, if it is part of the pending transaction's
  hashes
-}</span></span><span>
</span><span id="line-278"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatumHash"><span class="hs-identifier hs-type">findDatumHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Scripts.html#Datum"><span class="hs-identifier hs-type">Datum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Scripts.html#DatumHash"><span class="hs-identifier hs-type">DatumHash</span></a></span><span>
</span><span id="line-279"></span><span id="findDatumHash"><span class="annot"><span class="annottext">findDatumHash :: Datum -&gt; TxInfo -&gt; Maybe DatumHash
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatumHash"><span class="hs-identifier hs-var hs-var">findDatumHash</span></a></span></span><span> </span><span id="local-6989586621681075304"><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621681075304"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075305"><span class="annot"><span class="annottext">List (DatumHash, Datum)
txInfoData :: TxInfo -&gt; List (DatumHash, Datum)
txInfoData :: List (DatumHash, Datum)
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoData"><span class="hs-identifier hs-var hs-var">txInfoData</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; DatumHash
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; DatumHash)
-&gt; Maybe (DatumHash, Datum) -&gt; Maybe DatumHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((DatumHash, Datum) -&gt; Bool)
-&gt; List (DatumHash, Datum) -&gt; Maybe (DatumHash, Datum)
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Data.List.find</span></span><span> </span><span class="annot"><span class="annottext">(DatumHash, Datum) -&gt; Bool
forall {a}. (a, Datum) -&gt; Bool
</span><a href="#local-6989586621681075307"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">List (DatumHash, Datum)
</span><a href="#local-6989586621681075305"><span class="hs-identifier hs-var">txInfoData</span></a></span><span>
</span><span id="line-281"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>  </span><span id="local-6989586621681075307"><span class="annot"><span class="annottext">f :: (a, Datum) -&gt; Bool
</span><a href="#local-6989586621681075307"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075310"><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621681075310"><span class="hs-identifier hs-var">ds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621681075310"><span class="hs-identifier hs-var">ds'</span></a></span><span> </span><span class="annot"><span class="annottext">Datum -&gt; Datum -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621681075304"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-283"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findDatumHash"><span class="hs-pragma hs-type">findDatumHash</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="annot"><span class="hs-comment">{-| Given a UTXO reference and a transaction (`TxInfo`), resolve it to one of
the transaction's inputs (`TxInInfo`).
-}</span></span><span>
</span><span id="line-288"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findTxInByTxOutRef"><span class="hs-identifier hs-type">findTxInByTxOutRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOutRef"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span>
</span><span id="line-289"></span><span id="findTxInByTxOutRef"><span class="annot"><span class="annottext">findTxInByTxOutRef :: TxOutRef -&gt; TxInfo -&gt; Maybe TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findTxInByTxOutRef"><span class="hs-identifier hs-var hs-var">findTxInByTxOutRef</span></a></span></span><span> </span><span id="local-6989586621681075311"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075311"><span class="hs-identifier hs-var">outRef</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075312"><span class="annot"><span class="annottext">List TxInInfo
txInfoInputs :: TxInfo -&gt; List TxInInfo
txInfoInputs :: List TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Bool) -&gt; List TxInInfo -&gt; Maybe TxInInfo
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Data.List.find</span></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075313"><span class="annot"><span class="annottext">TxOutRef
txInInfoOutRef :: TxInInfo -&gt; TxOutRef
txInInfoOutRef :: TxOutRef
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoOutRef"><span class="hs-identifier hs-var hs-var">txInInfoOutRef</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075313"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOutRef -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075311"><span class="hs-identifier hs-var">outRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><span class="annottext">List TxInInfo
</span><a href="#local-6989586621681075312"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-293"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findTxInByTxOutRef"><span class="hs-pragma hs-type">findTxInByTxOutRef</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="annot"><span class="hs-comment">{-| Finds all the outputs that pay to the same script address that we are
currently spending from, if any.
-}</span></span><span>
</span><span id="line-298"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findContinuingOutputs"><span class="hs-identifier hs-type">findContinuingOutputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">List</span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-299"></span><span id="findContinuingOutputs"><span class="annot"><span class="annottext">findContinuingOutputs :: ScriptContext -&gt; List Integer
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findContinuingOutputs"><span class="hs-identifier hs-var hs-var">findContinuingOutputs</span></a></span></span><span> </span><span id="local-6989586621681075314"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621681075314"><span class="hs-identifier hs-var">ctx</span></a></span></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span>
</span><span id="line-301"></span><span>      </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txInInfoResolved :: TxInInfo -&gt; TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075315"><span class="annot"><span class="annottext">Address
txOutAddress :: TxOut -&gt; Address
txOutAddress :: Address
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier hs-var hs-var">txOutAddress</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-304"></span><span>      </span><span class="annot"><span class="annottext">ScriptContext -&gt; Maybe TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621681075314"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>      </span><span class="annot"><span class="annottext">(TxOut -&gt; Bool) -&gt; List TxOut -&gt; List Integer
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; List Integer
</span><span class="hs-identifier hs-var">Data.List.findIndices</span></span><span>
</span><span id="line-306"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621681075317"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075315"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; List TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInfo -&gt; List TxOut) -&gt; TxInfo -&gt; List TxOut
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScriptContext -&gt; TxInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var">scriptContextTxInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621681075314"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-309"></span><span>  </span><span id="local-6989586621681075317"><span class="annot"><span class="annottext">f :: Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621681075317"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681075320"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075320"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681075321"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075321"><span class="hs-identifier hs-var">otherAddress</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-310"></span><span>    </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075320"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Address -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075321"><span class="hs-identifier hs-var">otherAddress</span></a></span><span>
</span><span id="line-311"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findContinuingOutputs"><span class="hs-identifier hs-var">findContinuingOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="annottext">BuiltinString -&gt; List Integer
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Le&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't find any continuing outputs&quot;</span><span>
</span><span id="line-313"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#findContinuingOutputs"><span class="hs-pragma hs-type">findContinuingOutputs</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="annot"><span class="hs-comment">{-| Get all the outputs that pay to the same script address we are currently
spending from, if any.
-}</span></span><span>
</span><span id="line-318"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#getContinuingOutputs"><span class="hs-identifier hs-type">getContinuingOutputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">List</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-319"></span><span id="getContinuingOutputs"><span class="annot"><span class="annottext">getContinuingOutputs :: ScriptContext -&gt; List TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#getContinuingOutputs"><span class="hs-identifier hs-var hs-var">getContinuingOutputs</span></a></span></span><span> </span><span id="local-6989586621681075323"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621681075323"><span class="hs-identifier hs-var">ctx</span></a></span></span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span>
</span><span id="line-321"></span><span>      </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInInfo"><span class="hs-identifier hs-type">TxInInfo</span></a></span><span>
</span><span id="line-322"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txInInfoResolved :: TxInInfo -&gt; TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075324"><span class="annot"><span class="annottext">Address
txOutAddress :: TxOut -&gt; Address
txOutAddress :: Address
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier hs-var hs-var">txOutAddress</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><span class="annottext">ScriptContext -&gt; Maybe TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#findOwnInput"><span class="hs-identifier hs-var">findOwnInput</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621681075323"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><span class="annottext">(TxOut -&gt; Bool) -&gt; List TxOut -&gt; List TxOut
forall a.
(UnsafeFromData a, ToData a) =&gt;
(a -&gt; Bool) -&gt; List a -&gt; List a
</span><span class="hs-identifier hs-var">Data.List.filter</span></span><span>
</span><span id="line-326"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621681075326"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075324"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; List TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInfo -&gt; List TxOut) -&gt; TxInfo -&gt; List TxOut
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScriptContext -&gt; TxInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextTxInfo"><span class="hs-identifier hs-var">scriptContextTxInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621681075323"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>  </span><span id="local-6989586621681075326"><span class="annot"><span class="annottext">f :: Address -&gt; TxOut -&gt; Bool
</span><a href="#local-6989586621681075326"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681075328"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075328"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681075329"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075329"><span class="hs-identifier hs-var">otherAddress</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075328"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Address -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621681075329"><span class="hs-identifier hs-var">otherAddress</span></a></span><span>
</span><span id="line-331"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#getContinuingOutputs"><span class="hs-identifier hs-var">getContinuingOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-332"></span><span>  </span><span class="annot"><span class="annottext">BuiltinString -&gt; List TxOut
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Lf&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't get any continuing outputs&quot;</span><span>
</span><span id="line-333"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#getContinuingOutputs"><span class="hs-pragma hs-type">getContinuingOutputs</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-comment">{- Note [Hashes in validator scripts]

We need to deal with hashes of four different things in a validator script:

1. Transactions
2. Validator scripts
3. Data scripts
4. Redeemer scripts

The mockchain code in 'Ledger.Tx' only deals with the hashes of(1)
and (2), and uses the 'Ledger.Tx.TxId' and `Digest SHA256` types for
them.

In PLC validator scripts the situation is different: First, they need to work
with hashes of (1-4). Second, the `Digest SHA256` type is not available in PLC
- we have to represent all hashes as `ByteStrings`.

To ensure that we only compare hashes of the correct type inside a validator
script, we define a newtype for each of them, as well as functions for creating
them from the correct types in Haskell, and for comparing them (in
`Language.Plutus.Runtime.TH`).

-}</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="annot"><span class="hs-comment">-- | Check if a transaction was signed by the given public key.</span></span><span>
</span><span id="line-360"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txSignedBy"><span class="hs-identifier hs-type">txSignedBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-361"></span><span id="txSignedBy"><span class="annot"><span class="annottext">txSignedBy :: TxInfo -&gt; PubKeyHash -&gt; Bool
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txSignedBy"><span class="hs-identifier hs-var hs-var">txSignedBy</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span class="hs-special">{</span><span id="local-6989586621681075330"><span class="annot"><span class="annottext">List PubKeyHash
txInfoSignatories :: TxInfo -&gt; List PubKeyHash
txInfoSignatories :: List PubKeyHash
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoSignatories"><span class="hs-identifier hs-var hs-var">txInfoSignatories</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621681075331"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075331"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(PubKeyHash -&gt; Bool) -&gt; List PubKeyHash -&gt; Maybe PubKeyHash
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Data.List.find</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075331"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">List PubKeyHash
</span><a href="#local-6989586621681075330"><span class="hs-identifier hs-var">txInfoSignatories</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-364"></span><span>    </span><span class="annot"><span class="annottext">Maybe PubKeyHash
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-365"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#txSignedBy"><span class="hs-pragma hs-type">txSignedBy</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="annot"><span class="hs-comment">-- | Get the values paid to a public key address by a pending transaction.</span></span><span>
</span><span id="line-368"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier hs-type">pubKeyOutputsAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">List</span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-369"></span><span id="pubKeyOutputsAt"><span class="annot"><span class="annottext">pubKeyOutputsAt :: PubKeyHash -&gt; TxInfo -&gt; List Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier hs-var hs-var">pubKeyOutputsAt</span></a></span></span><span> </span><span id="local-6989586621681075332"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075332"><span class="hs-identifier hs-var">pk</span></a></span></span><span> </span><span id="local-6989586621681075333"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075333"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681075335"><span class="annot"><span class="annottext">flt :: TxOut -&gt; Maybe Value
</span><a href="#local-6989586621681075335"><span class="hs-identifier hs-var hs-var">flt</span></a></span></span><span>
</span><span id="line-371"></span><span>        </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-372"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txOutAddress :: TxOut -&gt; Address
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutAddress"><span class="hs-identifier hs-var">txOutAddress</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Credential.html#PubKeyCredential"><span class="hs-identifier hs-type">PubKeyCredential</span></a></span><span> </span><span id="local-6989586621681075336"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075336"><span class="hs-identifier hs-var">pk'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-373"></span><span>          </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681075337"><span class="annot"><span class="annottext">Value
txOutValue :: TxOut -&gt; Value
txOutValue :: Value
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutValue"><span class="hs-identifier hs-var hs-var">txOutValue</span></a></span></span><span>
</span><span id="line-374"></span><span>          </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075332"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075336"><span class="hs-identifier hs-var">pk'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621681075337"><span class="hs-identifier hs-var">txOutValue</span></a></span><span>
</span><span id="line-375"></span><span>      </span><span class="annot"><a href="#local-6989586621681075335"><span class="hs-identifier hs-var">flt</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Value
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-376"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Maybe Value) -&gt; List TxOut -&gt; List Value
forall a b.
(UnsafeFromData a, ToData b) =&gt;
(a -&gt; Maybe b) -&gt; List a -&gt; List b
</span><span class="hs-identifier hs-var">Data.List.mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Maybe Value
</span><a href="#local-6989586621681075335"><span class="hs-identifier hs-var">flt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; List TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075333"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#pubKeyOutputsAt"><span class="hs-pragma hs-type">pubKeyOutputsAt</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="annot"><span class="hs-comment">-- | Get the total value paid to a public key address by a pending transaction.</span></span><span>
</span><span id="line-380"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valuePaidTo"><span class="hs-identifier hs-type">valuePaidTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Crypto.html#PubKeyHash"><span class="hs-identifier hs-type">PubKeyHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-381"></span><span id="valuePaidTo"><span class="annot"><span class="annottext">valuePaidTo :: TxInfo -&gt; PubKeyHash -&gt; Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#valuePaidTo"><span class="hs-identifier hs-var hs-var">valuePaidTo</span></a></span></span><span> </span><span id="local-6989586621681075339"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075339"><span class="hs-identifier hs-var">ptx</span></a></span></span><span> </span><span id="local-6989586621681075340"><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075340"><span class="hs-identifier hs-var">pkh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">List Value -&gt; Value
forall a. (Monoid a, UnsafeFromData a) =&gt; List a -&gt; a
</span><span class="hs-identifier hs-var">Data.List.mconcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PubKeyHash -&gt; TxInfo -&gt; List Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#pubKeyOutputsAt"><span class="hs-identifier hs-var">pubKeyOutputsAt</span></a></span><span> </span><span class="annot"><span class="annottext">PubKeyHash
</span><a href="#local-6989586621681075340"><span class="hs-identifier hs-var">pkh</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075339"><span class="hs-identifier hs-var">ptx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valuePaidTo"><span class="hs-pragma hs-type">valuePaidTo</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="annot"><span class="hs-comment">-- | Get the total value of inputs spent by this transaction.</span></span><span>
</span><span id="line-385"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueSpent"><span class="hs-identifier hs-type">valueSpent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-386"></span><span id="valueSpent"><span class="annot"><span class="annottext">valueSpent :: TxInfo -&gt; Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueSpent"><span class="hs-identifier hs-var hs-var">valueSpent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Value) -&gt; List TxInInfo -&gt; Value
forall a m. (UnsafeFromData a, Monoid m) =&gt; (a -&gt; m) -&gt; List a -&gt; m
</span><span class="hs-identifier hs-var">Data.List.foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; Value
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutValue"><span class="hs-identifier hs-var">txOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Value) -&gt; (TxInInfo -&gt; TxOut) -&gt; TxInInfo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxInInfo -&gt; TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoResolved"><span class="hs-identifier hs-var">txInInfoResolved</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(List TxInInfo -&gt; Value)
-&gt; (TxInfo -&gt; List TxInInfo) -&gt; TxInfo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; List TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span>
</span><span id="line-387"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueSpent"><span class="hs-pragma hs-type">valueSpent</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="annot"><span class="hs-comment">-- | Get the total value of outputs produced by this transaction.</span></span><span>
</span><span id="line-390"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueProduced"><span class="hs-identifier hs-type">valueProduced</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-391"></span><span id="valueProduced"><span class="annot"><span class="annottext">valueProduced :: TxInfo -&gt; Value
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueProduced"><span class="hs-identifier hs-var hs-var">valueProduced</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Value) -&gt; List TxOut -&gt; Value
forall a m. (UnsafeFromData a, Monoid m) =&gt; (a -&gt; m) -&gt; List a -&gt; m
</span><span class="hs-identifier hs-var">Data.List.foldMap</span></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Value
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutValue"><span class="hs-identifier hs-var">txOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">(List TxOut -&gt; Value) -&gt; (TxInfo -&gt; List TxOut) -&gt; TxInfo -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; List TxOut
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoOutputs"><span class="hs-identifier hs-var">txInfoOutputs</span></a></span><span>
</span><span id="line-392"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#valueProduced"><span class="hs-pragma hs-type">valueProduced</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="annot"><span class="hs-comment">-- | The 'CurrencySymbol' of the current validator script.</span></span><span>
</span><span id="line-395"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ownCurrencySymbol"><span class="hs-identifier hs-type">ownCurrencySymbol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Value.html#CurrencySymbol"><span class="hs-identifier hs-type">CurrencySymbol</span></a></span><span>
</span><span id="line-396"></span><span id="ownCurrencySymbol"><span class="annot"><span class="annottext">ownCurrencySymbol :: ScriptContext -&gt; CurrencySymbol
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#ownCurrencySymbol"><span class="hs-identifier hs-var hs-var">ownCurrencySymbol</span></a></span></span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ScriptContext"><span class="hs-identifier hs-type">ScriptContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">scriptContextPurpose :: ScriptContext -&gt; ScriptPurpose
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#scriptContextPurpose"><span class="hs-identifier hs-var">scriptContextPurpose</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621681075345"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621681075345"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621681075345"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-397"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ownCurrencySymbol"><span class="hs-identifier hs-var">ownCurrencySymbol</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptContext
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-398"></span><span>  </span><span class="annot"><span class="annottext">BuiltinString -&gt; CurrencySymbol
forall a. BuiltinString -&gt; a
</span><span class="hs-identifier hs-var">traceError</span></span><span> </span><span class="annot"><span class="annottext">BuiltinString
</span><span class="hs-string">&quot;Lh&quot;</span></span><span> </span><span class="hs-comment">-- &quot;Can't get currency symbol of the current validator script&quot;</span><span>
</span><span id="line-399"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#ownCurrencySymbol"><span class="hs-pragma hs-type">ownCurrencySymbol</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span class="annot"><span class="hs-comment">{-| Check if the pending transaction spends a specific transaction output
(identified by the hash of a transaction and an index into that
transactions' outputs)
-}</span></span><span>
</span><span id="line-405"></span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#spendsOutput"><span class="hs-identifier hs-type">spendsOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#TxInfo"><span class="hs-identifier hs-type">TxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Tx.html#TxId"><span class="hs-identifier hs-type">TxId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-406"></span><span id="spendsOutput"><span class="annot"><span class="annottext">spendsOutput :: TxInfo -&gt; TxId -&gt; Integer -&gt; Bool
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#spendsOutput"><span class="hs-identifier hs-var hs-var">spendsOutput</span></a></span></span><span> </span><span id="local-6989586621681075346"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075346"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681075347"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075347"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621681075348"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681075348"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681075351"><span class="annot"><span class="annottext">spendsOutRef :: TxInInfo -&gt; Bool
</span><a href="#local-6989586621681075351"><span class="hs-identifier hs-var hs-var">spendsOutRef</span></a></span></span><span> </span><span id="local-6989586621681075352"><span class="annot"><span class="annottext">TxInInfo
</span><a href="#local-6989586621681075352"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-408"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681075353"><span class="annot"><span class="annottext">outRef :: TxOutRef
</span><a href="#local-6989586621681075353"><span class="hs-identifier hs-var hs-var">outRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInInfo -&gt; TxOutRef
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInInfoOutRef"><span class="hs-identifier hs-var">txInInfoOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxInInfo
</span><a href="#local-6989586621681075352"><span class="hs-identifier hs-var">inp</span></a></span><span>
</span><span id="line-409"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621681075347"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-410"></span><span>              </span><span class="annot"><span class="annottext">TxId -&gt; TxId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxId
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutRefId"><span class="hs-identifier hs-var">txOutRefId</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075353"><span class="hs-identifier hs-var">outRef</span></a></span><span>
</span><span id="line-411"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681075348"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-412"></span><span>              </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Integer
</span><a href="PlutusLedgerApi.V1.Data.Tx.html#txOutRefIdx"><span class="hs-identifier hs-var">txOutRefIdx</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621681075353"><span class="hs-identifier hs-var">outRef</span></a></span><span>
</span><span id="line-413"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Bool) -&gt; List TxInInfo -&gt; Bool
forall a. UnsafeFromData a =&gt; (a -&gt; Bool) -&gt; List a -&gt; Bool
</span><span class="hs-identifier hs-var">Data.List.any</span></span><span> </span><span class="annot"><span class="annottext">TxInInfo -&gt; Bool
</span><a href="#local-6989586621681075351"><span class="hs-identifier hs-var">spendsOutRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; List TxInInfo
</span><a href="PlutusLedgerApi.V1.Data.Contexts.html#txInfoInputs"><span class="hs-identifier hs-var">txInfoInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621681075346"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="PlutusLedgerApi.V1.Data.Contexts.html#spendsOutput"><span class="hs-pragma hs-type">spendsOutput</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-415"></span></pre></body></html>