<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RoleAnnotations #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.Internal.Term</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-5"></span><span>  </span><span class="annot"><span class="hs-comment">-- | \$hoisted</span></span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator">(:--&gt;)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#PLam"><span class="hs-identifier">PLam</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#PDelayed"><span class="hs-identifier">PDelayed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><span class="hs-comment">-- | \$term</span></span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#asClosedRawTerm"><span class="hs-identifier">asClosedRawTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier">Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier">Script</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#mapTerm"><span class="hs-identifier">mapTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#plam%27"><span class="hs-identifier">plam'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#plet"><span class="hs-identifier">plet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#papp"><span class="hs-identifier">papp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#pdelay"><span class="hs-identifier">pdelay</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#pforce"><span class="hs-identifier">pforce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#phoistAcyclic"><span class="hs-identifier">phoistAcyclic</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#perror"><span class="hs-identifier">perror</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#pplaceholder"><span class="hs-identifier">pplaceholder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeCoerce"><span class="hs-identifier">punsafeCoerce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeBuiltin"><span class="hs-identifier">punsafeBuiltin</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeConstant"><span class="hs-identifier">punsafeConstant</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeConstantInternal"><span class="hs-identifier">punsafeConstantInternal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#compile"><span class="hs-identifier">compile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#compileOptimized"><span class="hs-identifier">compileOptimized</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier">compile'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#optimizeTerm"><span class="hs-identifier">optimizeTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#ClosedTerm"><span class="hs-identifier">ClosedTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier">Dig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#hashTerm"><span class="hs-identifier">hashTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm"><span class="hs-identifier">hashRawTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier">RawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier">HoistedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier">TermResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier">getDeps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier">getTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier">S</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#SI"><span class="hs-identifier">SI</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier">PType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#pthrow"><span class="hs-identifier">pthrow</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier">NoTracing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier">Tracing</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier">TracingMode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier">LogLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#tracingMode"><span class="hs-identifier">tracingMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#logLevel"><span class="hs-identifier">logLevel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#pgetConfig"><span class="hs-identifier">pgetConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier">TermMonad</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#%23"><span class="hs-operator">(#)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#%23%24"><span class="hs-operator">(#$)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/mtl-2.3.1/src/Control.Monad.Reader.html"><span class="hs-identifier">Control.Monad.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier">ReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier">ReaderT</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/mtl-2.3.1/src/Control.Monad.Reader.Class.html#ask"><span class="hs-identifier">ask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#runReaderT"><span class="hs-identifier">runReaderT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/mtl-2.3.1/src/Control.Monad.State.Strict.html"><span class="hs-identifier">Control.Monad.State.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.State.Strict.html#evalStateT"><span class="hs-identifier">evalStateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Crypto.Hash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Context</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Digest</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hashFinalize</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hashInit</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hashUpdate</span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Crypto.Hash.Algorithms</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Blake2b_160</span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Crypto.Hash.IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HashAlgorithm</span></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">parseJSON</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toEncoding</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toJSON</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="hs-identifier">object</span></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="hs-identifier">pairs</span></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="hs-identifier">withObject</span></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><span class="hs-identifier">withText</span></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><span class="hs-operator">(.:)</span></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">def</span></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.OldList.html#groupBy"><span class="hs-identifier">groupBy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.OldList.html#sortOn"><span class="hs-identifier">sortOn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Lazy.html"><span class="hs-identifier">Data.Map.Lazy</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier">Last</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier">Last</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.String.html"><span class="hs-identifier">Data.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.String.html#fromString"><span class="hs-identifier">fromString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Flat.Run</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier">HasCallStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.html#callStack"><span class="hs-identifier">callStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Exception.html#prettyCallStack"><span class="hs-identifier">prettyCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html"><span class="hs-identifier">GHC.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.Evaluate.html"><span class="hs-identifier">Plutarch.Internal.Evaluate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Evaluate.html#evalScript"><span class="hs-identifier">evalScript</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Evaluate.html#uplcVersion"><span class="hs-identifier">uplcVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Script.html"><span class="hs-identifier">Plutarch.Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier">Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier">Script</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Some</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ValueOf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ValueOf</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore.Compiler.Types</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">initUPLCSimplifierTrace</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore.DeBruijn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DeBruijn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DeBruijn</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Index</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Index</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pretty</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;+&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">UntypedPlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UPLC</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="annot"><span class="hs-comment">{- $hoisted
 __Explanation for hoisted terms:__
 Hoisting is a convenient way of importing terms without duplicating them
 across your tree. Currently, hoisting is only supported on terms that do
 not refer to any free variables.

 An RHoisted contains a term and its hash. A RawTerm will have a DAG
 of hoisted terms, where an edge represents a dependency.
 We topologically sort these hoisted terms, such that each has an index.

 We wrap our RawTerm in RLamAbs and RApply in an order corresponding to the
 indices. Each level can refer to levels above it by the nature of De Bruijn naming,
 though the name is relative to the current level.
-}</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">type</span><span> </span><span id="Dig"><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-var">Dig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Digest</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Blake2b_160</span></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">data</span><span> </span><span id="HoistedTerm"><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HoistedTerm"><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608443"><span id="local-6989586621679608450"><span id="local-6989586621679608454"><span class="annot"><span class="annottext">Int -&gt; HoistedTerm -&gt; ShowS
[HoistedTerm] -&gt; ShowS
HoistedTerm -&gt; String
(Int -&gt; HoistedTerm -&gt; ShowS)
-&gt; (HoistedTerm -&gt; String)
-&gt; ([HoistedTerm] -&gt; ShowS)
-&gt; Show HoistedTerm
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; HoistedTerm -&gt; ShowS
showsPrec :: Int -&gt; HoistedTerm -&gt; ShowS
$cshow :: HoistedTerm -&gt; String
show :: HoistedTerm -&gt; String
$cshowList :: [HoistedTerm] -&gt; ShowS
showList :: [HoistedTerm] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">type</span><span> </span><span id="UTerm"><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-var">UTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">data</span><span> </span><span id="RawTerm"><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-var">RawTerm</span></a></span></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="RVar"><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-var">RVar</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RLamAbs"><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-var">RLamAbs</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RApply"><span class="annot"><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-var">RApply</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- NB: (f a b c d) ~ RApply f [b c d a]</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RForce"><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-var">RForce</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RDelay"><span class="annot"><a href="Plutarch.Internal.Term.html#RDelay"><span class="hs-identifier hs-var">RDelay</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RConstant"><span class="annot"><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValueOf</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RBuiltin"><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-var">RBuiltin</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultFun</span></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RCompiled"><span class="annot"><a href="Plutarch.Internal.Term.html#RCompiled"><span class="hs-identifier hs-var">RCompiled</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RError"><span class="annot"><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RHoisted"><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-var">RHoisted</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RPlaceHolder"><span class="annot"><a href="Plutarch.Internal.Term.html#RPlaceHolder"><span class="hs-identifier hs-var">RPlaceHolder</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RConstr"><span class="annot"><a href="Plutarch.Internal.Term.html#RConstr"><span class="hs-identifier hs-var">RConstr</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RCase"><span class="annot"><a href="Plutarch.Internal.Term.html#RCase"><span class="hs-identifier hs-var">RCase</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608471"><span id="local-6989586621679608513"><span id="local-6989586621679608516"><span class="annot"><span class="annottext">Int -&gt; RawTerm -&gt; ShowS
[RawTerm] -&gt; ShowS
RawTerm -&gt; String
(Int -&gt; RawTerm -&gt; ShowS)
-&gt; (RawTerm -&gt; String) -&gt; ([RawTerm] -&gt; ShowS) -&gt; Show RawTerm
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RawTerm -&gt; ShowS
showsPrec :: Int -&gt; RawTerm -&gt; ShowS
$cshow :: RawTerm -&gt; String
show :: RawTerm -&gt; String
$cshowList :: [RawTerm] -&gt; ShowS
showList :: [RawTerm] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-type">addHashIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679607846"><span class="annot"><a href="#local-6989586621679607846"><span class="hs-identifier hs-type">alg</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashAlgorithm</span></span><span> </span><span class="annot"><a href="#local-6989586621679607846"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="annot"><a href="#local-6989586621679607846"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="annot"><a href="#local-6989586621679607846"><span class="hs-identifier hs-type">alg</span></a></span><span>
</span><span id="line-127"></span><span id="addHashIndex"><span class="annot"><span class="annottext">addHashIndex :: forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var hs-var">addHashIndex</span></a></span></span><span> </span><span id="local-6989586621679608564"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679608564"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ByteString
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.String.html#fromString"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ByteString) -&gt; String -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679608564"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-type">hashUTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679607859"><span class="annot"><a href="#local-6989586621679607859"><span class="hs-identifier hs-type">alg</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashAlgorithm</span></span><span> </span><span class="annot"><a href="#local-6989586621679607859"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="annot"><a href="#local-6989586621679607859"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="annot"><a href="#local-6989586621679607859"><span class="hs-identifier hs-type">alg</span></a></span><span>
</span><span id="line-130"></span><span id="hashUTerm"><span class="annot"><span class="annottext">hashUTerm :: forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var hs-var">hashUTerm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Var</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608656"><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679608656"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DeBruijn -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679608656"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.LamAbs</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608660"><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679608660"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679608661"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608661"><span class="hs-identifier hs-var">uterm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DeBruijn -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679608660"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608661"><span class="hs-identifier hs-var">uterm</span></a></span><span>
</span><span id="line-132"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Apply</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608663"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608663"><span class="hs-identifier hs-var">uterm1</span></a></span></span><span> </span><span id="local-6989586621679608664"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608664"><span class="hs-identifier hs-var">uterm2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608663"><span class="hs-identifier hs-var">uterm1</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608664"><span class="hs-identifier hs-var">uterm2</span></a></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Force</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608666"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608666"><span class="hs-identifier hs-var">uterm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608666"><span class="hs-identifier hs-var">uterm</span></a></span><span>
</span><span id="line-134"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Delay</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608668"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608668"><span class="hs-identifier hs-var">uterm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608668"><span class="hs-identifier hs-var">uterm</span></a></span><span>
</span><span id="line-135"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Constant</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608670"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679608670"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679608670"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Builtin</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608672"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679608672"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefaultFun -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679608672"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Error</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">7</span></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Constr</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608675"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608675"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679608676"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679608676"><span class="hs-identifier hs-var">uterms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608675"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((Context alg -&gt; Context alg)
 -&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg)
-&gt; [Context alg -&gt; Context alg] -&gt; Context alg -&gt; Context alg
forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
forall (t :: Type -&gt; Type) a.
Foldable t =&gt;
(a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl1"><span class="hs-identifier hs-var">foldl1</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">(.)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; Context alg -&gt; Context alg)
-&gt; [UTerm] -&gt; [Context alg -&gt; Context alg]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679608676"><span class="hs-identifier hs-var">uterms</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Case</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679608680"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608680"><span class="hs-identifier hs-var">uterm</span></a></span></span><span> </span><span id="local-6989586621679608681"><span class="annot"><span class="annottext">Vector UTerm
</span><a href="#local-6989586621679608681"><span class="hs-identifier hs-var">uterms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">9</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608680"><span class="hs-identifier hs-var">uterm</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((Context alg -&gt; Context alg)
 -&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg)
-&gt; Vector (Context alg -&gt; Context alg)
-&gt; Context alg
-&gt; Context alg
forall a. (a -&gt; a -&gt; a) -&gt; Vector a -&gt; a
forall (t :: Type -&gt; Type) a.
Foldable t =&gt;
(a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl1"><span class="hs-identifier hs-var">foldl1</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">(.)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; Context alg -&gt; Context alg)
-&gt; Vector UTerm -&gt; Vector (Context alg -&gt; Context alg)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Vector UTerm
</span><a href="#local-6989586621679608681"><span class="hs-identifier hs-var">uterms</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-type">hashRawTerm'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679607874"><span class="annot"><a href="#local-6989586621679607874"><span class="hs-identifier hs-type">alg</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashAlgorithm</span></span><span> </span><span class="annot"><a href="#local-6989586621679607874"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="annot"><a href="#local-6989586621679607874"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="annot"><a href="#local-6989586621679607874"><span class="hs-identifier hs-type">alg</span></a></span><span>
</span><span id="line-143"></span><span id="hashRawTerm%27"><span class="annot"><span class="annottext">hashRawTerm' :: forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var hs-var">hashRawTerm'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span id="local-6989586621679608775"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608775"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608775"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679608776"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608776"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679608777"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608777"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608776"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608777"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679608778"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608778"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679608779"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679608779"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608778"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; [RawTerm] -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg -&gt; [RawTerm] -&gt; Context alg
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">((Context alg -&gt; RawTerm -&gt; Context alg)
 -&gt; Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; (Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg
-&gt; [RawTerm]
-&gt; Context alg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Context alg -&gt; Context alg)
-&gt; Context alg -&gt; RawTerm -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679608779"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-148"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span id="local-6989586621679608780"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608780"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608780"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-149"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RDelay"><span class="hs-identifier hs-type">RDelay</span></a></span><span> </span><span id="local-6989586621679608781"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608781"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608781"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-150"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span id="local-6989586621679608782"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679608782"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679608782"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span id="local-6989586621679608783"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679608783"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefaultFun -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679608783"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">7</span></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679608784"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679608784"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Dig -&gt; Context alg)
-&gt; Dig -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; Dig -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679608784"><span class="hs-identifier hs-var">hash</span></a></span><span>
</span><span id="line-154"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RCompiled"><span class="hs-identifier hs-type">RCompiled</span></a></span><span> </span><span id="local-6989586621679608785"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608785"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">9</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg -&gt; Context alg)
-&gt; Context alg -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; Context alg -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall alg.
HashAlgorithm alg =&gt;
UTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashUTerm"><span class="hs-identifier hs-var">hashUTerm</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679607874"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679608785"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg
forall a. HashAlgorithm a =&gt; Context a
</span><span class="hs-identifier hs-var">hashInit</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RPlaceHolder"><span class="hs-identifier hs-type">RPlaceHolder</span></a></span><span> </span><span id="local-6989586621679608786"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679608786"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679608786"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstr"><span class="hs-identifier hs-type">RConstr</span></a></span><span> </span><span id="local-6989586621679608787"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608787"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679608788"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679608788"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">11</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><span class="hs-identifier hs-var">hashUpdate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">F.flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679608787"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; [RawTerm] -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg -&gt; [RawTerm] -&gt; Context alg
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">((Context alg -&gt; RawTerm -&gt; Context alg)
 -&gt; Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; (Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg
-&gt; [RawTerm]
-&gt; Context alg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Context alg -&gt; Context alg)
-&gt; Context alg -&gt; RawTerm -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679608788"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-158"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RCase"><span class="hs-identifier hs-type">RCase</span></a></span><span> </span><span id="local-6989586621679608789"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608789"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679608790"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679608790"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
Integer -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#addHashIndex"><span class="hs-identifier hs-var">addHashIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">12</span></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608789"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; [RawTerm] -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg -&gt; [RawTerm] -&gt; Context alg
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">((Context alg -&gt; RawTerm -&gt; Context alg)
 -&gt; Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; (Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg
-&gt; [RawTerm]
-&gt; Context alg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Context alg -&gt; Context alg)
-&gt; Context alg -&gt; RawTerm -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679608790"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="annot"><a href="Plutarch.Internal.Term.html#hashRawTerm"><span class="hs-identifier hs-type">hashRawTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span>
</span><span id="line-162"></span><span id="hashRawTerm"><span class="annot"><span class="annottext">hashRawTerm :: RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.Term.html#hashRawTerm"><span class="hs-identifier hs-var hs-var">hashRawTerm</span></a></span></span><span> </span><span id="local-6989586621679608791"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608791"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Context Blake2b_160 -&gt; Dig
forall a. HashAlgorithm a =&gt; Context a -&gt; Digest a
</span><span class="hs-identifier hs-var">hashFinalize</span></span><span> </span><span class="annot"><span class="annottext">(Context Blake2b_160 -&gt; Dig)
-&gt; (Context Blake2b_160 -&gt; Context Blake2b_160)
-&gt; Context Blake2b_160
-&gt; Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context Blake2b_160 -&gt; Context Blake2b_160
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.Term.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608791"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">(Context Blake2b_160 -&gt; Dig) -&gt; Context Blake2b_160 -&gt; Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Context Blake2b_160
forall a. HashAlgorithm a =&gt; Context a
</span><span class="hs-identifier hs-var">hashInit</span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">data</span><span> </span><span id="TermResult"><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TermResult"><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AgetTerm%3ATermResult"><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var hs-var">getTerm</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AgetDeps%3ATermResult"><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var hs-var">getDeps</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="annot"><a href="Plutarch.Internal.Term.html#mapTerm"><span class="hs-identifier hs-type">mapTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span>
</span><span id="line-170"></span><span id="mapTerm"><span class="annot"><span class="annottext">mapTerm :: (RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mapTerm"><span class="hs-identifier hs-var hs-var">mapTerm</span></a></span></span><span> </span><span id="local-6989586621679608792"><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="#local-6989586621679608792"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span> </span><span id="local-6989586621679608793"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608793"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679608794"><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679608794"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="#local-6989586621679608792"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608793"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679608794"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-type">mkTermRes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span>
</span><span id="line-173"></span><span id="mkTermRes"><span class="annot"><span class="annottext">mkTermRes :: RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var hs-var">mkTermRes</span></a></span></span><span> </span><span id="local-6989586621679608796"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608796"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679608796"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">{- Type of `s` in `Term s a`. See: &quot;What is the `s`?&quot; section on the Plutarch guide.

`SI` is the identity type of kind `S`. It is used in type class/family instances
to &quot;forget&quot; the `s`.
-}</span><span>
</span><span id="line-180"></span><span class="hs-keyword">data</span><span> </span><span id="S"><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-var">S</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SI"><span class="annot"><a href="Plutarch.Internal.Term.html#SI"><span class="hs-identifier hs-var">SI</span></a></span></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><span class="hs-comment">-- | Shorthand for Plutarch types.</span></span><span>
</span><span id="line-183"></span><span class="hs-keyword">type</span><span> </span><span id="PType"><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier hs-var">PType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><span class="hs-comment">{- | How to trace.

@since 1.6.0
-}</span></span><span>
</span><span id="line-189"></span><span class="hs-keyword">data</span><span> </span><span id="TracingMode"><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-var">TracingMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DetTracing"><span class="annot"><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="DoTracing"><span class="annot"><a href="Plutarch.Internal.Term.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="DoTracingAndBinds"><span class="annot"><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-192"></span><span>      </span><span id="local-6989586621679608801"><span id="local-6989586621679608803"><span class="annot"><span class="annottext">TracingMode -&gt; TracingMode -&gt; Bool
(TracingMode -&gt; TracingMode -&gt; Bool)
-&gt; (TracingMode -&gt; TracingMode -&gt; Bool) -&gt; Eq TracingMode
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: TracingMode -&gt; TracingMode -&gt; Bool
== :: TracingMode -&gt; TracingMode -&gt; Bool
$c/= :: TracingMode -&gt; TracingMode -&gt; Bool
/= :: TracingMode -&gt; TracingMode -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-194"></span><span>      </span><span id="local-6989586621679608808"><span id="local-6989586621679608810"><span id="local-6989586621679608814"><span class="annot"><span class="annottext">Int -&gt; TracingMode -&gt; ShowS
[TracingMode] -&gt; ShowS
TracingMode -&gt; String
(Int -&gt; TracingMode -&gt; ShowS)
-&gt; (TracingMode -&gt; String)
-&gt; ([TracingMode] -&gt; ShowS)
-&gt; Show TracingMode
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; TracingMode -&gt; ShowS
showsPrec :: Int -&gt; TracingMode -&gt; ShowS
$cshow :: TracingMode -&gt; String
show :: TracingMode -&gt; String
$cshowList :: [TracingMode] -&gt; ShowS
showList :: [TracingMode] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="annot"><span class="hs-comment">{- | We have a linear order of generality, so this instance reflects it:
\'smaller\' values are more specific. Generality is in the following order,
from least to most general:

1. @DetTracing@
2. @DoTracing@
3. @DoTracingAndBinds@

@since 1.6.0
-}</span></span><span>
</span><span id="line-207"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608819"><span id="local-6989586621679608823"><span id="local-6989586621679608827"><span id="local-6989586621679608830"><span id="local-6989586621679608833"><span id="local-6989586621679608836"><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-comment">-- Note: We write this by hand so someone re-ordering or adding 'arms' won't</span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-comment">-- silently break this.</span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679608839"><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679608839"><span class="hs-identifier hs-var">tm1</span></a></span></span><span> </span><span id="local-6989586621679608840"><span class="annot"><span class="annottext">&lt;= :: TracingMode -&gt; TracingMode -&gt; Bool
</span><a href="#local-6989586621679608840"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></a></span></span><span> </span><span id="local-6989586621679608842"><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679608842"><span class="hs-identifier hs-var">tm2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679608839"><span class="hs-identifier hs-var">tm1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679608842"><span class="hs-identifier hs-var">tm2</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-213"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679608842"><span class="hs-identifier hs-var">tm2</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="annot"><span class="hs-comment">{- | More general tracing supersedes less general.

@since 1.6.0
-}</span></span><span>
</span><span id="line-223"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608845"><span id="local-6989586621679608849"><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-224"></span><span>  </span><span id="local-6989586621679608855"><span class="annot"><span class="annottext">&lt;&gt; :: TracingMode -&gt; TracingMode -&gt; TracingMode
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TracingMode -&gt; TracingMode -&gt; TracingMode
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#max"><span class="hs-identifier hs-var">max</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608859"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621679608867"><span class="annot"><span class="annottext">pretty :: forall ann. TracingMode -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;DetTracing&quot;</span></span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;DoTracing&quot;</span></span><span>
</span><span id="line-231"></span><span>    </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;DoTracingAndBinds&quot;</span></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-234"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608871"><span id="local-6989586621679608875"><span id="local-6989586621679608878"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toJSON</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-236"></span><span>  </span><span id="local-6989586621679608887"><span class="annot"><span class="annottext">toJSON :: TracingMode -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; (TracingMode -&gt; Text) -&gt; TracingMode -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DetTracing&quot;</span></span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DoTracing&quot;</span></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DoTracingAndBinds&quot;</span></span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toEncoding</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621679608892"><span class="annot"><span class="annottext">toEncoding :: TracingMode -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">toEncoding</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Encoding)
-&gt; (TracingMode -&gt; Text) -&gt; TracingMode -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DetTracing&quot;</span></span><span>
</span><span id="line-245"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DoTracing&quot;</span></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DoTracingAndBinds&quot;</span></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-249"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608895"><span id="local-6989586621679608899"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">parseJSON</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621679608921"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser TracingMode
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Text -&gt; Parser TracingMode) -&gt; Value -&gt; Parser TracingMode
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TracingMode&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Parser TracingMode) -&gt; Value -&gt; Parser TracingMode)
-&gt; (Text -&gt; Parser TracingMode) -&gt; Value -&gt; Parser TracingMode
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DetTracing&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TracingMode -&gt; Parser TracingMode
forall a. a -&gt; Parser a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DoTracing&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TracingMode -&gt; Parser TracingMode
forall a. a -&gt; Parser a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;DoTracingAndBinds&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TracingMode -&gt; Parser TracingMode
forall a. a -&gt; Parser a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.Term.html#DoTracingAndBinds"><span class="hs-identifier hs-var">DoTracingAndBinds</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679608922"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679608922"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser TracingMode
forall a. String -&gt; Parser a
forall (m :: Type -&gt; Type) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser TracingMode) -&gt; String -&gt; Parser TracingMode
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not a valid encoding: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679608922"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="annot"><span class="hs-comment">{- | What logging level we want to use.

@since 1.6.0
-}</span></span><span>
</span><span id="line-261"></span><span class="hs-keyword">data</span><span> </span><span id="LogLevel"><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-var">LogLevel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LogInfo"><span class="annot"><a href="Plutarch.Internal.Term.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="LogDebug"><span class="annot"><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-264"></span><span>      </span><span id="local-6989586621679608927"><span id="local-6989586621679608929"><span class="annot"><span class="annottext">LogLevel -&gt; LogLevel -&gt; Bool
(LogLevel -&gt; LogLevel -&gt; Bool)
-&gt; (LogLevel -&gt; LogLevel -&gt; Bool) -&gt; Eq LogLevel
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LogLevel -&gt; LogLevel -&gt; Bool
== :: LogLevel -&gt; LogLevel -&gt; Bool
$c/= :: LogLevel -&gt; LogLevel -&gt; Bool
/= :: LogLevel -&gt; LogLevel -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-266"></span><span>      </span><span id="local-6989586621679608933"><span id="local-6989586621679608935"><span id="local-6989586621679608939"><span class="annot"><span class="annottext">Int -&gt; LogLevel -&gt; ShowS
[LogLevel] -&gt; ShowS
LogLevel -&gt; String
(Int -&gt; LogLevel -&gt; ShowS)
-&gt; (LogLevel -&gt; String) -&gt; ([LogLevel] -&gt; ShowS) -&gt; Show LogLevel
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LogLevel -&gt; ShowS
showsPrec :: Int -&gt; LogLevel -&gt; ShowS
$cshow :: LogLevel -&gt; String
show :: LogLevel -&gt; String
$cshowList :: [LogLevel] -&gt; ShowS
showList :: [LogLevel] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="annot"><span class="hs-comment">{- | We have a linear order of generality, so this instance reflects it:
@LogDebug@ is more general than @LogInfo@.

@since 1.6.0
-}</span></span><span>
</span><span id="line-274"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608944"><span id="local-6989586621679608948"><span id="local-6989586621679608952"><span id="local-6989586621679608955"><span id="local-6989586621679608958"><span id="local-6989586621679608961"><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-comment">-- Note: We write this by hand so someone re-ordering or adding 'arms' won't</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-comment">-- silently break this.</span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621679608963"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679608963"><span class="hs-identifier hs-var">ll1</span></a></span></span><span> </span><span id="local-6989586621679608964"><span class="annot"><span class="annottext">&lt;= :: LogLevel -&gt; LogLevel -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></a></span></span><span> </span><span id="local-6989586621679608965"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679608965"><span class="hs-identifier hs-var">ll2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679608963"><span class="hs-identifier hs-var">ll1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679608965"><span class="hs-identifier hs-var">ll2</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-280"></span><span>      </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-281"></span><span>      </span><span class="annot"><span class="annottext">LogLevel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="annot"><span class="hs-comment">{- | More general logging supersedes less general.

@since 1.6.0
-}</span></span><span>
</span><span id="line-287"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608968"><span id="local-6989586621679608972"><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-288"></span><span>  </span><span id="local-6989586621679608977"><span class="annot"><span class="annottext">&lt;&gt; :: LogLevel -&gt; LogLevel -&gt; LogLevel
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; LogLevel -&gt; LogLevel
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#max"><span class="hs-identifier hs-var">max</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-291"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608980"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-292"></span><span>  </span><span id="local-6989586621679608985"><span class="annot"><span class="annottext">pretty :: forall ann. LogLevel -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;LogInfo&quot;</span></span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;LogDebug&quot;</span></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-297"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679608989"><span id="local-6989586621679608993"><span id="local-6989586621679608996"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toJSON</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-299"></span><span>  </span><span id="local-6989586621679609001"><span class="annot"><span class="annottext">toJSON :: LogLevel -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; (LogLevel -&gt; Text) -&gt; LogLevel -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-301"></span><span>      </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LogInfo&quot;</span></span><span>
</span><span id="line-302"></span><span>      </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LogDebug&quot;</span></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toEncoding</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-304"></span><span>  </span><span id="local-6989586621679609005"><span class="annot"><span class="annottext">toEncoding :: LogLevel -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">toEncoding</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Encoding) -&gt; (LogLevel -&gt; Text) -&gt; LogLevel -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-306"></span><span>      </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LogInfo&quot;</span></span><span>
</span><span id="line-307"></span><span>      </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LogDebug&quot;</span></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-310"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679609008"><span id="local-6989586621679609012"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">parseJSON</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-312"></span><span>  </span><span id="local-6989586621679609025"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LogLevel
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser LogLevel) -&gt; Value -&gt; Parser LogLevel
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LogLevel&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Parser LogLevel) -&gt; Value -&gt; Parser LogLevel)
-&gt; (Text -&gt; Parser LogLevel) -&gt; Value -&gt; Parser LogLevel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-313"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LogInfo&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LogDebug&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Parser LogLevel
forall a. a -&gt; Parser a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.Term.html#LogDebug"><span class="hs-identifier hs-var">LogDebug</span></a></span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621679609026"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679609026"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser LogLevel
forall a. String -&gt; Parser a
forall (m :: Type -&gt; Type) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser LogLevel) -&gt; String -&gt; Parser LogLevel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not a valid encoding: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679609026"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="annot"><span class="hs-comment">{- | Configuration for Plutarch scripts at compile time. This indicates whether
we want to trace, and if so, under what log level and mode.

@since 1.6.0
-}</span></span><span>
</span><span id="line-322"></span><span class="hs-keyword">newtype</span><span> </span><span id="Config"><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-var">Config</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Config"><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-var">Config</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-324"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-325"></span><span>      </span><span id="local-6989586621679609029"><span id="local-6989586621679609034"><span id="local-6989586621679609040"><span class="annot"><span class="annottext">NonEmpty Config -&gt; Config
Config -&gt; Config -&gt; Config
(Config -&gt; Config -&gt; Config)
-&gt; (NonEmpty Config -&gt; Config)
-&gt; (forall b. Integral b =&gt; b -&gt; Config -&gt; Config)
-&gt; Semigroup Config
forall b. Integral b =&gt; b -&gt; Config -&gt; Config
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
$c&lt;&gt; :: Config -&gt; Config -&gt; Config
&lt;&gt; :: Config -&gt; Config -&gt; Config
$csconcat :: NonEmpty Config -&gt; Config
sconcat :: NonEmpty Config -&gt; Config
$cstimes :: forall b. Integral b =&gt; b -&gt; Config -&gt; Config
stimes :: forall b. Integral b =&gt; b -&gt; Config -&gt; Config
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-327"></span><span>      </span><span id="local-6989586621679609049"><span id="local-6989586621679609054"><span id="local-6989586621679609058"><span class="annot"><span class="annottext">Semigroup Config
Config
Semigroup Config =&gt;
Config
-&gt; (Config -&gt; Config -&gt; Config)
-&gt; ([Config] -&gt; Config)
-&gt; Monoid Config
[Config] -&gt; Config
Config -&gt; Config -&gt; Config
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
$cmempty :: Config
mempty :: Config
$cmappend :: Config -&gt; Config -&gt; Config
mappend :: Config -&gt; Config -&gt; Config
$cmconcat :: [Config] -&gt; Config
mconcat :: [Config] -&gt; Config
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-332"></span><span>      </span><span id="local-6989586621679609064"><span id="local-6989586621679609069"><span class="annot"><span class="annottext">Config -&gt; Config -&gt; Bool
(Config -&gt; Config -&gt; Bool)
-&gt; (Config -&gt; Config -&gt; Bool) -&gt; Eq Config
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Config -&gt; Config -&gt; Bool
== :: Config -&gt; Config -&gt; Bool
$c/= :: Config -&gt; Config -&gt; Bool
/= :: Config -&gt; Config -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-334"></span><span>      </span><span id="local-6989586621679609076"><span id="local-6989586621679609082"><span id="local-6989586621679609086"><span class="annot"><span class="annottext">Int -&gt; Config -&gt; ShowS
[Config] -&gt; ShowS
Config -&gt; String
(Int -&gt; Config -&gt; ShowS)
-&gt; (Config -&gt; String) -&gt; ([Config] -&gt; ShowS) -&gt; Show Config
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Config -&gt; ShowS
showsPrec :: Int -&gt; Config -&gt; ShowS
$cshow :: Config -&gt; String
show :: Config -&gt; String
$cshowList :: [Config] -&gt; ShowS
showList :: [Config] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-338"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679609093"><span class="annot"><span class="hs-identifier hs-type">Pretty</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span>  </span><span id="local-6989586621679609100"><span class="annot"><span class="annottext">pretty :: forall ann. Config -&gt; Doc ann
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span id="local-6989586621679609101"><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="#local-6989586621679609101"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="#local-6989586621679609101"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;NoTracing&quot;</span></span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609102"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609102"><span class="hs-identifier hs-var">ll</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609103"><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609103"><span class="hs-identifier hs-var">tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Tracing&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. LogLevel -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609102"><span class="hs-identifier hs-var">ll</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">TracingMode -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. TracingMode -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609103"><span class="hs-identifier hs-var">tm</span></a></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-344"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679609107"><span id="local-6989586621679609111"><span id="local-6989586621679609114"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-comment">-- We serialize Config as if it were a sum type for consistency. We also label</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-comment">-- its fields (when present).</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toJSON</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-348"></span><span>  </span><span id="local-6989586621679609139"><span class="annot"><span class="annottext">toJSON :: Config -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">object</span></span><span> </span><span class="annot"><span class="annottext">([Pair] -&gt; Value) -&gt; (Config -&gt; [Pair]) -&gt; Config -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-350"></span><span>      </span><span class="annot"><span class="annottext">Config
</span><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Item [Pair]
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Item [Pair]
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span>      </span><span class="annot"><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier hs-type">Tracing</span></a></span><span> </span><span id="local-6989586621679609140"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609140"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span id="local-6989586621679609141"><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609141"><span class="hs-identifier hs-var">tm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-352"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Item [Pair]
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Item [Pair]
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;logLevel&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; LogLevel -&gt; Item [Pair]
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Item [Pair]
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609140"><span class="hs-identifier hs-var">ll</span></a></span><span>
</span><span id="line-354"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tracingMode&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; TracingMode -&gt; Item [Pair]
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Item [Pair]
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609141"><span class="hs-identifier hs-var">tm</span></a></span><span>
</span><span id="line-355"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toEncoding</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-357"></span><span>  </span><span id="local-6989586621679609158"><span class="annot"><span class="annottext">toEncoding :: Config -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><span class="annottext">Series -&gt; Encoding
</span><span class="hs-identifier hs-var">pairs</span></span><span> </span><span class="annot"><span class="annottext">(Series -&gt; Encoding) -&gt; (Config -&gt; Series) -&gt; Config -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><span class="annottext">Config
</span><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Series
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Series
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>      </span><span class="annot"><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier hs-type">Tracing</span></a></span><span> </span><span id="local-6989586621679609159"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609159"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span id="local-6989586621679609160"><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609160"><span class="hs-identifier hs-var">tm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-361"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Series
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Series
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>          </span><span class="annot"><span class="annottext">Series -&gt; Series -&gt; Series
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;logLevel&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; LogLevel -&gt; Series
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Series
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609159"><span class="hs-identifier hs-var">ll</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>          </span><span class="annot"><span class="annottext">Series -&gt; Series -&gt; Series
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tracingMode&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; TracingMode -&gt; Series
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Series
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609160"><span class="hs-identifier hs-var">tm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="annot"><span class="hs-comment">-- | @since 1.6.0</span></span><span>
</span><span id="line-366"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679609163"><span id="local-6989586621679609167"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>  </span><span id="local-6989586621679609190"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Config
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Object -&gt; Parser Config) -&gt; Value -&gt; Parser Config
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Config&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser Config) -&gt; Value -&gt; Parser Config)
-&gt; (Object -&gt; Parser Config) -&gt; Value -&gt; Parser Config
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679609191"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679609191"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-368"></span><span>    </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679609191"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int -&gt; (Int -&gt; Parser Config) -&gt; Parser Config
forall a b. Parser a -&gt; (a -&gt; Parser b) -&gt; Parser b
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679609192"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679609192"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679609192"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Parser Config
forall a. a -&gt; Parser a
forall (m :: Type -&gt; Type) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; TracingMode -&gt; Config
</span><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier hs-var">Tracing</span></a></span><span> </span><span class="annot"><span class="annottext">(LogLevel -&gt; TracingMode -&gt; Config)
-&gt; Parser LogLevel -&gt; Parser (TracingMode -&gt; Config)
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679609191"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser LogLevel
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;logLevel&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (TracingMode -&gt; Config)
-&gt; Parser TracingMode -&gt; Parser Config
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679609191"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser TracingMode
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tracingMode&quot;</span></span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser Config
forall a. String -&gt; Parser a
forall (m :: Type -&gt; Type) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid tag&quot;</span></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="annot"><span class="hs-comment">{- | If the config indicates that we want to trace, get its mode.

@since 1.6.0
-}</span></span><span>
</span><span id="line-377"></span><span class="annot"><a href="Plutarch.Internal.Term.html#tracingMode"><span class="hs-identifier hs-type">tracingMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span><span>
</span><span id="line-378"></span><span id="tracingMode"><span class="annot"><span class="annottext">tracingMode :: Config -&gt; Maybe TracingMode
</span><a href="Plutarch.Internal.Term.html#tracingMode"><span class="hs-identifier hs-var hs-var">tracingMode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span id="local-6989586621679609193"><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="#local-6989586621679609193"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogLevel, TracingMode) -&gt; TracingMode
forall a b. (a, b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((LogLevel, TracingMode) -&gt; TracingMode)
-&gt; Maybe (LogLevel, TracingMode) -&gt; Maybe TracingMode
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="#local-6989586621679609193"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="annot"><span class="hs-comment">{- | If the config indicates that we want to trace, get its log level.

@since 1.6.0
-}</span></span><span>
</span><span id="line-384"></span><span class="annot"><a href="Plutarch.Internal.Term.html#logLevel"><span class="hs-identifier hs-type">logLevel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span>
</span><span id="line-385"></span><span id="logLevel"><span class="annot"><span class="annottext">logLevel :: Config -&gt; Maybe LogLevel
</span><a href="Plutarch.Internal.Term.html#logLevel"><span class="hs-identifier hs-var hs-var">logLevel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span id="local-6989586621679609195"><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="#local-6989586621679609195"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogLevel, TracingMode) -&gt; LogLevel
forall a b. (a, b) -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((LogLevel, TracingMode) -&gt; LogLevel)
-&gt; Maybe (LogLevel, TracingMode) -&gt; Maybe LogLevel
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
</span><a href="#local-6989586621679609195"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="annot"><span class="hs-comment">{- | Pattern for the config that does no tracing (also the default).

@since 1.6.0
-}</span></span><span>
</span><span id="line-391"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-type">NoTracing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-392"></span><span class="hs-keyword">pattern</span><span> </span><span id="NoTracing"><span id="%24mNoTracing"><span id="%24bNoTracing"><span class="annot"><span class="annottext">$mNoTracing :: forall {r}. Config -&gt; ((# #) -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bNoTracing :: Config
</span><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-var hs-var hs-var hs-var">NoTracing</span></a></span></span></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-type">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-394"></span><span>    </span><span class="annot"><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Last (LogLevel, TracingMode) -&gt; Config
</span><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-var">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode) -&gt; Last (LogLevel, TracingMode)
forall a. Maybe a -&gt; Last a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-var">Last</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode)
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="annot"><span class="hs-comment">{- | Pattern for a tracing config, with both its log level and mode.

@since 1.6.0
-}</span></span><span>
</span><span id="line-400"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier hs-type">Tracing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-401"></span><span class="hs-keyword">pattern</span><span> </span><span id="Tracing"><span id="%24mTracing"><span id="%24bTracing"><span class="annot"><span class="annottext">$mTracing :: forall {r}.
Config -&gt; (LogLevel -&gt; TracingMode -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bTracing :: LogLevel -&gt; TracingMode -&gt; Config
</span><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier hs-var hs-var hs-var hs-var">Tracing</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679609201"><span class="hs-identifier hs-type">ll</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609202"><span class="hs-identifier hs-type">tm</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-type">Last</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609201"><span class="annot"><a href="#local-6989586621679609201"><span class="hs-identifier hs-var">ll</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609202"><span class="annot"><a href="#local-6989586621679609202"><span class="hs-identifier hs-var">tm</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-403"></span><span>    </span><span class="annot"><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-identifier hs-var">Tracing</span></a></span><span> </span><span id="local-6989586621679609203"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609203"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span id="local-6989586621679609204"><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609204"><span class="hs-identifier hs-var">tm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Last (LogLevel, TracingMode) -&gt; Config
</span><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-var">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (LogLevel, TracingMode) -&gt; Last (LogLevel, TracingMode)
forall a. Maybe a -&gt; Last a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html#Last"><span class="hs-identifier hs-var">Last</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LogLevel, TracingMode) -&gt; Maybe (LogLevel, TracingMode)
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679609203"><span class="hs-identifier hs-var">ll</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="#local-6989586621679609204"><span class="hs-identifier hs-var">tm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-pragma">{-# COMPLETE</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-pragma hs-type">NoTracing</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Tracing"><span class="hs-pragma hs-type">Tracing</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-keyword">newtype</span><span> </span><span id="TermMonad"><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span></span><span> </span><span id="local-6989586621679607955"><span class="annot"><a href="#local-6989586621679607955"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TermMonad"><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3ArunTermMonad%3ATermMonad"><span class="annot"><span class="annottext">forall m. TermMonad m -&gt; ReaderT Config (Either Text) m
</span><a href="Plutarch.Internal.Term.html#%24sel%3ArunTermMonad%3ATermMonad"><span class="hs-identifier hs-var hs-var">runTermMonad</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679607955"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609208"><span id="local-6989586621679609214"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b)
-&gt; (forall a b. a -&gt; TermMonad b -&gt; TermMonad a)
-&gt; Functor TermMonad
forall a b. a -&gt; TermMonad b -&gt; TermMonad a
forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall (f :: Type -&gt; Type).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
fmap :: forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
$c&lt;$ :: forall a b. a -&gt; TermMonad b -&gt; TermMonad a
&lt;$ :: forall a b. a -&gt; TermMonad b -&gt; TermMonad a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609224"><span id="local-6989586621679609230"><span id="local-6989586621679609235"><span id="local-6989586621679609240"><span id="local-6989586621679609245"><span class="annot"><span class="annottext">Functor TermMonad
Functor TermMonad =&gt;
(forall a. a -&gt; TermMonad a)
-&gt; (forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c)
-&gt; (forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b)
-&gt; (forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a)
-&gt; Applicative TermMonad
forall a. a -&gt; TermMonad a
forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a
forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall a b c.
(a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c
forall (f :: Type -&gt; Type).
Functor f =&gt;
(forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
$cpure :: forall a. a -&gt; TermMonad a
pure :: forall a. a -&gt; TermMonad a
$c&lt;*&gt; :: forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
&lt;*&gt; :: forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
$cliftA2 :: forall a b c.
(a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c
liftA2 :: forall a b c.
(a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c
$c*&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
*&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
$c&lt;* :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a
&lt;* :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609255"><span id="local-6989586621679609261"><span id="local-6989586621679609266"><span class="annot"><span class="annottext">Applicative TermMonad
Applicative TermMonad =&gt;
(forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b)
-&gt; (forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b)
-&gt; (forall a. a -&gt; TermMonad a)
-&gt; Monad TermMonad
forall a. a -&gt; TermMonad a
forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
forall (m :: Type -&gt; Type).
Applicative m =&gt;
(forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
$c&gt;&gt;= :: forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
&gt;&gt;= :: forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
$c&gt;&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
&gt;&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
$creturn :: forall a. a -&gt; TermMonad a
return :: forall a. a -&gt; TermMonad a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monad"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">role</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="annot"><span class="hs-comment">{- $term
 Source: Unembedding Domain-Specific Languages by Robert Atkey, Sam Lindley, Jeremy Yallop
 Thanks!
 NB: Hoisted terms must be sorted such that the dependents are first and dependencies last.

 s: This parameter isn't ever instantiated with something concrete. It is merely here
 to ensure that `compile` and `phoistAcyclic` only accept terms without any free variables.

 __Explanation of how the unembedding works:__
 Each term must be instantiated with its de-Bruijn level.
 `plam'`, given its own level, will create an `RVar` that figures out the
 de-Bruijn index needed to reach its own level given the level it itself is
 instantiated with.
-}</span></span><span>
</span><span id="line-426"></span><span class="hs-keyword">newtype</span><span> </span><span id="Term"><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608003"><span class="annot"><a href="#local-6989586621679608003"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608004"><span class="annot"><a href="#local-6989586621679608004"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Term"><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AasRawTerm%3ATerm"><span class="annot"><span class="annottext">forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var hs-var">asRawTerm</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="annot"><span class="hs-comment">{- |
  *Closed* terms with no free variables.
-}</span></span><span>
</span><span id="line-431"></span><span class="hs-keyword">type</span><span> </span><span id="ClosedTerm"><span class="annot"><a href="Plutarch.Internal.Term.html#ClosedTerm"><span class="hs-identifier hs-var">ClosedTerm</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609275"><span class="annot"><a href="#local-6989586621679609275"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609276"><span class="annot"><a href="#local-6989586621679609276"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609276"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609275"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-keyword">newtype</span><span> </span><span id="%3A--%3E"><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator hs-var">(:--&gt;)</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609277"><span class="annot"><a href="#local-6989586621679609277"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609278"><span class="annot"><a href="#local-6989586621679609278"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609279"><span class="annot"><a href="#local-6989586621679609279"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PLam"><span class="annot"><a href="Plutarch.Internal.Term.html#PLam"><span class="hs-identifier hs-var">PLam</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609279"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609277"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609279"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609278"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">0</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">data</span><span> </span><span id="PDelayed"><span class="annot"><a href="Plutarch.Internal.Term.html#PDelayed"><span class="hs-identifier hs-var">PDelayed</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609280"><span class="annot"><a href="#local-6989586621679609280"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609281"><span class="annot"><a href="#local-6989586621679609281"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="annot"><span class="hs-comment">{- |
  Lambda abstraction.

  Only works with a single argument.
  Use 'plam' instead, to support currying.
-}</span></span><span>
</span><span id="line-445"></span><span id="local-6989586621679608008"><span id="local-6989586621679608009"><span id="local-6989586621679608010"><span class="annot"><a href="Plutarch.Internal.Term.html#plam%27"><span class="hs-identifier hs-type">plam'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608008"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608009"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608008"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608010"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608008"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679608009"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608010"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-446"></span><span id="plam%27"><span class="annot"><span class="annottext">plam' :: forall (s :: S) (a :: PType) (b :: PType).
(Term s a -&gt; Term s b) -&gt; Term s (a :--&gt; b)
</span><a href="Plutarch.Internal.Term.html#plam%27"><span class="hs-identifier hs-var hs-var">plam'</span></a></span></span><span> </span><span id="local-6989586621679609401"><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609401"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679609402"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609402"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679609403"><span class="annot"><span class="annottext">v :: Term s a
</span><a href="#local-6989586621679609403"><span class="hs-identifier hs-var hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679609404"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609404"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-var">RVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609404"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-operator hs-var">-</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609402"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">((TermResult -&gt; TermResult)
 -&gt; TermMonad TermResult -&gt; TermMonad TermResult)
-&gt; TermMonad TermResult
-&gt; (TermResult -&gt; TermResult)
-&gt; TermMonad TermResult
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult)
-&gt; TermMonad TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609401"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609403"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609402"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-449"></span><span>        </span><span class="hs-comment">-- eta-reduce for arity 1</span><span>
</span><span id="line-450"></span><span>        </span><span id="local-6989586621679609406"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679609406"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679609407"><span class="annot"><span class="annottext">t' :: RawTerm
</span><a href="#local-6989586621679609407"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679609408"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609406"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679609407"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-451"></span><span>        </span><span class="hs-comment">-- eta-reduce for arity 2 + n</span><span>
</span><span id="line-452"></span><span>        </span><span id="local-6989586621679609409"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679609409"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679609410"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609410"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679609411"><span class="annot"><span class="annottext">t' :: RawTerm
</span><a href="#local-6989586621679609411"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679609408"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679609412"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609412"><span class="hs-identifier hs-var">n'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609413"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609413"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe [Word64] -&gt; Maybe [Word64] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[Word64] -&gt; Maybe [Word64]
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Word64
Item [Word64]
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609410"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RawTerm -&gt; Maybe Word64) -&gt; [RawTerm] -&gt; Maybe [Word64]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span id="local-6989586621679609415"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609415"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609415"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Word64
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609413"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609412"><span class="hs-identifier hs-var">n'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609410"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-455"></span><span>              </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609409"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679609411"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-456"></span><span>        </span><span class="hs-comment">-- increment arity</span><span>
</span><span id="line-457"></span><span>        </span><span id="local-6989586621679609417"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679609417"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679609418"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609418"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679609419"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609419"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609417"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679609418"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-type">+</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679609419"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-458"></span><span>        </span><span class="hs-comment">-- new lambda</span><span>
</span><span id="line-459"></span><span>        </span><span id="local-6989586621679609420"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609420"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mapTerm"><span class="hs-identifier hs-var">mapTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-var">RLamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609420"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-461"></span><span>    </span><span class="hs-comment">-- 0 is 1</span><span>
</span><span id="line-462"></span><span>    </span><span class="annot"><a href="#local-6989586621679609408"><span class="hs-identifier hs-type">getArity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-comment">-- We only do this if it's hoisted, since it's only safe if it doesn't</span><span>
</span><span id="line-464"></span><span>    </span><span class="hs-comment">-- refer to any of the variables in the wrapping lambda.</span><span>
</span><span id="line-465"></span><span>    </span><span id="local-6989586621679609408"><span class="annot"><span class="annottext">getArity :: RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679609408"><span class="hs-identifier hs-var hs-var">getArity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679609421"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609421"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609421"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><a href="#local-6989586621679609408"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609422"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609422"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609422"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-467"></span><span>    </span><span class="annot"><a href="#local-6989586621679609408"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span id="local-6989586621679609424"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609424"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609424"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-type">getArityBuiltin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-470"></span><span>    </span><span id="local-6989586621679609423"><span class="annot"><span class="annottext">getArityBuiltin :: RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679609423"><span class="hs-identifier hs-var hs-var">getArityBuiltin</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.AddInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-471"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.SubtractInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-472"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MultiplyInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-473"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.DivideInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-474"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.QuotientInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-475"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.RemainderInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-476"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ModInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-477"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ExpModInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-478"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.EqualsInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-479"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.LessThanInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-480"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.LessThanEqualsInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-481"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.AppendByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-482"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ConsByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-483"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.SliceByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.LengthOfByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-485"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.IndexByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.EqualsByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-487"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.LessThanByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-488"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.LessThanEqualsByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-489"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.IntegerToByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-490"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ByteStringToInteger</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.AndByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-492"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.OrByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.XorByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-494"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ComplementByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-495"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ReadBit</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-496"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.WriteBits</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-497"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ReplicateByte</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-498"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ShiftByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-499"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.RotateByteString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-500"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.CountSetBits</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-501"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.FindFirstSetBit</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-502"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_add</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-503"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_neg</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-504"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_scalarMul</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-505"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_equal</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-506"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_hashToGroup</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-507"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_compress</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-508"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G1_uncompress</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_add</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-510"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_neg</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-511"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_scalarMul</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-512"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_equal</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-513"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_hashToGroup</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-514"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_compress</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-515"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_G2_uncompress</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-516"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_millerLoop</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-517"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_mulMlResult</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-518"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Bls12_381_finalVerify</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-519"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Sha2_256</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-520"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Sha3_256</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-521"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Blake2b_224</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-522"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Blake2b_256</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-523"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Keccak_256</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-524"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Ripemd_160</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-525"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.VerifyEd25519Signature</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-526"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.VerifyEcdsaSecp256k1Signature</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-527"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.VerifySchnorrSecp256k1Signature</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-528"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.AppendString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-529"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.EqualsString</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-530"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.EncodeUtf8</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-531"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.DecodeUtf8</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-532"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.IfThenElse</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-533"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ChooseUnit</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-534"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.Trace</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-535"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.FstPair</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-536"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.SndPair</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-537"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ChooseList</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-538"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MkCons</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-539"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.HeadList</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-540"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.TailList</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-541"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.NullList</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-542"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ChooseData</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">5</span></span><span>
</span><span id="line-543"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ConstrData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-544"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MapData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-545"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.ListData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-546"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.IData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-547"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.BData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-548"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.UnConstrData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-549"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.UnMapData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-550"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.UnListData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-551"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.UnIData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-552"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.UnBData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-553"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.EqualsData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-554"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MkPairData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-555"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MkNilData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-556"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MkNilPairData</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-557"></span><span>    </span><span class="annot"><a href="#local-6989586621679609423"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word64
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span class="annot"><span class="hs-comment">{- |
  Let bindings.

  This is approximately a shorthand for a lambda and application:

  @plet v f@ == @ papp (plam f) v@

  But sufficiently small terms in WHNF may be inlined for efficiency.
-}</span></span><span>
</span><span id="line-568"></span><span id="local-6989586621679608027"><span id="local-6989586621679608028"><span id="local-6989586621679608029"><span class="annot"><a href="Plutarch.Internal.Term.html#plet"><span class="hs-identifier hs-type">plet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608027"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608028"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608027"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608028"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608027"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608029"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608027"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608029"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-569"></span><span id="plet"><span class="annot"><span class="annottext">plet :: forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#plet"><span class="hs-identifier hs-var hs-var">plet</span></a></span></span><span> </span><span id="local-6989586621679609513"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609513"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679609514"><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609514"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s b
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679609515"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609515"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-570"></span><span>  </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609513"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609515"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult
-&gt; (TermResult -&gt; TermMonad TermResult) -&gt; TermMonad TermResult
forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-571"></span><span>    </span><span class="hs-comment">-- Inline sufficiently small terms in WHNF</span><span>
</span><span id="line-572"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609514"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609513"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609515"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-573"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609514"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609513"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609515"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-574"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609514"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609513"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609515"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-575"></span><span>    </span><span class="annot"><span class="annottext">TermResult
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#papp"><span class="hs-identifier hs-var">papp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s a -&gt; Term s b) -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
(Term s a -&gt; Term s b) -&gt; Term s (a :--&gt; b)
</span><a href="Plutarch.Internal.Term.html#plam%27"><span class="hs-identifier hs-var">plam'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679609514"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609513"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609515"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span id="local-6989586621679608036"><span class="annot"><a href="Plutarch.Internal.Term.html#pthrow%27"><span class="hs-identifier hs-type">pthrow'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608036"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-578"></span><span id="pthrow%27"><span class="annot"><span class="annottext">pthrow' :: forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.Term.html#pthrow%27"><span class="hs-identifier hs-var hs-var">pthrow'</span></a></span></span><span> </span><span id="local-6989586621679609525"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679609525"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) a -&gt; TermMonad a
forall m. ReaderT Config (Either Text) m -&gt; TermMonad m
</span><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT Config (Either Text) a -&gt; TermMonad a)
-&gt; ReaderT Config (Either Text) a -&gt; TermMonad a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Config -&gt; Either Text a) -&gt; ReaderT Config (Either Text) a
forall r (m :: Type -&gt; Type) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((Config -&gt; Either Text a) -&gt; ReaderT Config (Either Text) a)
-&gt; (Config -&gt; Either Text a) -&gt; ReaderT Config (Either Text) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either Text a -&gt; Config -&gt; Either Text a
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Either Text a -&gt; Config -&gt; Either Text a)
-&gt; Either Text a -&gt; Config -&gt; Either Text a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text a
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.String.html#fromString"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CallStack -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Exception.html#prettyCallStack"><span class="hs-identifier hs-var">prettyCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">CallStack
HasCallStack =&gt; CallStack
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.html#callStack"><span class="hs-identifier hs-var">callStack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;\n\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679609525"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span id="local-6989586621679608045"><span id="local-6989586621679608046"><span class="annot"><a href="Plutarch.Internal.Term.html#pthrow"><span class="hs-identifier hs-type">pthrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608045"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608046"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-581"></span><span id="pthrow"><span class="annot"><span class="annottext">pthrow :: forall (s :: S) (a :: PType). HasCallStack =&gt; Text -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#pthrow"><span class="hs-identifier hs-var hs-var">pthrow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="annot"><span class="annottext">((Word64 -&gt; TermMonad TermResult) -&gt; Term s a)
-&gt; (Text -&gt; Word64 -&gt; TermMonad TermResult) -&gt; Text -&gt; Term s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult -&gt; Word64 -&gt; TermMonad TermResult
forall a. a -&gt; Word64 -&gt; a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; Word64 -&gt; TermMonad TermResult)
-&gt; (Text -&gt; TermMonad TermResult)
-&gt; Text
-&gt; Word64
-&gt; TermMonad TermResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TermMonad TermResult
forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.Term.html#pthrow%27"><span class="hs-identifier hs-var">pthrow'</span></a></span><span>
</span><span id="line-582"></span><span>
</span><span id="line-583"></span><span class="annot"><span class="hs-comment">-- | Lambda Application.</span></span><span>
</span><span id="line-584"></span><span id="local-6989586621679608033"><span id="local-6989586621679608034"><span id="local-6989586621679608035"><span class="annot"><a href="Plutarch.Internal.Term.html#papp"><span class="hs-identifier hs-type">papp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608033"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679608034"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608035"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608033"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608034"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608033"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608035"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-585"></span><span id="papp"><span class="annot"><span class="annottext">papp :: forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#papp"><span class="hs-identifier hs-var hs-var">papp</span></a></span></span><span> </span><span id="local-6989586621679609552"><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679609552"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679609553"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609553"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s b
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679609554"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609554"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult -&gt; (TermResult, TermResult))
-&gt; TermMonad TermResult
-&gt; TermMonad (TermResult -&gt; (TermResult, TermResult))
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679609552"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609554"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad (TermResult -&gt; (TermResult, TermResult))
-&gt; TermMonad TermResult -&gt; TermMonad (TermResult, TermResult)
forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609553"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609554"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad (TermResult, TermResult)
-&gt; ((TermResult, TermResult) -&gt; TermMonad TermResult)
-&gt; TermMonad TermResult
forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-587"></span><span>    </span><span class="hs-comment">-- Applying anything to an error is an error.</span><span>
</span><span id="line-588"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span>
</span><span id="line-589"></span><span>    </span><span class="hs-comment">-- Applying an error to anything is an error.</span><span>
</span><span id="line-590"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span>
</span><span id="line-591"></span><span>    </span><span class="hs-comment">-- Applying to `id` changes nothing.</span><span>
</span><span id="line-592"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609555"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609555"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609555"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-593"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609556"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609556"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609556"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-594"></span><span>    </span><span class="hs-comment">-- append argument</span><span>
</span><span id="line-595"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679609557"><span class="annot"><span class="annottext">x' :: TermResult
</span><a href="#local-6989586621679609557"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679609558"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609558"><span class="hs-identifier hs-var">x'l</span></a></span></span><span> </span><span id="local-6989586621679609559"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609559"><span class="hs-identifier hs-var">x'r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609560"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609560"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; [RawTerm] -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-var">RApply</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609558"><span class="hs-identifier hs-var">x'l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609560"><span class="hs-identifier hs-var">y'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [RawTerm] -&gt; [RawTerm]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609559"><span class="hs-identifier hs-var">x'r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609557"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609560"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>    </span><span class="hs-comment">-- new RApply</span><span>
</span><span id="line-597"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679609561"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609561"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609562"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609562"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; [RawTerm] -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-var">RApply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609561"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609562"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609561"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609562"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>
</span><span id="line-599"></span><span class="annot"><span class="hs-comment">{- |
  Plutus \'delay\', used for laziness.
-}</span></span><span>
</span><span id="line-602"></span><span id="local-6989586621679608053"><span id="local-6989586621679608054"><span class="annot"><a href="Plutarch.Internal.Term.html#pdelay"><span class="hs-identifier hs-type">pdelay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608053"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608054"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608053"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#PDelayed"><span class="hs-identifier hs-type">PDelayed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608054"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-603"></span><span id="pdelay"><span class="annot"><span class="annottext">pdelay :: forall (s :: S) (a :: PType). Term s a -&gt; Term s (PDelayed a)
</span><a href="Plutarch.Internal.Term.html#pdelay"><span class="hs-identifier hs-var hs-var">pdelay</span></a></span></span><span> </span><span id="local-6989586621679609564"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609564"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s (PDelayed a)
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult)
-&gt; TermMonad TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mapTerm"><span class="hs-identifier hs-var">mapTerm</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RDelay"><span class="hs-identifier hs-var">RDelay</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; TermMonad TermResult)
-&gt; (Word64 -&gt; TermMonad TermResult)
-&gt; Word64
-&gt; TermMonad TermResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679609564"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="annot"><span class="hs-comment">{- |
  Plutus \'force\',
  used to force evaluation of 'PDelayed' terms.
-}</span></span><span>
</span><span id="line-609"></span><span id="local-6989586621679608058"><span id="local-6989586621679608059"><span class="annot"><a href="Plutarch.Internal.Term.html#pforce"><span class="hs-identifier hs-type">pforce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608058"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#PDelayed"><span class="hs-identifier hs-type">PDelayed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608059"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608058"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608059"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-610"></span><span id="pforce"><span class="annot"><span class="annottext">pforce :: forall (s :: S) (a :: PType). Term s (PDelayed a) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#pforce"><span class="hs-identifier hs-var hs-var">pforce</span></a></span></span><span> </span><span id="local-6989586621679609566"><span class="annot"><span class="annottext">Term s (PDelayed a)
</span><a href="#local-6989586621679609566"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-611"></span><span>  </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span>
</span><span id="line-612"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult)
-&gt; TermMonad TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span>
</span><span id="line-613"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-614"></span><span>            </span><span class="hs-comment">-- A force cancels a delay</span><span>
</span><span id="line-615"></span><span>            </span><span id="local-6989586621679609567"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679609567"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RDelay"><span class="hs-identifier hs-type">RDelay</span></a></span><span> </span><span id="local-6989586621679609568"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609568"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609567"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679609568"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-616"></span><span>            </span><span id="local-6989586621679609569"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609569"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mapTerm"><span class="hs-identifier hs-var">mapTerm</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-var">RForce</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609569"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-617"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>        </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; TermMonad TermResult)
-&gt; (Word64 -&gt; TermMonad TermResult)
-&gt; Word64
-&gt; TermMonad TermResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PDelayed a) -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PDelayed a)
</span><a href="#local-6989586621679609566"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span class="annot"><span class="hs-comment">{- |
  Plutus \'error\'.

  When using this explicitly, it should be ensured that
  the containing term is delayed, avoiding premature evaluation.
-}</span></span><span>
</span><span id="line-627"></span><span id="local-6989586621679608062"><span id="local-6989586621679608063"><span class="annot"><a href="Plutarch.Internal.Term.html#perror"><span class="hs-identifier hs-type">perror</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608062"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608063"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-628"></span><span id="perror"><span class="annot"><span class="annottext">perror :: forall (s :: S) (a :: PType). Term s a
</span><a href="Plutarch.Internal.Term.html#perror"><span class="hs-identifier hs-var hs-var">perror</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="annot"><span class="hs-comment">{- |
Same as @perror@ except this holds integer id for AST look-ahead.

This can be used to &quot;tag&quot; branch and generate AST first to see if that branch is actually used or not,
allowing optimization cutting unused branches. For more detailed uscases, check @pmatchDataRec@.
-}</span></span><span>
</span><span id="line-636"></span><span id="local-6989586621679608066"><span id="local-6989586621679608067"><span class="annot"><a href="Plutarch.Internal.Term.html#pplaceholder"><span class="hs-identifier hs-type">pplaceholder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608066"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608067"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-637"></span><span id="pplaceholder"><span class="annot"><span class="annottext">pplaceholder :: forall (s :: S) (a :: PType). Integer -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#pplaceholder"><span class="hs-identifier hs-var hs-var">pplaceholder</span></a></span></span><span> </span><span id="local-6989586621679609572"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679609572"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RPlaceHolder"><span class="hs-identifier hs-var">RPlaceHolder</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679609572"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-638"></span><span>
</span><span id="line-639"></span><span id="local-6989586621679608070"><span id="local-6989586621679608071"><span class="annot"><a href="Plutarch.Internal.Term.html#pgetConfig"><span class="hs-identifier hs-type">pgetConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608071"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608071"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-640"></span><span id="pgetConfig"><span class="annot"><span class="annottext">pgetConfig :: forall (s :: S) (a :: PType). (Config -&gt; Term s a) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#pgetConfig"><span class="hs-identifier hs-var hs-var">pgetConfig</span></a></span></span><span> </span><span id="local-6989586621679609577"><span class="annot"><span class="annottext">Config -&gt; Term s a
</span><a href="#local-6989586621679609577"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679609578"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609578"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult
forall m. ReaderT Config (Either Text) m -&gt; TermMonad m
</span><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult)
-&gt; ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-641"></span><span>  </span><span id="local-6989586621679609579"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679609579"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) Config
forall r (m :: Type -&gt; Type). MonadReader r m =&gt; m r
</span><a href="../../../ghc-9.6.6/html/libraries/mtl-2.3.1/src/Control.Monad.Reader.Class.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-642"></span><span>  </span><span class="annot"><span class="annottext">TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall m. TermMonad m -&gt; ReaderT Config (Either Text) m
</span><a href="Plutarch.Internal.Term.html#%24sel%3ArunTermMonad%3ATermMonad"><span class="hs-identifier hs-var">runTermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult)
-&gt; TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Config -&gt; Term s a
</span><a href="#local-6989586621679609577"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679609579"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609578"><span class="hs-identifier hs-var">lvl</span></a></span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span class="annot"><span class="hs-comment">{- |
  Unsafely coerce the type-tag of a Term.

  This should mostly be avoided, though it can be safely
  used to assert known types of Datums, Redeemers or ScriptContext.
-}</span></span><span>
</span><span id="line-650"></span><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeCoerce"><span class="hs-identifier hs-type">punsafeCoerce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679608081"><span class="annot"><a href="#local-6989586621679608081"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679608080"><span class="annot"><a href="#local-6989586621679608080"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679608079"><span class="annot"><a href="#local-6989586621679608079"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608079"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608080"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608079"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608081"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-651"></span><span id="punsafeCoerce"><span class="annot"><span class="annottext">punsafeCoerce :: forall (b :: PType) (a :: PType) (s :: S). Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#punsafeCoerce"><span class="hs-identifier hs-var hs-var">punsafeCoerce</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span id="local-6989586621679609580"><span class="annot"><span class="annottext">Word64 -&gt; TermMonad TermResult
</span><a href="#local-6989586621679609580"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s b
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; TermMonad TermResult
</span><a href="#local-6989586621679609580"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span id="local-6989586621679608085"><span id="local-6989586621679608086"><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeBuiltin"><span class="hs-identifier hs-type">punsafeBuiltin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608085"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608086"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-654"></span><span id="punsafeBuiltin"><span class="annot"><span class="annottext">punsafeBuiltin :: forall (s :: S) (a :: PType). DefaultFun -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#punsafeBuiltin"><span class="hs-identifier hs-var hs-var">punsafeBuiltin</span></a></span></span><span> </span><span id="local-6989586621679609582"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679609582"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-var">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679609582"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">punsafeConstant</span><span> </span><span class="hs-pragma">&quot;Use `pconstant` instead.&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-657"></span><span id="local-6989586621679608089"><span id="local-6989586621679608090"><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeConstant"><span class="hs-identifier hs-type">punsafeConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValueOf</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608089"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608090"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-658"></span><span id="punsafeConstant"><span class="annot"><span class="annottext">punsafeConstant :: forall (s :: S) (a :: PType).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#punsafeConstant"><span class="hs-identifier hs-var hs-var">punsafeConstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; Term s a
forall (s :: S) (a :: PType).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#punsafeConstantInternal"><span class="hs-identifier hs-var">punsafeConstantInternal</span></a></span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span id="local-6989586621679609583"><span id="local-6989586621679609584"><span class="annot"><a href="Plutarch.Internal.Term.html#punsafeConstantInternal"><span class="hs-identifier hs-type">punsafeConstantInternal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValueOf</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609583"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609584"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-661"></span><span id="punsafeConstantInternal"><span class="annot"><span class="annottext">punsafeConstantInternal :: forall (s :: S) (a :: PType).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#punsafeConstantInternal"><span class="hs-identifier hs-var hs-var">punsafeConstantInternal</span></a></span></span><span> </span><span id="local-6989586621679609587"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679609587"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679609588"><span class="annot"><span class="annottext">hoisted :: HoistedTerm
</span><a href="#local-6989586621679609588"><span class="hs-identifier hs-var hs-var">hoisted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dig -&gt; RawTerm -&gt; HoistedTerm
</span><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.Term.html#hashRawTerm"><span class="hs-identifier hs-var">hashRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Dig) -&gt; RawTerm -&gt; Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679609587"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679609587"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-var">RHoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679609588"><span class="hs-identifier hs-var">hoisted</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Item [HoistedTerm]
HoistedTerm
</span><a href="#local-6989586621679609588"><span class="hs-identifier hs-var">hoisted</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-664"></span><span>
</span><span id="line-665"></span><span id="local-6989586621679608095"><span class="annot"><a href="Plutarch.Internal.Term.html#asClosedRawTerm"><span class="hs-identifier hs-type">asClosedRawTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608095"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span></span><span>
</span><span id="line-666"></span><span id="asClosedRawTerm"><span class="annot"><span class="annottext">asClosedRawTerm :: forall (a :: PType). ClosedTerm a -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#asClosedRawTerm"><span class="hs-identifier hs-var hs-var">asClosedRawTerm</span></a></span></span><span> </span><span id="local-6989586621679609590"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679609590"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a
ClosedTerm a
</span><a href="#local-6989586621679609590"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span class="hs-comment">-- FIXME: Give proper error message when mutually recursive.</span><span>
</span><span id="line-669"></span><span id="local-6989586621679608098"><span id="local-6989586621679608099"><span class="annot"><a href="Plutarch.Internal.Term.html#phoistAcyclic"><span class="hs-identifier hs-type">phoistAcyclic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608098"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608099"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608098"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-670"></span><span id="phoistAcyclic"><span class="annot"><span class="annottext">phoistAcyclic :: forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#phoistAcyclic"><span class="hs-identifier hs-var hs-var">phoistAcyclic</span></a></span></span><span> </span><span id="local-6989586621679609698"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679609698"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-671"></span><span>  </span><span class="annot"><span class="annottext">Term (Any @S) a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a
ClosedTerm a
</span><a href="#local-6989586621679609698"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult
-&gt; (TermResult -&gt; TermMonad TermResult) -&gt; TermMonad TermResult
forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-672"></span><span>    </span><span class="hs-comment">-- Built-ins are smaller than variable references</span><span>
</span><span id="line-673"></span><span>    </span><span id="local-6989586621679609699"><span class="annot"><span class="annottext">t' :: TermResult
</span><a href="#local-6989586621679609699"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609699"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-674"></span><span>    </span><span id="local-6989586621679609700"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609700"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Script -&gt; (Either EvalError Script, ExBudget, [Text])
</span><a href="Plutarch.Internal.Evaluate.html#evalScript"><span class="hs-identifier hs-var">evalScript</span></a></span><span> </span><span class="annot"><span class="annottext">(Script -&gt; (Either EvalError Script, ExBudget, [Text]))
-&gt; (UTerm -&gt; Script)
-&gt; UTerm
-&gt; (Either EvalError Script, ExBudget, [Text])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Program DeBruijn DefaultUni DefaultFun () -&gt; Script
</span><a href="Plutarch.Script.html#Script"><span class="hs-identifier hs-var">Script</span></a></span><span> </span><span class="annot"><span class="annottext">(Program DeBruijn DefaultUni DefaultFun () -&gt; Script)
-&gt; (UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; UTerm
-&gt; Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; Version -&gt; UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Version -&gt; Term name uni fun ann -&gt; Program name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Program</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Plutarch.Internal.Evaluate.html#uplcVersion"><span class="hs-identifier hs-var">uplcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; (Either EvalError Script, ExBudget, [Text]))
-&gt; UTerm -&gt; (Either EvalError Script, ExBudget, [Text])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier hs-var">compile'</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609700"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-675"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Script
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Text]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-676"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679609702"><span class="annot"><span class="annottext">hoisted :: HoistedTerm
</span><a href="#local-6989586621679609702"><span class="hs-identifier hs-var hs-var">hoisted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dig -&gt; RawTerm -&gt; HoistedTerm
</span><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.Term.html#hashRawTerm"><span class="hs-identifier hs-var">hashRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Dig) -&gt; (TermResult -&gt; RawTerm) -&gt; TermResult -&gt; Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Dig) -&gt; TermResult -&gt; Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609700"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609700"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall a. a -&gt; TermMonad a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-var">RHoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679609702"><span class="hs-identifier hs-var">hoisted</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679609702"><span class="hs-identifier hs-var">hoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609700"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679609703"><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679609703"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Text]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TermMonad TermResult
forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.Term.html#pthrow%27"><span class="hs-identifier hs-var">pthrow'</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TermMonad TermResult) -&gt; Text -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Hoisted term errs! &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.String.html#fromString"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EvalError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679609703"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="hs-comment">-- Couldn't find a definition for this in plutus-core</span><span>
</span><span id="line-681"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-type">subst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span>
</span><span id="line-682"></span><span id="subst"><span class="annot"><span class="annottext">subst :: Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var hs-var">subst</span></a></span></span><span> </span><span id="local-6989586621679609705"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609705"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609706"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609706"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Apply</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609707"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609707"><span class="hs-identifier hs-var">yx</span></a></span></span><span> </span><span id="local-6989586621679609708"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609708"><span class="hs-identifier hs-var">yy</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Apply</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609705"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609706"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609707"><span class="hs-identifier hs-var">yx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609705"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609706"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609708"><span class="hs-identifier hs-var">yy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-683"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679609709"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609709"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609710"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609710"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609711"><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679609711"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679609712"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609712"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679609711"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609709"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609710"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609712"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679609713"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609713"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609714"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609714"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Delay</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609715"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609715"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Delay</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609713"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609714"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609715"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-685"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679609716"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609716"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609717"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609717"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Force</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609718"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609718"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Force</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609716"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609717"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609718"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-686"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679609719"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609719"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609720"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609720"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679609721"><span class="annot"><span class="annottext">y :: UTerm
</span><a href="#local-6989586621679609721"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeBruijn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Index</span></span><span> </span><span id="local-6989586621679609722"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609722"><span class="hs-identifier hs-var">idx'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-687"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609719"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609722"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-688"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#EQ"><span class="hs-identifier hs-var">EQ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609720"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609719"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-689"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#GT"><span class="hs-identifier hs-var">GT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609721"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-690"></span><span>    </span><span class="annot"><span class="annottext">Ordering
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#LT"><span class="hs-identifier hs-var">LT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><span class="hs-identifier hs-var">DeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><span class="hs-identifier hs-var">Index</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609722"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-operator hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-691"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679609724"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609724"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609725"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609725"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Case</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609726"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609726"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679609727"><span class="annot"><span class="annottext">Vector UTerm
</span><a href="#local-6989586621679609727"><span class="hs-identifier hs-var">handlers</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; Vector UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Vector (Term name uni fun ann)
-&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Case</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609724"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609725"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609726"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; Vector UTerm -&gt; Vector UTerm
forall a b. (a -&gt; b) -&gt; Vector a -&gt; Vector b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609724"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609725"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector UTerm
</span><a href="#local-6989586621679609727"><span class="hs-identifier hs-var">handlers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-692"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679609728"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609728"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679609729"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609729"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Constr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609730"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609730"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679609731"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609731"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Word64 -&gt; [UTerm] -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Word64 -&gt; [Term name uni fun ann] -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Constr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609730"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; [UTerm] -&gt; [UTerm]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609728"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679609729"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609731"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609732"><span class="annot"><span class="annottext">y :: UTerm
</span><a href="#local-6989586621679609732"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Constant</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609732"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-694"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609733"><span class="annot"><span class="annottext">y :: UTerm
</span><a href="#local-6989586621679609733"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Builtin</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609733"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-695"></span><span class="annot"><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609734"><span class="annot"><span class="annottext">y :: UTerm
</span><a href="#local-6989586621679609734"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Error</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609734"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-type">rawTermToUPLC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-699"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-700"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-701"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span id="rawTermToUPLC"><span class="annot"><span class="annottext">rawTermToUPLC :: (HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var hs-var">rawTermToUPLC</span></a></span></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span id="local-6989586621679609736"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609736"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><span class="hs-identifier hs-var">DeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><span class="hs-identifier hs-var">Index</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609736"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Why the fuck does it start from 1 and not 0?</span><span>
</span><span id="line-703"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609737"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609737"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609738"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609738"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679609739"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609739"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679609740"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609740"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-704"></span><span>  </span><span class="annot"><span class="annottext">((UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm)
-&gt; UTerm -&gt; [UTerm -&gt; UTerm] -&gt; UTerm
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">($)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609737"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609738"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609739"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609740"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Int) -&gt; Word64 -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609739"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm])
-&gt; (UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><span class="hs-identifier hs-var">DeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><span class="hs-identifier hs-var">Index</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-705"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609743"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609743"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609744"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609744"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679609745"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609745"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679609746"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609746"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-707"></span><span>    </span><span class="annot"><a href="#local-6989586621679609747"><span class="hs-identifier hs-type">inline'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>    </span><span id="local-6989586621679609747"><span class="annot"><span class="annottext">inline' :: Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var hs-var">inline'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609748"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609748"><span class="hs-identifier hs-var">func</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609748"><span class="hs-identifier hs-var">func</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-709"></span><span>    </span><span class="annot"><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span id="local-6989586621679609749"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609749"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609750"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609750"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeBruijn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Index</span></span><span> </span><span id="local-6989586621679609751"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609751"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679609752"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609752"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-710"></span><span>      </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609749"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679609753"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609753"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><span class="hs-identifier hs-var">DeBruijn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><span class="hs-identifier hs-var">Index</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Index) -&gt; Word64 -&gt; Index
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609751"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609753"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-operator hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609749"><span class="hs-identifier hs-var">target</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609750"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609752"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="annot"><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span id="local-6989586621679609754"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609754"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609755"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609755"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609756"><span class="annot"><span class="annottext">arg :: UTerm
</span><a href="#local-6989586621679609756"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Builtin</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679609757"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609757"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-712"></span><span>      </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609754"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; Word64 -&gt; UTerm
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609756"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609755"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609757"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-713"></span><span>    </span><span class="annot"><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span id="local-6989586621679609758"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609758"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609759"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609759"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609760"><span class="annot"><span class="annottext">arg :: UTerm
</span><a href="#local-6989586621679609760"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Constant</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679609761"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609761"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-714"></span><span>      </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609758"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; Word64 -&gt; UTerm
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609760"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609759"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609761"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-715"></span><span>    </span><span class="hs-comment">-- inline' _ func@(UPLC.LamAbs () _ _ ) args = (func, args) -- This will skip inlining after first encounter of non-inlinable term</span><span>
</span><span id="line-716"></span><span>    </span><span class="annot"><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span id="local-6989586621679609762"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609762"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609763"><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679609763"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679609764"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609764"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609765"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609765"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679609766"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609766"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-717"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609767"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609767"><span class="hs-identifier hs-var">func'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609768"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609768"><span class="hs-identifier hs-var">args'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609762"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609764"><span class="hs-identifier hs-var">body</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609766"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-718"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679609763"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609767"><span class="hs-identifier hs-var">func'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609765"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; [UTerm] -&gt; [UTerm]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609768"><span class="hs-identifier hs-var">args'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-719"></span><span>    </span><span class="annot"><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span id="local-6989586621679609769"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609769"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span id="local-6989586621679609770"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609770"><span class="hs-identifier hs-var">func</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609771"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609771"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679609772"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609772"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-720"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609773"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609773"><span class="hs-identifier hs-var">func'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609774"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609774"><span class="hs-identifier hs-var">args'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609769"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609770"><span class="hs-identifier hs-var">func</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609772"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-721"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609773"><span class="hs-identifier hs-var">func'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609771"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; [UTerm] -&gt; [UTerm]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609774"><span class="hs-identifier hs-var">args'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-722"></span><span>
</span><span id="line-723"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679609775"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609775"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609776"><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609776"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm -&gt; [UTerm] -&gt; (UTerm, [UTerm])
</span><a href="#local-6989586621679609747"><span class="hs-identifier hs-var">inline'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609743"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609744"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609745"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[UTerm] -&gt; [UTerm]
forall a. [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">([UTerm] -&gt; [UTerm]) -&gt; [UTerm] -&gt; [UTerm]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609743"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609744"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; UTerm) -&gt; [RawTerm] -&gt; [UTerm]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609746"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span>    </span><span id="local-6989586621679609778"><span class="annot"><span class="annottext">applied :: UTerm
</span><a href="#local-6989586621679609778"><span class="hs-identifier hs-var hs-var">applied</span></a></span></span><span>
</span><span id="line-726"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[UTerm] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: Type -&gt; Type) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609776"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm -&gt; UTerm) -&gt; UTerm -&gt; [UTerm] -&gt; UTerm
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Apply</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609775"><span class="hs-identifier hs-var">body</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609776"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-727"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; Vector UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Vector (Term name uni fun ann)
-&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Case</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Word64 -&gt; [UTerm] -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Word64 -&gt; [Term name uni fun ann] -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Constr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">[UTerm]
</span><a href="#local-6989586621679609776"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; Vector UTerm
forall a. a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.singleton</span></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609775"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-728"></span><span>   </span><span class="hs-keyword">in</span><span>
</span><span id="line-729"></span><span>    </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609778"><span class="hs-identifier hs-var">applied</span></a></span><span>
</span><span id="line-730"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609782"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609782"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609783"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609783"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RDelay"><span class="hs-identifier hs-type">RDelay</span></a></span><span> </span><span id="local-6989586621679609784"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609784"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Delay</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609782"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609783"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609784"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-731"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609785"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609785"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609786"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609786"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span id="local-6989586621679609787"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609787"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Force</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609785"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609786"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609787"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span id="local-6989586621679609788"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679609788"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DefaultFun -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; fun -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Builtin</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679609788"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-733"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span id="local-6989586621679609789"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679609789"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Some @Type (ValueOf DefaultUni) -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Some @Type (ValueOf uni) -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Constant</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679609789"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-734"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RCompiled"><span class="hs-identifier hs-type">RCompiled</span></a></span><span> </span><span id="local-6989586621679609790"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609790"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609790"><span class="hs-identifier hs-var">code</span></a></span><span>
</span><span id="line-735"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RPlaceHolder"><span class="hs-identifier hs-type">RPlaceHolder</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Error</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-736"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.Term.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Error</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-737"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609791"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609791"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609792"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609792"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstr"><span class="hs-identifier hs-type">RConstr</span></a></span><span> </span><span id="local-6989586621679609793"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609793"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679609794"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609794"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Word64 -&gt; [UTerm] -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Word64 -&gt; [Term name uni fun ann] -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Constr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609793"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609791"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609792"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; UTerm) -&gt; [RawTerm] -&gt; [UTerm]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609794"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609795"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609795"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609796"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609796"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RCase"><span class="hs-identifier hs-type">RCase</span></a></span><span> </span><span id="local-6989586621679609797"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609797"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679609798"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609798"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; Vector UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Vector (Term name uni fun ann)
-&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Case</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609795"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609796"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609797"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Vector UTerm -&gt; UTerm) -&gt; Vector UTerm -&gt; UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[UTerm] -&gt; Vector UTerm
forall a. [a] -&gt; Vector a
</span><span class="hs-identifier hs-var">V.fromList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609795"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609796"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; UTerm) -&gt; [RawTerm] -&gt; [UTerm]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679609798"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-739"></span><span class="hs-comment">-- rawTermToUPLC m l (RHoisted hoisted) = UPLC.Var () . DeBruijn . Index $ l - m hoisted</span><span>
</span><span id="line-740"></span><span class="annot"><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679609800"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609800"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679609801"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609801"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span id="local-6989586621679609802"><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679609802"><span class="hs-identifier hs-var">hoisted</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609800"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679609802"><span class="hs-identifier hs-var">hoisted</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609801"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-comment">-- UPLC.Var () . DeBruijn . Index $ l - m hoisted</span><span>
</span><span id="line-741"></span><span>
</span><span id="line-742"></span><span class="annot"><a href="Plutarch.Internal.Term.html#smallEnoughToInline"><span class="hs-identifier hs-type">smallEnoughToInline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-743"></span><span id="smallEnoughToInline"><span class="annot"><span class="annottext">smallEnoughToInline :: RawTerm -&gt; Bool
</span><a href="Plutarch.Internal.Term.html#smallEnoughToInline"><span class="hs-identifier hs-var hs-var">smallEnoughToInline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-744"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValueOf</span></span><span> </span><span class="annot"><span class="annottext">DefaultUni (Esc @Type a)
</span><span class="hs-identifier hs-var">PLC.DefaultUniBool</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-745"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValueOf</span></span><span> </span><span class="annot"><span class="annottext">DefaultUni (Esc @Type a)
</span><span class="hs-identifier hs-var">PLC.DefaultUniUnit</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-746"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ValueOf</span></span><span> </span><span class="annot"><span class="annottext">DefaultUni (Esc @Type a)
</span><span class="hs-identifier hs-var">PLC.DefaultUniInteger</span></span><span> </span><span id="local-6989586621679609816"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679609816"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679609816"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">256</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-747"></span><span>  </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span class="hs-comment">-- The logic is mostly for hoisting</span><span>
</span><span id="line-750"></span><span class="annot"><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier hs-type">compile'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span>
</span><span id="line-751"></span><span id="compile%27"><span class="annot"><span class="annottext">compile' :: TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier hs-var hs-var">compile'</span></a></span></span><span> </span><span id="local-6989586621679609818"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609818"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-752"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679609819"><span class="annot"><span class="annottext">t' :: RawTerm
</span><a href="#local-6989586621679609819"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609818"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-753"></span><span>      </span><span id="local-6989586621679609820"><span class="annot"><span class="annottext">deps :: [HoistedTerm]
</span><a href="#local-6989586621679609820"><span class="hs-identifier hs-var hs-var">deps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetDeps%3ATermResult"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609818"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-754"></span><span>
</span><span id="line-755"></span><span>      </span><span class="annot"><a href="#local-6989586621679609821"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-756"></span><span>      </span><span id="local-6989586621679609821"><span class="annot"><span class="annottext">f :: Word64 -&gt; Maybe Word64 -&gt; (Bool, Maybe Word64)
</span><a href="#local-6989586621679609821"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679609822"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609822"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Word64
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609822"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span>      </span><span class="annot"><a href="#local-6989586621679609821"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679609823"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609823"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609823"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-758"></span><span>
</span><span id="line-759"></span><span>      </span><span class="annot"><a href="#local-6989586621679609824"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-760"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-761"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-762"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span>      </span><span id="local-6989586621679609824"><span class="annot"><span class="annottext">g :: HoistedTerm
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
</span><a href="#local-6989586621679609824"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609825"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609825"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679609826"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609826"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609827"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609827"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609828"><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679609828"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609829"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609829"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Maybe Word64 -&gt; (Bool, Maybe Word64))
-&gt; Dig -&gt; Map Dig Word64 -&gt; (Bool, Map Dig Word64)
forall (f :: Type -&gt; Type) k a.
(Functor f, Ord k) =&gt;
(Maybe a -&gt; f (Maybe a)) -&gt; k -&gt; Map k a -&gt; f (Map k a)
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#alterF"><span class="hs-identifier hs-var">M.alterF</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64 -&gt; (Bool, Maybe Word64)
</span><a href="#local-6989586621679609821"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609829"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609825"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609827"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-764"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609831"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609831"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609831"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609829"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609826"><span class="hs-identifier hs-var">term</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Word64, RawTerm) -&gt; [(Word64, RawTerm)] -&gt; [(Word64, RawTerm)]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679609828"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609829"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609832"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609832"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609832"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679609828"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609829"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span>      </span><span class="annot"><a href="#local-6989586621679609833"><span class="hs-identifier hs-type">hoistedTermRaw</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-768"></span><span>      </span><span id="local-6989586621679609833"><span class="annot"><span class="annottext">hoistedTermRaw :: HoistedTerm -&gt; RawTerm
</span><a href="#local-6989586621679609833"><span class="hs-identifier hs-var hs-var">hoistedTermRaw</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679609834"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609834"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609834"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span>      </span><span class="annot"><a href="#local-6989586621679609835"><span class="hs-identifier hs-type">toInline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span>
</span><span id="line-771"></span><span>      </span><span id="local-6989586621679609835"><span class="annot"><span class="annottext">toInline :: Set Dig
</span><a href="#local-6989586621679609835"><span class="hs-identifier hs-var hs-var">toInline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-772"></span><span>        </span><span class="annot"><span class="annottext">[Dig] -&gt; Set Dig
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span>
</span><span id="line-773"></span><span>          </span><span class="annot"><span class="annottext">([Dig] -&gt; Set Dig)
-&gt; ([HoistedTerm] -&gt; [Dig]) -&gt; [HoistedTerm] -&gt; Set Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Dig) -&gt; [HoistedTerm] -&gt; [Dig]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609837"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609837"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609837"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-774"></span><span>          </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; [Dig])
-&gt; ([HoistedTerm] -&gt; [HoistedTerm]) -&gt; [HoistedTerm] -&gt; [Dig]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; HoistedTerm
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="hs-operator">&lt;$&gt;</span><span class="hs-special">)</span><span>
</span><span id="line-775"></span><span>          </span><span class="annot"><span class="annottext">([[HoistedTerm]] -&gt; [HoistedTerm])
-&gt; ([HoistedTerm] -&gt; [[HoistedTerm]])
-&gt; [HoistedTerm]
-&gt; [HoistedTerm]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; Bool) -&gt; [[HoistedTerm]] -&gt; [[HoistedTerm]]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679609839"><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679609839"><span class="hs-identifier hs-var">terms</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: Type -&gt; Type) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679609839"><span class="hs-identifier hs-var">terms</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Bool
</span><a href="Plutarch.Internal.Term.html#smallEnoughToInline"><span class="hs-identifier hs-var">smallEnoughToInline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm -&gt; RawTerm
</span><a href="#local-6989586621679609833"><span class="hs-identifier hs-var">hoistedTermRaw</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; RawTerm) -&gt; HoistedTerm -&gt; RawTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; HoistedTerm
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679609839"><span class="hs-identifier hs-var">terms</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-776"></span><span>          </span><span class="annot"><span class="annottext">([[HoistedTerm]] -&gt; [[HoistedTerm]])
-&gt; ([HoistedTerm] -&gt; [[HoistedTerm]])
-&gt; [HoistedTerm]
-&gt; [[HoistedTerm]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; HoistedTerm -&gt; Bool)
-&gt; [HoistedTerm] -&gt; [[HoistedTerm]]
forall a. (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [[a]]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.OldList.html#groupBy"><span class="hs-identifier hs-var">groupBy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609841"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609841"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609842"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609842"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609841"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Dig -&gt; Dig -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609842"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>          </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; [[HoistedTerm]])
-&gt; ([HoistedTerm] -&gt; [HoistedTerm])
-&gt; [HoistedTerm]
-&gt; [[HoistedTerm]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Dig) -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.OldList.html#sortOn"><span class="hs-identifier hs-var">sortOn</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609843"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609843"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609843"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>          </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; Set Dig) -&gt; [HoistedTerm] -&gt; Set Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679609820"><span class="hs-identifier hs-var">deps</span></a></span><span>
</span><span id="line-779"></span><span>
</span><span id="line-780"></span><span>      </span><span class="hs-comment">-- map: term -&gt; de Bruijn level</span><span>
</span><span id="line-781"></span><span>      </span><span class="hs-comment">-- defs: the terms, level 0 is last</span><span>
</span><span id="line-782"></span><span>      </span><span class="hs-comment">-- n: # of terms</span><span>
</span><span id="line-783"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679609844"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609844"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609845"><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679609845"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609846"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609846"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm
 -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
 -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64))
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
-&gt; [HoistedTerm]
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
</span><a href="#local-6989586621679609824"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Dig Word64
forall k a. Map k a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64))
-&gt; [HoistedTerm] -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Bool) -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609848"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609848"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Dig -&gt; Set Dig -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609848"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">Set Dig
</span><a href="#local-6989586621679609835"><span class="hs-identifier hs-var">toInline</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679609820"><span class="hs-identifier hs-var">deps</span></a></span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span>      </span><span id="local-6989586621679609851"><span class="annot"><span class="annottext">map' :: HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609851"><span class="hs-identifier hs-var hs-var">map'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679609852"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609852"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679609853"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609853"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679609854"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609854"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Dig -&gt; Map Dig Word64 -&gt; Maybe Word64
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679609852"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679609844"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-786"></span><span>        </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679609856"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609856"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DeBruijn -&gt; UTerm) -&gt; (Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><span class="hs-identifier hs-var">DeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><span class="hs-identifier hs-var">Index</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; UTerm) -&gt; Word64 -&gt; UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609854"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-operator hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609856"><span class="hs-identifier hs-var">l'</span></a></span><span>
</span><span id="line-787"></span><span>        </span><span class="annot"><span class="annottext">Maybe Word64
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609851"><span class="hs-identifier hs-var">map'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609854"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609853"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span>      </span><span id="local-6989586621679609857"><span class="annot"><span class="annottext">body :: UTerm
</span><a href="#local-6989586621679609857"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609851"><span class="hs-identifier hs-var">map'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609846"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609819"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span>      </span><span id="local-6989586621679609858"><span class="annot"><span class="annottext">wrapped :: UTerm
</span><a href="#local-6989586621679609858"><span class="hs-identifier hs-var hs-var">wrapped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-792"></span><span>        </span><span class="annot"><span class="annottext">(UTerm -&gt; (Word64, RawTerm) -&gt; UTerm)
-&gt; UTerm -&gt; [(Word64, RawTerm)] -&gt; UTerm
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span>
</span><span id="line-793"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679609859"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609859"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609860"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609860"><span class="hs-identifier hs-var">lvl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679609861"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609861"><span class="hs-identifier hs-var">def</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Apply</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.LamAbs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><span class="hs-identifier hs-var">DeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><span class="hs-identifier hs-var">Index</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609859"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679609851"><span class="hs-identifier hs-var">map'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679609860"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679609861"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-794"></span><span>          </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609857"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-795"></span><span>          </span><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679609845"><span class="hs-identifier hs-var">defs</span></a></span><span>
</span><span id="line-796"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609858"><span class="hs-identifier hs-var">wrapped</span></a></span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="annot"><span class="hs-comment">-- | Compile a (closed) Plutus Term to a usable script</span></span><span>
</span><span id="line-799"></span><span id="local-6989586621679608198"><span class="annot"><a href="Plutarch.Internal.Term.html#compile"><span class="hs-identifier hs-type">compile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608198"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier hs-type">Script</span></a></span></span><span>
</span><span id="line-800"></span><span id="compile"><span class="annot"><span class="annottext">compile :: forall (a :: PType). Config -&gt; ClosedTerm a -&gt; Either Text Script
</span><a href="Plutarch.Internal.Term.html#compile"><span class="hs-identifier hs-var hs-var">compile</span></a></span></span><span> </span><span id="local-6989586621679609863"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679609863"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679609864"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679609864"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ClosedTerm a -&gt; TermMonad TermResult
forall (a :: PType). ClosedTerm a -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#asClosedRawTerm"><span class="hs-identifier hs-var">asClosedRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
ClosedTerm a
</span><a href="#local-6989586621679609864"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-801"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span id="local-6989586621679609865"><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679609865"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Program DeBruijn DefaultUni DefaultFun () -&gt; Script
</span><a href="Plutarch.Script.html#Script"><span class="hs-identifier hs-var">Script</span></a></span><span> </span><span class="annot"><span class="annottext">(Program DeBruijn DefaultUni DefaultFun () -&gt; Script)
-&gt; (TermResult -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; TermResult
-&gt; Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; Version -&gt; UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Version -&gt; Term name uni fun ann -&gt; Program name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Program</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Plutarch.Internal.Evaluate.html#uplcVersion"><span class="hs-identifier hs-var">uplcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; (TermResult -&gt; UTerm)
-&gt; TermResult
-&gt; Program DeBruijn DefaultUni DefaultFun ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier hs-var">compile'</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Script)
-&gt; Either Text TermResult -&gt; Either Text Script
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679609865"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679609863"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span class="annot"><span class="hs-comment">{- | As 'compile', but performs UPLC optimizations. Furthermore, this will
always elide tracing (as if with 'NoTracing').

@since WIP
-}</span></span><span>
</span><span id="line-808"></span><span class="annot"><a href="Plutarch.Internal.Term.html#compileOptimized"><span class="hs-identifier hs-type">compileOptimized</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-809"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608202"><span class="annot"><a href="#local-6989586621679608202"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-810"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608201"><span class="annot"><a href="#local-6989586621679608201"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608201"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608202"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-811"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span>
</span><span id="line-812"></span><span id="compileOptimized"><span class="annot"><span class="annottext">compileOptimized :: forall (a :: PType).
(forall (s :: S). Term s a) -&gt; Either Text Script
</span><a href="Plutarch.Internal.Term.html#compileOptimized"><span class="hs-identifier hs-var hs-var">compileOptimized</span></a></span></span><span> </span><span id="local-6989586621679609940"><span class="annot"><span class="annottext">forall (s :: S). Term s a
</span><a href="#local-6989586621679609940"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S). Term s a) -&gt; TermMonad TermResult
forall (a :: PType). ClosedTerm a -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#asClosedRawTerm"><span class="hs-identifier hs-var">asClosedRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
forall (s :: S). Term s a
</span><a href="#local-6989586621679609940"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span id="local-6989586621679609941"><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679609941"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-814"></span><span>    </span><span id="local-6989586621679609942"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609942"><span class="hs-identifier hs-var">configured</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679609941"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="Plutarch.Internal.Term.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span><span>
</span><span id="line-815"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679609943"><span class="annot"><span class="annottext">compiled :: UTerm
</span><a href="#local-6989586621679609943"><span class="hs-identifier hs-var hs-var">compiled</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier hs-var">compile'</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679609942"><span class="hs-identifier hs-var">configured</span></a></span><span>
</span><span id="line-816"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Either (Error DefaultUni DefaultFun ()) UTerm
</span><a href="#local-6989586621679609944"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609943"><span class="hs-identifier hs-var">compiled</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-817"></span><span>      </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679609945"><span class="annot"><span class="annottext">Error DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609945"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text Script
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text Script)
-&gt; (Error DefaultUni DefaultFun () -&gt; Text)
-&gt; Error DefaultUni DefaultFun ()
-&gt; Either Text Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text)
-&gt; (Error DefaultUni DefaultFun () -&gt; String)
-&gt; Error DefaultUni DefaultFun ()
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Error DefaultUni DefaultFun () -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Error DefaultUni DefaultFun () -&gt; Either Text Script)
-&gt; Error DefaultUni DefaultFun () -&gt; Either Text Script
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Error DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609945"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-818"></span><span>      </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679609947"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609947"><span class="hs-identifier hs-var">simplified</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Script -&gt; Either Text Script
forall a. a -&gt; Either Text a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Script -&gt; Either Text Script)
-&gt; (UTerm -&gt; Script) -&gt; UTerm -&gt; Either Text Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Program DeBruijn DefaultUni DefaultFun () -&gt; Script
</span><a href="Plutarch.Script.html#Script"><span class="hs-identifier hs-var">Script</span></a></span><span> </span><span class="annot"><span class="annottext">(Program DeBruijn DefaultUni DefaultFun () -&gt; Script)
-&gt; (UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; UTerm
-&gt; Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; Version -&gt; UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Version -&gt; Term name uni fun ann -&gt; Program name uni fun ann
</span><span class="hs-identifier hs-var">UPLC.Program</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Plutarch.Internal.Evaluate.html#uplcVersion"><span class="hs-identifier hs-var">uplcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; Either Text Script) -&gt; UTerm -&gt; Either Text Script
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609947"><span class="hs-identifier hs-var">simplified</span></a></span><span>
</span><span id="line-819"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-820"></span><span>    </span><span class="annot"><a href="#local-6989586621679609944"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-821"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-822"></span><span>      </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLC.Error</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-823"></span><span>    </span><span id="local-6989586621679609944"><span class="annot"><span class="annottext">go :: UTerm -&gt; Either (Error DefaultUni DefaultFun ()) UTerm
</span><a href="#local-6989586621679609944"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679609948"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609948"><span class="hs-identifier hs-var">compiled</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(StateT
   (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
   (Either (Error DefaultUni DefaultFun ()))
   UTerm
 -&gt; UPLCSimplifierTrace Name DefaultUni DefaultFun ()
 -&gt; Either (Error DefaultUni DefaultFun ()) UTerm)
-&gt; UPLCSimplifierTrace Name DefaultUni DefaultFun ()
-&gt; StateT
     (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
     (Either (Error DefaultUni DefaultFun ()))
     UTerm
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">StateT
  (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
  (Either (Error DefaultUni DefaultFun ()))
  UTerm
-&gt; UPLCSimplifierTrace Name DefaultUni DefaultFun ()
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall (m :: Type -&gt; Type) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.State.Strict.html#evalStateT"><span class="hs-identifier hs-var">evalStateT</span></a></span><span> </span><span class="annot"><span class="annottext">UPLCSimplifierTrace Name DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun a.
UPLCSimplifierTrace name uni fun a
</span><span class="hs-identifier hs-var">initUPLCSimplifierTrace</span></span><span> </span><span class="annot"><span class="annottext">(StateT
   (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
   (Either (Error DefaultUni DefaultFun ()))
   UTerm
 -&gt; Either (Error DefaultUni DefaultFun ()) UTerm)
-&gt; (QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      UTerm
    -&gt; StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ()))
         UTerm)
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QuoteT
  (StateT
     (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
     (Either (Error DefaultUni DefaultFun ())))
  UTerm
-&gt; StateT
     (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
     (Either (Error DefaultUni DefaultFun ()))
     UTerm
forall (m :: Type -&gt; Type) a. Monad m =&gt; QuoteT m a -&gt; m a
</span><span class="hs-identifier hs-var">PLC.runQuoteT</span></span><span> </span><span class="annot"><span class="annottext">(QuoteT
   (StateT
      (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
      (Either (Error DefaultUni DefaultFun ())))
   UTerm
 -&gt; Either (Error DefaultUni DefaultFun ()) UTerm)
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-824"></span><span>      </span><span id="local-6989586621679609950"><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609950"><span class="hs-identifier hs-var">unDB</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term NamedDeBruijn DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall (m :: Type -&gt; Type) e (uni :: Type -&gt; Type) fun ann.
(MonadQuote m, AsFreeVariableError e, MonadError e m) =&gt;
Term NamedDeBruijn uni fun ann -&gt; m (Term Name uni fun ann)
</span><span class="hs-identifier hs-var">UPLC.unDeBruijnTerm</span></span><span> </span><span class="annot"><span class="annottext">(Term NamedDeBruijn DefaultUni DefaultFun ()
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      (Term Name DefaultUni DefaultFun ()))
-&gt; (UTerm -&gt; Term NamedDeBruijn DefaultUni DefaultFun ())
-&gt; UTerm
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(DeBruijn -&gt; NamedDeBruijn)
-&gt; UTerm -&gt; Term NamedDeBruijn DefaultUni DefaultFun ()
forall name name' (uni :: Type -&gt; Type) fun ann.
(name -&gt; name') -&gt; Term name uni fun ann -&gt; Term name' uni fun ann
</span><span class="hs-identifier hs-var">UPLC.termMapNames</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn -&gt; NamedDeBruijn
</span><span class="hs-identifier hs-var">UPLC.fakeNameDeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(UTerm
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      (Term Name DefaultUni DefaultFun ()))
-&gt; UTerm
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679609948"><span class="hs-identifier hs-var">compiled</span></a></span><span>
</span><span id="line-825"></span><span>      </span><span id="local-6989586621679609954"><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609954"><span class="hs-identifier hs-var">simplified</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SimplifyOpts Name ()
-&gt; BuiltinSemanticsVariant DefaultFun
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall name (uni :: Type -&gt; Type) fun (m :: Type -&gt; Type) a.
(Compiling m uni fun name a,
 MonadState (UPLCSimplifierTrace name uni fun a) m) =&gt;
SimplifyOpts name a
-&gt; BuiltinSemanticsVariant fun
-&gt; Term name uni fun a
-&gt; m (Term name uni fun a)
</span><span class="hs-identifier hs-var">UPLC.simplifyTerm</span></span><span> </span><span class="annot"><span class="annottext">SimplifyOpts Name ()
forall name a. SimplifyOpts name a
</span><span class="hs-identifier hs-var">UPLC.defaultSimplifyOpts</span></span><span> </span><span class="annot"><span class="annottext">BuiltinSemanticsVariant DefaultFun
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span> </span><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609950"><span class="hs-identifier hs-var">unDB</span></a></span><span>
</span><span id="line-826"></span><span>      </span><span id="local-6989586621679609957"><span class="annot"><span class="annottext">Term NamedDeBruijn DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609957"><span class="hs-identifier hs-var">debruijnd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term NamedDeBruijn DefaultUni DefaultFun ())
forall e (m :: Type -&gt; Type) (uni :: Type -&gt; Type) fun ann.
(AsFreeVariableError e, MonadError e m) =&gt;
Term Name uni fun ann -&gt; m (Term NamedDeBruijn uni fun ann)
</span><span class="hs-identifier hs-var">UPLC.deBruijnTerm</span></span><span> </span><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609954"><span class="hs-identifier hs-var">simplified</span></a></span><span>
</span><span id="line-827"></span><span>      </span><span class="annot"><span class="annottext">UTerm
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
forall a.
a
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      UTerm)
-&gt; (Term NamedDeBruijn DefaultUni DefaultFun () -&gt; UTerm)
-&gt; Term NamedDeBruijn DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedDeBruijn -&gt; DeBruijn)
-&gt; Term NamedDeBruijn DefaultUni DefaultFun () -&gt; UTerm
forall name name' (uni :: Type -&gt; Type) fun ann.
(name -&gt; name') -&gt; Term name uni fun ann -&gt; Term name' uni fun ann
</span><span class="hs-identifier hs-var">UPLC.termMapNames</span></span><span> </span><span class="annot"><span class="annottext">NamedDeBruijn -&gt; DeBruijn
</span><span class="hs-identifier hs-var">UPLC.unNameDeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Term NamedDeBruijn DefaultUni DefaultFun ()
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      UTerm)
-&gt; Term NamedDeBruijn DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term NamedDeBruijn DefaultUni DefaultFun ()
</span><a href="#local-6989586621679609957"><span class="hs-identifier hs-var">debruijnd</span></a></span><span>
</span><span id="line-828"></span><span>
</span><span id="line-829"></span><span class="annot"><span class="hs-comment">{- | Given a closed 'Term', run the UPLC optimizer on it.

= Important note

If the input term has any hoisted dependencies, these are completely erased
by this process. Thus, if the resulting 'Term' is used as part of a larger
computation with the same dependencies, the Plutarch compiler will not be
aware of them, and will not be able to optimize them properly. More
concretely, in a case like this:

@@
padd # optimizeTerm (f # pexpensive) # optimizeTerm (g # pexpensive)
@@

@pexpensive@ will end up being duplicated entirely into each \'arm\' of the
@padd@, even though under normal circumstances it could be shared.

Thus, if you plan to use this, ensure that it is done \'as late as
possible\'; embedding 'Term's produced by 'optimizeTerm' into larger
computations can lead to size blowout if not done carefully.
-}</span></span><span>
</span><span id="line-850"></span><span class="annot"><a href="Plutarch.Internal.Term.html#optimizeTerm"><span class="hs-identifier hs-type">optimizeTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608278"><span class="annot"><a href="#local-6989586621679608278"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679608277"><span class="annot"><a href="#local-6989586621679608277"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608277"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608278"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-853"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679609960"><span class="annot"><a href="#local-6989586621679609960"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679609960"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608278"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-854"></span><span id="optimizeTerm"><span class="annot"><span class="annottext">optimizeTerm :: forall (a :: PType).
(forall (s :: S). Term s a) -&gt; forall (s :: S). Term s a
</span><a href="Plutarch.Internal.Term.html#optimizeTerm"><span class="hs-identifier hs-var hs-var">optimizeTerm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span id="local-6989586621679610019"><span class="annot"><span class="annottext">Word64 -&gt; TermMonad TermResult
</span><a href="#local-6989586621679610019"><span class="hs-identifier hs-var">raw</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="annot"><span class="annottext">((Word64 -&gt; TermMonad TermResult) -&gt; Term s a)
-&gt; (Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679610020"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610020"><span class="hs-identifier hs-var">w64</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-855"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span id="local-6989586621679610021"><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679610021"><span class="hs-identifier hs-var">comp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; TermMonad TermResult
</span><a href="#local-6989586621679610019"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679610020"><span class="hs-identifier hs-var">w64</span></a></span><span>
</span><span id="line-856"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult
forall m. ReaderT Config (Either Text) m -&gt; TermMonad m
</span><a href="Plutarch.Internal.Term.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult)
-&gt; ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Config -&gt; Either Text TermResult)
-&gt; ReaderT Config (Either Text) TermResult
forall r (m :: Type -&gt; Type) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((Config -&gt; Either Text TermResult)
 -&gt; ReaderT Config (Either Text) TermResult)
-&gt; (Config -&gt; Either Text TermResult)
-&gt; ReaderT Config (Either Text) TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679610022"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679610022"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-857"></span><span>        </span><span id="local-6989586621679610023"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679610023"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679610021"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679610022"><span class="hs-identifier hs-var">conf</span></a></span><span>
</span><span id="line-858"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679610024"><span class="annot"><span class="annottext">compiled :: UTerm
</span><a href="#local-6989586621679610024"><span class="hs-identifier hs-var hs-var">compiled</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.Term.html#compile%27"><span class="hs-identifier hs-var">compile'</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679610023"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-859"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; Either (Error DefaultUni DefaultFun ()) UTerm
</span><a href="#local-6989586621679610025"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679610024"><span class="hs-identifier hs-var">compiled</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-860"></span><span>          </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679610026"><span class="annot"><span class="annottext">Error DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610026"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text TermResult
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either Text TermResult)
-&gt; (Error DefaultUni DefaultFun () -&gt; Text)
-&gt; Error DefaultUni DefaultFun ()
-&gt; Either Text TermResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text)
-&gt; (Error DefaultUni DefaultFun () -&gt; String)
-&gt; Error DefaultUni DefaultFun ()
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Error DefaultUni DefaultFun () -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Error DefaultUni DefaultFun () -&gt; Either Text TermResult)
-&gt; Error DefaultUni DefaultFun () -&gt; Either Text TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Error DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610026"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-861"></span><span>          </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679610027"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679610027"><span class="hs-identifier hs-var">simplified</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; Either Text TermResult
forall a. a -&gt; Either Text a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Either Text TermResult)
-&gt; ([HoistedTerm] -&gt; TermResult)
-&gt; [HoistedTerm]
-&gt; Either Text TermResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.Term.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#RCompiled"><span class="hs-identifier hs-var">RCompiled</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679610027"><span class="hs-identifier hs-var">simplified</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; Either Text TermResult)
-&gt; [HoistedTerm] -&gt; Either Text TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-862"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-863"></span><span>    </span><span class="annot"><a href="#local-6989586621679610025"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-864"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-865"></span><span>      </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLC.Error</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Term</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DeBruijn</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-866"></span><span>    </span><span id="local-6989586621679610025"><span class="annot"><span class="annottext">go :: UTerm -&gt; Either (Error DefaultUni DefaultFun ()) UTerm
</span><a href="#local-6989586621679610025"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679610028"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679610028"><span class="hs-identifier hs-var">compiled</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(StateT
   (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
   (Either (Error DefaultUni DefaultFun ()))
   UTerm
 -&gt; UPLCSimplifierTrace Name DefaultUni DefaultFun ()
 -&gt; Either (Error DefaultUni DefaultFun ()) UTerm)
-&gt; UPLCSimplifierTrace Name DefaultUni DefaultFun ()
-&gt; StateT
     (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
     (Either (Error DefaultUni DefaultFun ()))
     UTerm
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">StateT
  (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
  (Either (Error DefaultUni DefaultFun ()))
  UTerm
-&gt; UPLCSimplifierTrace Name DefaultUni DefaultFun ()
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall (m :: Type -&gt; Type) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.State.Strict.html#evalStateT"><span class="hs-identifier hs-var">evalStateT</span></a></span><span> </span><span class="annot"><span class="annottext">UPLCSimplifierTrace Name DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun a.
UPLCSimplifierTrace name uni fun a
</span><span class="hs-identifier hs-var">initUPLCSimplifierTrace</span></span><span> </span><span class="annot"><span class="annottext">(StateT
   (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
   (Either (Error DefaultUni DefaultFun ()))
   UTerm
 -&gt; Either (Error DefaultUni DefaultFun ()) UTerm)
-&gt; (QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      UTerm
    -&gt; StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ()))
         UTerm)
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">QuoteT
  (StateT
     (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
     (Either (Error DefaultUni DefaultFun ())))
  UTerm
-&gt; StateT
     (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
     (Either (Error DefaultUni DefaultFun ()))
     UTerm
forall (m :: Type -&gt; Type) a. Monad m =&gt; QuoteT m a -&gt; m a
</span><span class="hs-identifier hs-var">PLC.runQuoteT</span></span><span> </span><span class="annot"><span class="annottext">(QuoteT
   (StateT
      (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
      (Either (Error DefaultUni DefaultFun ())))
   UTerm
 -&gt; Either (Error DefaultUni DefaultFun ()) UTerm)
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
-&gt; Either (Error DefaultUni DefaultFun ()) UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-867"></span><span>      </span><span id="local-6989586621679610029"><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610029"><span class="hs-identifier hs-var">unDB</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term NamedDeBruijn DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall (m :: Type -&gt; Type) e (uni :: Type -&gt; Type) fun ann.
(MonadQuote m, AsFreeVariableError e, MonadError e m) =&gt;
Term NamedDeBruijn uni fun ann -&gt; m (Term Name uni fun ann)
</span><span class="hs-identifier hs-var">UPLC.unDeBruijnTerm</span></span><span> </span><span class="annot"><span class="annottext">(Term NamedDeBruijn DefaultUni DefaultFun ()
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      (Term Name DefaultUni DefaultFun ()))
-&gt; (UTerm -&gt; Term NamedDeBruijn DefaultUni DefaultFun ())
-&gt; UTerm
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(DeBruijn -&gt; NamedDeBruijn)
-&gt; UTerm -&gt; Term NamedDeBruijn DefaultUni DefaultFun ()
forall name name' (uni :: Type -&gt; Type) fun ann.
(name -&gt; name') -&gt; Term name uni fun ann -&gt; Term name' uni fun ann
</span><span class="hs-identifier hs-var">UPLC.termMapNames</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn -&gt; NamedDeBruijn
</span><span class="hs-identifier hs-var">UPLC.fakeNameDeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(UTerm
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      (Term Name DefaultUni DefaultFun ()))
-&gt; UTerm
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679610028"><span class="hs-identifier hs-var">compiled</span></a></span><span>
</span><span id="line-868"></span><span>      </span><span id="local-6989586621679610030"><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610030"><span class="hs-identifier hs-var">simplified</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SimplifyOpts Name ()
-&gt; BuiltinSemanticsVariant DefaultFun
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term Name DefaultUni DefaultFun ())
forall name (uni :: Type -&gt; Type) fun (m :: Type -&gt; Type) a.
(Compiling m uni fun name a,
 MonadState (UPLCSimplifierTrace name uni fun a) m) =&gt;
SimplifyOpts name a
-&gt; BuiltinSemanticsVariant fun
-&gt; Term name uni fun a
-&gt; m (Term name uni fun a)
</span><span class="hs-identifier hs-var">UPLC.simplifyTerm</span></span><span> </span><span class="annot"><span class="annottext">SimplifyOpts Name ()
forall name a. SimplifyOpts name a
</span><span class="hs-identifier hs-var">UPLC.defaultSimplifyOpts</span></span><span> </span><span class="annot"><span class="annottext">BuiltinSemanticsVariant DefaultFun
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span> </span><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610029"><span class="hs-identifier hs-var">unDB</span></a></span><span>
</span><span id="line-869"></span><span>      </span><span id="local-6989586621679610031"><span class="annot"><span class="annottext">Term NamedDeBruijn DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610031"><span class="hs-identifier hs-var">debruijnd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     (Term NamedDeBruijn DefaultUni DefaultFun ())
forall e (m :: Type -&gt; Type) (uni :: Type -&gt; Type) fun ann.
(AsFreeVariableError e, MonadError e m) =&gt;
Term Name uni fun ann -&gt; m (Term NamedDeBruijn uni fun ann)
</span><span class="hs-identifier hs-var">UPLC.deBruijnTerm</span></span><span> </span><span class="annot"><span class="annottext">Term Name DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610030"><span class="hs-identifier hs-var">simplified</span></a></span><span>
</span><span id="line-870"></span><span>      </span><span class="annot"><span class="annottext">UTerm
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
forall a.
a
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      UTerm)
-&gt; (Term NamedDeBruijn DefaultUni DefaultFun () -&gt; UTerm)
-&gt; Term NamedDeBruijn DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedDeBruijn -&gt; DeBruijn)
-&gt; Term NamedDeBruijn DefaultUni DefaultFun () -&gt; UTerm
forall name name' (uni :: Type -&gt; Type) fun ann.
(name -&gt; name') -&gt; Term name uni fun ann -&gt; Term name' uni fun ann
</span><span class="hs-identifier hs-var">UPLC.termMapNames</span></span><span> </span><span class="annot"><span class="annottext">NamedDeBruijn -&gt; DeBruijn
</span><span class="hs-identifier hs-var">UPLC.unNameDeBruijn</span></span><span> </span><span class="annot"><span class="annottext">(Term NamedDeBruijn DefaultUni DefaultFun ()
 -&gt; QuoteT
      (StateT
         (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
         (Either (Error DefaultUni DefaultFun ())))
      UTerm)
-&gt; Term NamedDeBruijn DefaultUni DefaultFun ()
-&gt; QuoteT
     (StateT
        (UPLCSimplifierTrace Name DefaultUni DefaultFun ())
        (Either (Error DefaultUni DefaultFun ())))
     UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term NamedDeBruijn DefaultUni DefaultFun ()
</span><a href="#local-6989586621679610031"><span class="hs-identifier hs-var">debruijnd</span></a></span><span>
</span><span id="line-871"></span><span>
</span><span id="line-872"></span><span id="local-6989586621679608281"><span class="annot"><a href="Plutarch.Internal.Term.html#hashTerm"><span class="hs-identifier hs-type">hashTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679608281"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span></span><span>
</span><span id="line-873"></span><span id="hashTerm"><span class="annot"><span class="annottext">hashTerm :: forall (a :: PType). Config -&gt; ClosedTerm a -&gt; Either Text Dig
</span><a href="Plutarch.Internal.Term.html#hashTerm"><span class="hs-identifier hs-var hs-var">hashTerm</span></a></span></span><span> </span><span id="local-6989586621679610034"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679610034"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679610035"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679610035"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.Term.html#hashRawTerm"><span class="hs-identifier hs-var">hashRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Dig) -&gt; (TermResult -&gt; RawTerm) -&gt; TermResult -&gt; Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.Term.html#%24sel%3AgetTerm%3ATermResult"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Dig) -&gt; Either Text TermResult -&gt; Either Text Dig
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) TermResult
-&gt; Config -&gt; Either Text TermResult
forall r (m :: Type -&gt; Type) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Reader.html#runReaderT"><span class="hs-identifier hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall m. TermMonad m -&gt; ReaderT Config (Either Text) m
</span><a href="Plutarch.Internal.Term.html#%24sel%3ArunTermMonad%3ATermMonad"><span class="hs-identifier hs-var">runTermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult)
-&gt; TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.Term.html#%24sel%3AasRawTerm%3ATerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a
ClosedTerm a
</span><a href="#local-6989586621679610035"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679610034"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-874"></span><span>
</span><span id="line-875"></span><span class="annot"><span class="hs-comment">{- |
  High precedence infixl synonym of 'papp', to be used like
  function juxtaposition. e.g.:

  &gt;&gt;&gt; f # x # y
  f x y
-}</span></span><span>
</span><span id="line-882"></span><span id="local-6989586621679610036"><span id="local-6989586621679610037"><span id="local-6989586621679610038"><span class="annot"><a href="Plutarch.Internal.Term.html#%23"><span class="hs-operator hs-type">(#)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610036"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679610037"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610038"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610036"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610037"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610036"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610038"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-883"></span><span id="%23"><span class="annot"><span class="annottext"># :: forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#%23"><span class="hs-operator hs-var hs-var">(#)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#papp"><span class="hs-identifier hs-var">papp</span></a></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%23"><span class="hs-operator hs-type">#</span></a></span><span>
</span><span id="line-886"></span><span>
</span><span id="line-887"></span><span class="annot"><span class="hs-comment">{- |
  Low precedence infixr synonym of 'papp', to be used like
  '$', in combination with '#'. e.g.:

  &gt;&gt;&gt; f # x #$ g # y # z
  f x (g y z)
-}</span></span><span>
</span><span id="line-894"></span><span id="local-6989586621679610039"><span id="local-6989586621679610040"><span id="local-6989586621679610041"><span class="annot"><a href="Plutarch.Internal.Term.html#%23%24"><span class="hs-operator hs-type">(#$)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610039"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679610040"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610041"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610039"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610040"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610039"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679610041"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-895"></span><span id="%23%24"><span class="annot"><span class="annottext">#$ :: forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#%23%24"><span class="hs-operator hs-var hs-var">(#$)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.Term.html#papp"><span class="hs-identifier hs-var">papp</span></a></span><span>
</span><span id="line-896"></span><span>
</span><span id="line-897"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">0</span><span> </span><span class="annot"><a href="Plutarch.Internal.Term.html#%23%24"><span class="hs-operator hs-type">#$</span></a></span><span>
</span><span id="line-898"></span></pre></body></html>