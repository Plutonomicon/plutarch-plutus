<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusCore.Subst</span><span>
</span><span id="line-4"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier">substTyVarA</span></a></span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#substVarA"><span class="hs-identifier">substVarA</span></a></span><span>
</span><span id="line-6"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#substTyVar"><span class="hs-identifier">substTyVar</span></a></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#substVar"><span class="hs-identifier">substVar</span></a></span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termSubstNamesM"><span class="hs-identifier">termSubstNamesM</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termSubstTyNamesM"><span class="hs-identifier">termSubstTyNamesM</span></a></span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#typeSubstTyNamesM"><span class="hs-identifier">typeSubstTyNamesM</span></a></span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termSubstNames"><span class="hs-identifier">termSubstNames</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termSubstTyNames"><span class="hs-identifier">termSubstTyNames</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#typeSubstTyNames"><span class="hs-identifier">typeSubstTyNames</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#typeSubstClosedType"><span class="hs-identifier">typeSubstClosedType</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termSubstClosedType"><span class="hs-identifier">termSubstClosedType</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termSubstClosedTerm"><span class="hs-identifier">termSubstClosedTerm</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier">typeMapNames</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#termMapNames"><span class="hs-identifier">termMapNames</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#programMapNames"><span class="hs-identifier">programMapNames</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#fvTerm"><span class="hs-identifier">fvTerm</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#ftvTerm"><span class="hs-identifier">ftvTerm</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#ftvTy"><span class="hs-identifier">ftvTy</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier">ftvTyCtx</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#vTerm"><span class="hs-identifier">vTerm</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#tvTerm"><span class="hs-identifier">tvTerm</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#tvTy"><span class="hs-identifier">tvTy</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier">purely</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusPrelude.html"><span class="hs-identifier">PlutusPrelude</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Core.html"><span class="hs-identifier">PlutusCore.Core</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens.Unsound</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Unsound</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html"><span class="hs-identifier">PlutusCore.Name.Unique</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier">HasUnique</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Name.UniqueSet.html"><span class="hs-identifier">PlutusCore.Name.UniqueSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Name.UniqueSet.html#UniqueSet"><span class="hs-identifier">UniqueSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Name.UniqueSet.html"><span class="hs-identifier">PlutusCore.Name.UniqueSet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">USet</span></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span id="local-6989586621681805540"><span id="local-6989586621681805541"><span id="local-6989586621681805543"><span id="local-6989586621681805544"><span class="annot"><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-type">purely</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805540"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.Identity.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805541"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805543"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.Identity.html#Identity"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805544"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805540"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805541"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805543"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805544"><span class="hs-identifier hs-type">d</span></a></span></span></span></span></span><span>
</span><span id="line-41"></span><span id="purely"><span class="annot"><span class="annottext">purely :: forall a b c d.
((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
</span><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-var hs-var">purely</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="annot"><span class="hs-comment">-- | Applicatively replace a type variable using the given function.</span></span><span>
</span><span id="line-44"></span><span id="local-6989586621681805552"><span id="local-6989586621681805553"><span id="local-6989586621681805554"><span id="local-6989586621681805555"><span class="annot"><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier hs-type">substTyVarA</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805552"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805553"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805552"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805553"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805554"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805555"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805553"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805554"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805555"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805552"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805553"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805554"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805555"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-49"></span><span id="substTyVarA"><span class="annot"><span class="annottext">substTyVarA :: forall (f :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Applicative f =&gt;
(tyname -&gt; f (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier hs-var hs-var">substTyVarA</span></a></span></span><span> </span><span id="local-6989586621681805941"><span class="annot"><span class="annottext">tyname -&gt; f (Maybe (Type tyname uni ann))
</span><a href="#local-6989586621681805941"><span class="hs-identifier hs-var">tynameF</span></a></span></span><span> </span><span id="local-6989586621681805942"><span class="annot"><span class="annottext">ty :: Type tyname uni ann
</span><a href="#local-6989586621681805942"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681805944"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681805944"><span class="hs-identifier hs-var">tyname</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
-&gt; Maybe (Type tyname uni ann) -&gt; Type tyname uni ann
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681805942"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Type tyname uni ann) -&gt; Type tyname uni ann)
-&gt; f (Maybe (Type tyname uni ann)) -&gt; f (Type tyname uni ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f (Maybe (Type tyname uni ann))
</span><a href="#local-6989586621681805941"><span class="hs-identifier hs-var">tynameF</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681805944"><span class="hs-identifier hs-var">tyname</span></a></span><span>
</span><span id="line-50"></span><span class="annot"><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier hs-var">substTyVarA</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f (Maybe (Type tyname uni ann))
</span><span class="hs-identifier">_</span></span><span>       </span><span id="local-6989586621681805947"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681805947"><span class="hs-identifier hs-var">ty</span></a></span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; f (Type tyname uni ann)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681805947"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-51"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-pragma hs-type">substTyVarA</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><span class="hs-comment">-- | Applicatively replace a variable using the given function.</span></span><span>
</span><span id="line-54"></span><span id="local-6989586621681805567"><span id="local-6989586621681805568"><span id="local-6989586621681805569"><span id="local-6989586621681805570"><span id="local-6989586621681805571"><span id="local-6989586621681805572"><span class="annot"><a href="PlutusCore.Subst.html#substVarA"><span class="hs-identifier hs-type">substVarA</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805567"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805568"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805567"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805569"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805568"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805570"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805571"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805572"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805569"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805568"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805570"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805571"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805572"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805567"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805569"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805568"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805570"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805571"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805572"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-59"></span><span id="substVarA"><span class="annot"><span class="annottext">substVarA :: forall (f :: * -&gt; *) name tyname (uni :: * -&gt; *) fun ann.
Applicative f =&gt;
(name -&gt; f (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#substVarA"><span class="hs-identifier hs-var hs-var">substVarA</span></a></span></span><span> </span><span id="local-6989586621681805952"><span class="annot"><span class="annottext">name -&gt; f (Maybe (Term tyname name uni fun ann))
</span><a href="#local-6989586621681805952"><span class="hs-identifier hs-var">nameF</span></a></span></span><span> </span><span id="local-6989586621681805953"><span class="annot"><span class="annottext">t :: Term tyname name uni fun ann
</span><a href="#local-6989586621681805953"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681805955"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681805955"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
-&gt; Maybe (Term tyname name uni fun ann)
-&gt; Term tyname name uni fun ann
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681805953"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Term tyname name uni fun ann)
 -&gt; Term tyname name uni fun ann)
-&gt; f (Maybe (Term tyname name uni fun ann))
-&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">name -&gt; f (Maybe (Term tyname name uni fun ann))
</span><a href="#local-6989586621681805952"><span class="hs-identifier hs-var">nameF</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681805955"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-60"></span><span class="annot"><a href="PlutusCore.Subst.html#substVarA"><span class="hs-identifier hs-var">substVarA</span></a></span><span> </span><span class="annot"><span class="annottext">name -&gt; f (Maybe (Term tyname name uni fun ann))
</span><span class="hs-identifier">_</span></span><span>     </span><span id="local-6989586621681805956"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681805956"><span class="hs-identifier hs-var">t</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681805956"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="annot"><span class="hs-comment">-- | Replace a type variable using the given function.</span></span><span>
</span><span id="line-63"></span><span id="local-6989586621681805580"><span id="local-6989586621681805581"><span id="local-6989586621681805582"><span class="annot"><a href="PlutusCore.Subst.html#substTyVar"><span class="hs-identifier hs-type">substTyVar</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805580"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805580"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805581"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805582"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805580"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805581"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805582"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805580"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805581"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805582"><span class="hs-identifier hs-type">ann</span></a></span></span></span></span><span>
</span><span id="line-67"></span><span id="substTyVar"><span class="annot"><span class="annottext">substTyVar :: forall tyname (uni :: * -&gt; *) ann.
(tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Subst.html#substTyVar"><span class="hs-identifier hs-var hs-var">substTyVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((tyname -&gt; Identity (Maybe (Type tyname uni ann)))
 -&gt; Type tyname uni ann -&gt; Identity (Type tyname uni ann))
-&gt; (tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
forall a b c d.
((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
</span><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-var">purely</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; Identity (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; Identity (Type tyname uni ann)
forall (f :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Applicative f =&gt;
(tyname -&gt; f (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier hs-var">substTyVarA</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="annot"><span class="hs-comment">-- | Replace a variable using the given function.</span></span><span>
</span><span id="line-70"></span><span id="local-6989586621681805586"><span id="local-6989586621681805587"><span id="local-6989586621681805588"><span id="local-6989586621681805589"><span id="local-6989586621681805590"><span class="annot"><a href="PlutusCore.Subst.html#substVar"><span class="hs-identifier hs-type">substVar</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805586"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805587"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805586"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805588"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805589"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805590"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805587"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805586"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805588"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805589"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805590"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805587"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805586"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805588"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805589"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805590"><span class="hs-identifier hs-type">ann</span></a></span></span></span></span></span></span><span>
</span><span id="line-74"></span><span id="substVar"><span class="annot"><span class="annottext">substVar :: forall name tyname (uni :: * -&gt; *) fun ann.
(name -&gt; Maybe (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Subst.html#substVar"><span class="hs-identifier hs-var hs-var">substVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((name -&gt; Identity (Maybe (Term tyname name uni fun ann)))
 -&gt; Term tyname name uni fun ann
 -&gt; Identity (Term tyname name uni fun ann))
-&gt; (name -&gt; Maybe (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall a b c d.
((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
</span><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-var">purely</span></a></span><span> </span><span class="annot"><span class="annottext">(name -&gt; Identity (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann
-&gt; Identity (Term tyname name uni fun ann)
forall (f :: * -&gt; *) name tyname (uni :: * -&gt; *) fun ann.
Applicative f =&gt;
(name -&gt; f (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#substVarA"><span class="hs-identifier hs-var">substVarA</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | Naively monadically substitute type names (i.e. do not substitute binders).</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- INLINE is important here because the function is too polymorphic (determined from profiling)</span><span>
</span><span id="line-78"></span><span id="local-6989586621681805596"><span id="local-6989586621681805597"><span id="local-6989586621681805598"><span id="local-6989586621681805599"><span class="annot"><a href="PlutusCore.Subst.html#typeSubstTyNamesM"><span class="hs-identifier hs-type">typeSubstTyNamesM</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805596"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805597"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805596"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805597"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805598"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805599"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805597"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805598"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805599"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805596"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805597"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805598"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805599"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-83"></span><span id="typeSubstTyNamesM"><span class="annot"><span class="annottext">typeSubstTyNamesM :: forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Monad m =&gt;
(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; m (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#typeSubstTyNamesM"><span class="hs-identifier hs-var hs-var">typeSubstTyNamesM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
-&gt; (Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; Type tyname uni ann
-&gt; m (Type tyname uni ann)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
LensLike (WrappedMonad m) a b a b -&gt; (b -&gt; m b) -&gt; a -&gt; m b
</span><span class="hs-identifier hs-var">transformMOf</span></span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeSubtypes"><span class="hs-identifier hs-var">typeSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">((Type tyname uni ann -&gt; m (Type tyname uni ann))
 -&gt; Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; ((tyname -&gt; m (Maybe (Type tyname uni ann)))
    -&gt; Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; (tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann
-&gt; m (Type tyname uni ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; m (Type tyname uni ann)
forall (f :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Applicative f =&gt;
(tyname -&gt; f (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier hs-var">substTyVarA</span></a></span><span>
</span><span id="line-84"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="PlutusCore.Subst.html#typeSubstTyNamesM"><span class="hs-pragma hs-type">typeSubstTyNamesM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="annot"><span class="hs-comment">-- | Naively monadically substitute names using the given function (i.e. do not substitute binders).</span></span><span>
</span><span id="line-87"></span><span id="local-6989586621681805618"><span id="local-6989586621681805619"><span id="local-6989586621681805620"><span id="local-6989586621681805621"><span id="local-6989586621681805622"><span id="local-6989586621681805623"><span class="annot"><a href="PlutusCore.Subst.html#termSubstNamesM"><span class="hs-identifier hs-type">termSubstNamesM</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805618"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805619"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805618"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805620"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805619"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805621"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805622"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805623"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805620"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805619"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805621"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805622"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805623"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805618"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805620"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805619"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805621"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805622"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805623"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-92"></span><span id="termSubstNamesM"><span class="annot"><span class="annottext">termSubstNamesM :: forall (m :: * -&gt; *) name tyname (uni :: * -&gt; *) fun ann.
Monad m =&gt;
(name -&gt; m (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#termSubstNamesM"><span class="hs-identifier hs-var hs-var">termSubstNamesM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
-&gt; (Term tyname name uni fun ann
    -&gt; m (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann
-&gt; m (Term tyname name uni fun ann)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
LensLike (WrappedMonad m) a b a b -&gt; (b -&gt; m b) -&gt; a -&gt; m b
</span><span class="hs-identifier hs-var">transformMOf</span></span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">((Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; m (Term tyname name uni fun ann))
-&gt; ((name -&gt; m (Maybe (Term tyname name uni fun ann)))
    -&gt; Term tyname name uni fun ann
    -&gt; m (Term tyname name uni fun ann))
-&gt; (name -&gt; m (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann
-&gt; m (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(name -&gt; m (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann)
forall (f :: * -&gt; *) name tyname (uni :: * -&gt; *) fun ann.
Applicative f =&gt;
(name -&gt; f (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#substVarA"><span class="hs-identifier hs-var">substVarA</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-comment">-- | Naively monadically substitute type names using the given function</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- (i.e. do not substitute binders).</span><span>
</span><span id="line-96"></span><span id="local-6989586621681805636"><span id="local-6989586621681805637"><span id="local-6989586621681805638"><span id="local-6989586621681805639"><span id="local-6989586621681805640"><span id="local-6989586621681805641"><span class="annot"><a href="PlutusCore.Subst.html#termSubstTyNamesM"><span class="hs-identifier hs-type">termSubstTyNamesM</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805636"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805637"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805636"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805637"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805638"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805639"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805637"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805640"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805638"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805641"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805639"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805636"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805637"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805640"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805638"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805641"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805639"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-101"></span><span id="termSubstTyNamesM"><span class="annot"><span class="annottext">termSubstTyNamesM :: forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann name fun.
Monad m =&gt;
(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#termSubstTyNamesM"><span class="hs-identifier hs-var hs-var">termSubstTyNamesM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
-&gt; (Term tyname name uni fun ann
    -&gt; m (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann
-&gt; m (Term tyname name uni fun ann)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
LensLike (WrappedMonad m) a b a b -&gt; (b -&gt; m b) -&gt; a -&gt; m b
</span><span class="hs-identifier hs-var">transformMOf</span></span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">((Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; m (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; m (Maybe (Type tyname uni ann)))
    -&gt; Term tyname name uni fun ann
    -&gt; m (Term tyname name uni fun ann))
-&gt; (tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Term tyname name uni fun ann
-&gt; m (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike
  m
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
-&gt; LensLike
     m
     (Term tyname name uni fun ann)
     (Term tyname name uni fun ann)
     (Type tyname uni ann)
     (Type tyname uni ann)
forall (f :: * -&gt; *) s t a b.
LensLike f s t a b -&gt; LensLike f s t a b
</span><span class="hs-identifier hs-var">traverseOf</span></span><span> </span><span class="annot"><span class="annottext">LensLike
  m
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubtypes"><span class="hs-identifier hs-var">termSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike
  m
  (Term tyname name uni fun ann)
  (Term tyname name uni fun ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
-&gt; ((tyname -&gt; m (Maybe (Type tyname uni ann)))
    -&gt; Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; (tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Term tyname name uni fun ann
-&gt; m (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
-&gt; (Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; Type tyname uni ann
-&gt; m (Type tyname uni ann)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
LensLike (WrappedMonad m) a b a b -&gt; (b -&gt; m b) -&gt; a -&gt; m b
</span><span class="hs-identifier hs-var">transformMOf</span></span><span> </span><span class="annot"><span class="annottext">LensLike
  (WrappedMonad m)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
  (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeSubtypes"><span class="hs-identifier hs-var">typeSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">((Type tyname uni ann -&gt; m (Type tyname uni ann))
 -&gt; Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; ((tyname -&gt; m (Maybe (Type tyname uni ann)))
    -&gt; Type tyname uni ann -&gt; m (Type tyname uni ann))
-&gt; (tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann
-&gt; m (Type tyname uni ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; m (Type tyname uni ann)
forall (f :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Applicative f =&gt;
(tyname -&gt; f (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#substTyVarA"><span class="hs-identifier hs-var">substTyVarA</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><span class="hs-comment">-- | Naively substitute type names (i.e. do not substitute binders).</span></span><span>
</span><span id="line-105"></span><span id="local-6989586621681805986"><span id="local-6989586621681805987"><span id="local-6989586621681805988"><span class="annot"><a href="PlutusCore.Subst.html#typeSubstTyNames"><span class="hs-identifier hs-type">typeSubstTyNames</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805986"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805986"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805987"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805988"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805986"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805987"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805988"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805986"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805987"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805988"><span class="hs-identifier hs-type">ann</span></a></span></span></span></span><span>
</span><span id="line-109"></span><span id="typeSubstTyNames"><span class="annot"><span class="annottext">typeSubstTyNames :: forall tyname (uni :: * -&gt; *) ann.
(tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Subst.html#typeSubstTyNames"><span class="hs-identifier hs-var hs-var">typeSubstTyNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((tyname -&gt; Identity (Maybe (Type tyname uni ann)))
 -&gt; Type tyname uni ann -&gt; Identity (Type tyname uni ann))
-&gt; (tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
forall a b c d.
((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
</span><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-var">purely</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; Identity (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; Identity (Type tyname uni ann)
forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Monad m =&gt;
(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; m (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#typeSubstTyNamesM"><span class="hs-identifier hs-var">typeSubstTyNamesM</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><span class="hs-comment">-- | Naively substitute names using the given function (i.e. do not substitute binders).</span></span><span>
</span><span id="line-112"></span><span id="local-6989586621681805991"><span id="local-6989586621681805992"><span id="local-6989586621681805993"><span id="local-6989586621681805994"><span id="local-6989586621681805995"><span class="annot"><a href="PlutusCore.Subst.html#termSubstNames"><span class="hs-identifier hs-type">termSubstNames</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805991"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805992"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805991"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805993"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805994"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805995"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805992"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805991"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805993"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805994"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805995"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805992"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805991"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805993"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805994"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805995"><span class="hs-identifier hs-type">ann</span></a></span></span></span></span></span></span><span>
</span><span id="line-116"></span><span id="termSubstNames"><span class="annot"><span class="annottext">termSubstNames :: forall name tyname (uni :: * -&gt; *) fun ann.
(name -&gt; Maybe (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Subst.html#termSubstNames"><span class="hs-identifier hs-var hs-var">termSubstNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((name -&gt; Identity (Maybe (Term tyname name uni fun ann)))
 -&gt; Term tyname name uni fun ann
 -&gt; Identity (Term tyname name uni fun ann))
-&gt; (name -&gt; Maybe (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall a b c d.
((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
</span><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-var">purely</span></a></span><span> </span><span class="annot"><span class="annottext">(name -&gt; Identity (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann
-&gt; Identity (Term tyname name uni fun ann)
forall (m :: * -&gt; *) name tyname (uni :: * -&gt; *) fun ann.
Monad m =&gt;
(name -&gt; m (Maybe (Term tyname name uni fun ann)))
-&gt; Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#termSubstNamesM"><span class="hs-identifier hs-var">termSubstNamesM</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">-- | Naively substitute type names using the given function (i.e. do not substitute binders).</span></span><span>
</span><span id="line-119"></span><span id="local-6989586621681805667"><span id="local-6989586621681805668"><span id="local-6989586621681805669"><span id="local-6989586621681805670"><span id="local-6989586621681805671"><span class="annot"><a href="PlutusCore.Subst.html#termSubstTyNames"><span class="hs-identifier hs-type">termSubstTyNames</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805667"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805667"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805668"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805669"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805667"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805670"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805668"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805671"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805669"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805667"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805670"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805668"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805671"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805669"><span class="hs-identifier hs-type">ann</span></a></span></span></span></span></span></span><span>
</span><span id="line-123"></span><span id="termSubstTyNames"><span class="annot"><span class="annottext">termSubstTyNames :: forall tyname (uni :: * -&gt; *) ann name fun.
(tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Subst.html#termSubstTyNames"><span class="hs-identifier hs-var hs-var">termSubstTyNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((tyname -&gt; Identity (Maybe (Type tyname uni ann)))
 -&gt; Term tyname name uni fun ann
 -&gt; Identity (Term tyname name uni fun ann))
-&gt; (tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall a b c d.
((a -&gt; Identity b) -&gt; c -&gt; Identity d) -&gt; (a -&gt; b) -&gt; c -&gt; d
</span><a href="PlutusCore.Subst.html#purely"><span class="hs-identifier hs-var">purely</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; Identity (Maybe (Type tyname uni ann)))
-&gt; Term tyname name uni fun ann
-&gt; Identity (Term tyname name uni fun ann)
forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann name fun.
Monad m =&gt;
(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Term tyname name uni fun ann -&gt; m (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#termSubstTyNamesM"><span class="hs-identifier hs-var">termSubstTyNamesM</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Substitute the given closed 'Type' for the given type variable in the given 'Type'. Does not</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- descend under binders that bind the same variable as the one we're substituting for (since from</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- there that variable is no longer free). The resulting 'Term' may and likely will not satisfy</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- global uniqueness.</span><span>
</span><span id="line-129"></span><span id="local-6989586621681805677"><span id="local-6989586621681805678"><span id="local-6989586621681805679"><span class="annot"><a href="PlutusCore.Subst.html#typeSubstClosedType"><span class="hs-identifier hs-type">typeSubstClosedType</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805677"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805677"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805677"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805678"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805679"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805677"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805678"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805679"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805677"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805678"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805679"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-131"></span><span id="typeSubstClosedType"><span class="annot"><span class="annottext">typeSubstClosedType :: forall tyname (uni :: * -&gt; *) a.
Eq tyname =&gt;
tyname
-&gt; Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a
</span><a href="PlutusCore.Subst.html#typeSubstClosedType"><span class="hs-identifier hs-var hs-var">typeSubstClosedType</span></a></span></span><span> </span><span id="local-6989586621681806000"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806000"><span class="hs-identifier hs-var">tn0</span></a></span></span><span> </span><span id="local-6989586621681806001"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806001"><span class="hs-identifier hs-var">ty0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806002"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621681806002"><span class="annot"><span class="annottext">go :: Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806002"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-133"></span><span>         </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span>    </span><span id="local-6989586621681806006"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806006"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806007"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806007"><span class="hs-identifier hs-var">tn</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806007"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806000"><span class="hs-identifier hs-var">tn0</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806001"><span class="hs-identifier hs-var">ty0</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; tyname -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; tyname -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806006"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806007"><span class="hs-identifier hs-var">tn</span></a></span><span>
</span><span id="line-134"></span><span>         </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-type">TyForall</span></a></span><span> </span><span id="local-6989586621681806009"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806009"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806010"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806010"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806011"><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681806011"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806012"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806012"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; tyname -&gt; Kind a -&gt; Type tyname uni a -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-var">TyForall</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806009"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806010"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681806011"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806013"><span class="hs-identifier hs-var">goUnder</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806010"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806012"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>         </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-type">TyLam</span></a></span><span>    </span><span id="local-6989586621681806015"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806015"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806016"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806016"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806017"><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681806017"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806018"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806018"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; tyname -&gt; Kind a -&gt; Type tyname uni a -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-var">TyLam</span></a></span><span>    </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806015"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806016"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681806017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806013"><span class="hs-identifier hs-var">goUnder</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806016"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806018"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>         </span><span id="local-6989586621681806019"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806019"><span class="hs-identifier hs-var">ty</span></a></span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806019"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
-&gt; (Type tyname uni a -&gt; Type tyname uni a) -&gt; Type tyname uni a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Type tyname uni a)
  (Type tyname uni a)
  (Type tyname uni a)
  (Type tyname uni a)
-&gt; (Type tyname uni a -&gt; Type tyname uni a)
-&gt; Type tyname uni a
-&gt; Type tyname uni a
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">over</span></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Type tyname uni a)
  (Type tyname uni a)
  (Type tyname uni a)
  (Type tyname uni a)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeSubtypes"><span class="hs-identifier hs-var">typeSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806002"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621681806013"><span class="annot"><span class="annottext">goUnder :: tyname -&gt; Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806013"><span class="hs-identifier hs-var hs-var">goUnder</span></a></span></span><span> </span><span id="local-6989586621681806022"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806022"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806023"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806023"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806022"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806000"><span class="hs-identifier hs-var">tn0</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806023"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806002"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806023"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Substitute the given closed 'Type' for the given type variable in the given 'Term'. Does not</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- descend under binders that bind the same variable as the one we're substituting for (since from</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- there that variable is no longer free). The resulting 'Term' may and likely will not satisfy</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- global uniqueness.</span><span>
</span><span id="line-143"></span><span id="local-6989586621681805695"><span id="local-6989586621681805696"><span id="local-6989586621681805697"><span id="local-6989586621681805698"><span id="local-6989586621681805699"><span class="annot"><a href="PlutusCore.Subst.html#termSubstClosedType"><span class="hs-identifier hs-type">termSubstClosedType</span></a></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805695"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805695"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805695"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805696"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805697"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805695"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805698"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805696"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805699"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805697"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805695"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805698"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805696"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805699"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805697"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-146"></span><span id="termSubstClosedType"><span class="annot"><span class="annottext">termSubstClosedType :: forall tyname (uni :: * -&gt; *) a name fun.
Eq tyname =&gt;
tyname
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span><a href="PlutusCore.Subst.html#termSubstClosedType"><span class="hs-identifier hs-var hs-var">termSubstClosedType</span></a></span></span><span> </span><span id="local-6989586621681806025"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806025"><span class="hs-identifier hs-var">tn0</span></a></span></span><span> </span><span id="local-6989586621681806026"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806026"><span class="hs-identifier hs-var">ty0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a -&gt; Term tyname name uni fun a
forall {name} {fun}.
Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806027"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621681806027"><span class="annot"><span class="annottext">go :: Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806027"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-148"></span><span>         </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span> </span><span id="local-6989586621681806032"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806032"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806033"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806033"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806034"><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681806034"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806035"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806035"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
-&gt; tyname
-&gt; Kind a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; tyname
-&gt; Kind ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-var">TyAbs</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806032"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806033"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681806034"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806036"><span class="hs-identifier hs-var">goUnder</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806033"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806035"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>         </span><span id="local-6989586621681806037"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806037"><span class="hs-identifier hs-var">t</span></a></span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806037"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; (Term tyname name uni fun a -&gt; Term tyname name uni fun a)
-&gt; Term tyname name uni fun a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Type tyname uni a)
  (Type tyname uni a)
-&gt; (Type tyname uni a -&gt; Type tyname uni a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">over</span></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Type tyname uni a)
  (Type tyname uni a)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubtypes"><span class="hs-identifier hs-var">termSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806038"><span class="hs-identifier hs-var">goTy</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; (Term tyname name uni fun a -&gt; Term tyname name uni fun a)
-&gt; Term tyname name uni fun a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
-&gt; (Term tyname name uni fun a -&gt; Term tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">over</span></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806027"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-150"></span><span>    </span><span id="local-6989586621681806036"><span class="annot"><span class="annottext">goUnder :: tyname -&gt; Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806036"><span class="hs-identifier hs-var hs-var">goUnder</span></a></span></span><span> </span><span id="local-6989586621681806039"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806039"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806040"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806040"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806039"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806025"><span class="hs-identifier hs-var">tn0</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806040"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806027"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806040"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-151"></span><span>    </span><span id="local-6989586621681806038"><span class="annot"><span class="annottext">goTy :: Type tyname uni a -&gt; Type tyname uni a
</span><a href="#local-6989586621681806038"><span class="hs-identifier hs-var hs-var">goTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">tyname
-&gt; Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a
forall tyname (uni :: * -&gt; *) a.
Eq tyname =&gt;
tyname
-&gt; Type tyname uni a -&gt; Type tyname uni a -&gt; Type tyname uni a
</span><a href="PlutusCore.Subst.html#typeSubstClosedType"><span class="hs-identifier hs-var">typeSubstClosedType</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806025"><span class="hs-identifier hs-var">tn0</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806026"><span class="hs-identifier hs-var">ty0</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Substitute the given closed 'Term' for the given term variable in the given 'Term'. Does not</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- descend under binders that bind the same variable as the one we're substituting for (since from</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- there that variable is no longer free). The resulting 'Term' may and likely will not satisfy</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- global uniqueness.</span><span>
</span><span id="line-157"></span><span id="local-6989586621681805712"><span id="local-6989586621681805713"><span id="local-6989586621681805714"><span id="local-6989586621681805715"><span id="local-6989586621681805716"><span class="annot"><a href="PlutusCore.Subst.html#termSubstClosedTerm"><span class="hs-identifier hs-type">termSubstClosedTerm</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805712"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805712"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805713"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805712"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805714"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805715"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805716"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805713"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805712"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805714"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805715"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805716"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805713"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805712"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805714"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805715"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805716"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-163"></span><span id="termSubstClosedTerm"><span class="annot"><span class="annottext">termSubstClosedTerm :: forall name tyname (uni :: * -&gt; *) fun a.
Eq name =&gt;
name
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span><a href="PlutusCore.Subst.html#termSubstClosedTerm"><span class="hs-identifier hs-var hs-var">termSubstClosedTerm</span></a></span></span><span> </span><span id="local-6989586621681806043"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806043"><span class="hs-identifier hs-var">varFor</span></a></span></span><span> </span><span id="local-6989586621681806044"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806044"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806045"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621681806045"><span class="annot"><span class="annottext">go :: Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806045"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-165"></span><span>         </span><span class="annot"><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>    </span><span id="local-6989586621681806049"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806049"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806050"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806050"><span class="hs-identifier hs-var">var</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806050"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">name -&gt; name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806043"><span class="hs-identifier hs-var">varFor</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806044"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; name -&gt; Term tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; name -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806049"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806050"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-166"></span><span>         </span><span class="annot"><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span> </span><span id="local-6989586621681806052"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806052"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806053"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806053"><span class="hs-identifier hs-var">var</span></a></span></span><span> </span><span id="local-6989586621681806054"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806054"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681806055"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806055"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
-&gt; name
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; name
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-var">LamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681806052"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806053"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681806054"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">name -&gt; Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806056"><span class="hs-identifier hs-var">goUnder</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806053"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806055"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>         </span><span id="local-6989586621681806057"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806057"><span class="hs-identifier hs-var">t</span></a></span></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806057"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; (Term tyname name uni fun a -&gt; Term tyname name uni fun a)
-&gt; Term tyname name uni fun a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
-&gt; (Term tyname name uni fun a -&gt; Term tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">over</span></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
  (Term tyname name uni fun a)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806045"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621681806056"><span class="annot"><span class="annottext">goUnder :: name -&gt; Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806056"><span class="hs-identifier hs-var hs-var">goUnder</span></a></span></span><span> </span><span id="local-6989586621681806058"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806058"><span class="hs-identifier hs-var">var</span></a></span></span><span> </span><span id="local-6989586621681806059"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806059"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806058"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">name -&gt; name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806043"><span class="hs-identifier hs-var">varFor</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806059"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a -&gt; Term tyname name uni fun a
</span><a href="#local-6989586621681806045"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681806059"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- Mapping name-modification functions over types and terms.</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-type">typeMapNames</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681805722"><span class="annot"><a href="#local-6989586621681805722"><span class="hs-identifier hs-type">tyname</span></a></span></span><span> </span><span id="local-6989586621681805723"><span class="annot"><a href="#local-6989586621681805723"><span class="hs-identifier hs-type">tyname'</span></a></span></span><span> </span><span id="local-6989586621681805724"><span class="annot"><a href="#local-6989586621681805724"><span class="hs-identifier hs-type">uni</span></a></span></span><span> </span><span id="local-6989586621681805725"><span class="annot"><a href="#local-6989586621681805725"><span class="hs-identifier hs-type">ann</span></a></span></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805722"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805723"><span class="hs-identifier hs-type">tyname'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805722"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805724"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805725"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805723"><span class="hs-identifier hs-type">tyname'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805724"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805725"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-177"></span><span id="typeMapNames"><span class="annot"><span class="annottext">typeMapNames :: forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var hs-var">typeMapNames</span></a></span></span><span> </span><span id="local-6989586621681806063"><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806063"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><a href="#local-6989586621681806064"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805722"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805724"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805725"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805723"><span class="hs-identifier hs-type">tyname'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805724"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805725"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-180"></span><span>      </span><span id="local-6989586621681806064"><span class="annot"><span class="annottext">go :: Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-181"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span id="local-6989586621681806065"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806065"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806066"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806066"><span class="hs-identifier hs-var">tn</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; tyname' -&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; tyname -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806065"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806063"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806066"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyFun"><span class="hs-identifier hs-type">TyFun</span></a></span><span> </span><span id="local-6989586621681806068"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806068"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806069"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806069"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span id="local-6989586621681806070"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806070"><span class="hs-identifier hs-var">ty2</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyFun"><span class="hs-identifier hs-var">TyFun</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806068"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806069"><span class="hs-identifier hs-var">ty1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806070"><span class="hs-identifier hs-var">ty2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyIFix"><span class="hs-identifier hs-type">TyIFix</span></a></span><span> </span><span id="local-6989586621681806072"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806072"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806073"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806073"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span id="local-6989586621681806074"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806074"><span class="hs-identifier hs-var">ty2</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyIFix"><span class="hs-identifier hs-var">TyIFix</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806072"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806073"><span class="hs-identifier hs-var">ty1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806074"><span class="hs-identifier hs-var">ty2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-type">TyForall</span></a></span><span> </span><span id="local-6989586621681806075"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806075"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806076"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806076"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806077"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806077"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806078"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806078"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; tyname'
-&gt; Kind ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-var">TyForall</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806075"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806063"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806076"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806077"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806078"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyBuiltin"><span class="hs-identifier hs-type">TyBuiltin</span></a></span><span> </span><span id="local-6989586621681806080"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806080"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806081"><span class="annot"><span class="annottext">SomeTypeIn uni
</span><a href="#local-6989586621681806081"><span class="hs-identifier hs-var">s</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; SomeTypeIn uni -&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; SomeTypeIn uni -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyBuiltin"><span class="hs-identifier hs-var">TyBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806080"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">SomeTypeIn uni
</span><a href="#local-6989586621681806081"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-186"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-type">TyLam</span></a></span><span> </span><span id="local-6989586621681806082"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806082"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806083"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806083"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681806084"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806084"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806085"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806085"><span class="hs-identifier hs-var">ty</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; tyname'
-&gt; Kind ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-var">TyLam</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806082"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806063"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806083"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806084"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806085"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyApp"><span class="hs-identifier hs-type">TyApp</span></a></span><span> </span><span id="local-6989586621681806087"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806087"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806088"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806088"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span id="local-6989586621681806089"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806089"><span class="hs-identifier hs-var">ty2</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyApp"><span class="hs-identifier hs-var">TyApp</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806087"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806088"><span class="hs-identifier hs-var">ty1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806089"><span class="hs-identifier hs-var">ty2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>           </span><span class="annot"><a href="PlutusCore.Core.Type.html#TySOP"><span class="hs-identifier hs-type">TySOP</span></a></span><span> </span><span id="local-6989586621681806091"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806091"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806092"><span class="annot"><span class="annottext">[[Type tyname uni ann]]
</span><a href="#local-6989586621681806092"><span class="hs-identifier hs-var">tyls</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; [[Type tyname' uni ann]] -&gt; Type tyname' uni ann
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; [[Type tyname uni ann]] -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TySOP"><span class="hs-identifier hs-var">TySOP</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806091"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Type tyname uni ann] -&gt; [Type tyname' uni ann])
-&gt; [[Type tyname uni ann]] -&gt; [[Type tyname' uni ann]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">(([Type tyname uni ann] -&gt; [Type tyname' uni ann])
 -&gt; [[Type tyname uni ann]] -&gt; [[Type tyname' uni ann]])
-&gt; ((Type tyname uni ann -&gt; Type tyname' uni ann)
    -&gt; [Type tyname uni ann] -&gt; [Type tyname' uni ann])
-&gt; (Type tyname uni ann -&gt; Type tyname' uni ann)
-&gt; [[Type tyname uni ann]]
-&gt; [[Type tyname' uni ann]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; Type tyname' uni ann)
-&gt; [Type tyname uni ann] -&gt; [Type tyname' uni ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="#local-6989586621681806064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[[Type tyname uni ann]]
</span><a href="#local-6989586621681806092"><span class="hs-identifier hs-var">tyls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- termMapNames requires two function arguments: one (called f) to modify type names</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- and another (called g) to modify variable names.</span><span>
</span><span id="line-192"></span><span class="annot"><a href="PlutusCore.Subst.html#termMapNames"><span class="hs-identifier hs-type">termMapNames</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681805734"><span class="annot"><a href="#local-6989586621681805734"><span class="hs-identifier hs-type">tyname</span></a></span></span><span> </span><span id="local-6989586621681805735"><span class="annot"><a href="#local-6989586621681805735"><span class="hs-identifier hs-type">tyname'</span></a></span></span><span> </span><span id="local-6989586621681805736"><span class="annot"><a href="#local-6989586621681805736"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span id="local-6989586621681805737"><span class="annot"><a href="#local-6989586621681805737"><span class="hs-identifier hs-type">name'</span></a></span></span><span> </span><span id="local-6989586621681805738"><span class="annot"><a href="#local-6989586621681805738"><span class="hs-identifier hs-type">uni</span></a></span></span><span> </span><span id="local-6989586621681805739"><span class="annot"><a href="#local-6989586621681805739"><span class="hs-identifier hs-type">fun</span></a></span></span><span> </span><span id="local-6989586621681805740"><span class="annot"><a href="#local-6989586621681805740"><span class="hs-identifier hs-type">ann</span></a></span></span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805734"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805735"><span class="hs-identifier hs-type">tyname'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805736"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805737"><span class="hs-identifier hs-type">name'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805734"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805736"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805738"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805739"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805740"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805735"><span class="hs-identifier hs-type">tyname'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805737"><span class="hs-identifier hs-type">name'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805738"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805739"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805740"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-198"></span><span id="termMapNames"><span class="annot"><span class="annottext">termMapNames :: forall tyname tyname' name name' (uni :: * -&gt; *) fun ann.
(tyname -&gt; tyname')
-&gt; (name -&gt; name')
-&gt; Term tyname name uni fun ann
-&gt; Term tyname' name' uni fun ann
</span><a href="PlutusCore.Subst.html#termMapNames"><span class="hs-identifier hs-var hs-var">termMapNames</span></a></span></span><span> </span><span id="local-6989586621681806095"><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681806096"><span class="annot"><span class="annottext">name -&gt; name'
</span><a href="#local-6989586621681806096"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>        </span><span class="annot"><a href="#local-6989586621681806097"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805734"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805736"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805738"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805739"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805740"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805735"><span class="hs-identifier hs-type">tyname'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805737"><span class="hs-identifier hs-type">name'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805738"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805739"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805740"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-201"></span><span>        </span><span id="local-6989586621681806097"><span class="annot"><span class="annottext">go :: Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-202"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span> </span><span id="local-6989586621681806098"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806098"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806099"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806099"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681806100"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806100"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681806101"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806101"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; name'
-&gt; Type tyname' uni ann
-&gt; Term tyname' name' uni fun ann
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; name
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-var">LamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806098"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">name -&gt; name'
</span><a href="#local-6989586621681806096"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806099"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806100"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806101"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span> </span><span id="local-6989586621681806102"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806102"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806103"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806103"><span class="hs-identifier hs-var">tyname</span></a></span></span><span> </span><span id="local-6989586621681806104"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806104"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806105"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806105"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; tyname'
-&gt; Kind ann
-&gt; Term tyname' name' uni fun ann
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; tyname
-&gt; Kind ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-var">TyAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806102"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806103"><span class="hs-identifier hs-var">tyname</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806104"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806105"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621681806106"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806106"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806107"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806107"><span class="hs-identifier hs-var">name</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; name' -&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; name -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806106"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">name -&gt; name'
</span><a href="#local-6989586621681806096"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806107"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span id="local-6989586621681806109"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806109"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806110"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806110"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681806111"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806111"><span class="hs-identifier hs-var">t2</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Term tyname' name' uni fun ann
-&gt; Term tyname' name' uni fun ann
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806109"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806110"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806111"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span id="local-6989586621681806113"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806113"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806114"><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681806114"><span class="hs-identifier hs-var">c</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; Some (ValueOf uni) -&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Constant"><span class="hs-identifier hs-var">Constant</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806113"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681806114"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-207"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span id="local-6989586621681806116"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806116"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806117"><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681806117"><span class="hs-identifier hs-var">b</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; fun -&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; fun -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Builtin"><span class="hs-identifier hs-var">Builtin</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806116"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681806117"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-208"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyInst"><span class="hs-identifier hs-type">TyInst</span></a></span><span> </span><span id="local-6989586621681806119"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806119"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806120"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806120"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span id="local-6989586621681806121"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806121"><span class="hs-identifier hs-var">ty</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Term tyname' name' uni fun ann
-&gt; Type tyname' uni ann
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Term tyname name uni fun ann
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#TyInst"><span class="hs-identifier hs-var">TyInst</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806119"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806120"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806121"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Unwrap"><span class="hs-identifier hs-type">Unwrap</span></a></span><span> </span><span id="local-6989586621681806123"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806123"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806124"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806124"><span class="hs-identifier hs-var">body</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Term tyname' name' uni fun ann -&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Unwrap"><span class="hs-identifier hs-var">Unwrap</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806123"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806124"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#IWrap"><span class="hs-identifier hs-type">IWrap</span></a></span><span> </span><span id="local-6989586621681806126"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806126"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806127"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806127"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span id="local-6989586621681806128"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806128"><span class="hs-identifier hs-var">ty2</span></a></span></span><span> </span><span id="local-6989586621681806129"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806129"><span class="hs-identifier hs-var">body</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Type tyname' uni ann
-&gt; Type tyname' uni ann
-&gt; Term tyname' name' uni fun ann
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#IWrap"><span class="hs-identifier hs-var">IWrap</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806126"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806127"><span class="hs-identifier hs-var">ty1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806128"><span class="hs-identifier hs-var">ty2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806129"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Constr"><span class="hs-identifier hs-type">Constr</span></a></span><span> </span><span id="local-6989586621681806131"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806131"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806132"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806132"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681806133"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681806133"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681806134"><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681806134"><span class="hs-identifier hs-var">es</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Type tyname' uni ann
-&gt; Word64
-&gt; [Term tyname' name' uni fun ann]
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Type tyname uni ann
-&gt; Word64
-&gt; [Term tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Constr"><span class="hs-identifier hs-var">Constr</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806131"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806132"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681806133"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann)
-&gt; [Term tyname name uni fun ann]
-&gt; [Term tyname' name' uni fun ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681806134"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Case"><span class="hs-identifier hs-type">Case</span></a></span><span> </span><span id="local-6989586621681806136"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806136"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806137"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806137"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681806138"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806138"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681806139"><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681806139"><span class="hs-identifier hs-var">cs</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Type tyname' uni ann
-&gt; Term tyname' name' uni fun ann
-&gt; [Term tyname' name' uni fun ann]
-&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; [Term tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Case"><span class="hs-identifier hs-var">Case</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806136"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806137"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806138"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann)
-&gt; [Term tyname name uni fun ann]
-&gt; [Term tyname' name' uni fun ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann -&gt; Term tyname' name' uni fun ann
</span><a href="#local-6989586621681806097"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681806139"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span id="local-6989586621681806141"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806141"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681806142"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806142"><span class="hs-identifier hs-var">ty</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; Type tyname' uni ann -&gt; Term tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; Type tyname uni ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Error"><span class="hs-identifier hs-var">Error</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806141"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
forall tyname tyname' (uni :: * -&gt; *) ann.
(tyname -&gt; tyname') -&gt; Type tyname uni ann -&gt; Type tyname' uni ann
</span><a href="PlutusCore.Subst.html#typeMapNames"><span class="hs-identifier hs-var">typeMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806142"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><a href="PlutusCore.Subst.html#programMapNames"><span class="hs-identifier hs-type">programMapNames</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681805750"><span class="annot"><a href="#local-6989586621681805750"><span class="hs-identifier hs-type">tyname</span></a></span></span><span> </span><span id="local-6989586621681805751"><span class="annot"><a href="#local-6989586621681805751"><span class="hs-identifier hs-type">tyname'</span></a></span></span><span> </span><span id="local-6989586621681805752"><span class="annot"><a href="#local-6989586621681805752"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span id="local-6989586621681805753"><span class="annot"><a href="#local-6989586621681805753"><span class="hs-identifier hs-type">name'</span></a></span></span><span> </span><span id="local-6989586621681805754"><span class="annot"><a href="#local-6989586621681805754"><span class="hs-identifier hs-type">uni</span></a></span></span><span> </span><span id="local-6989586621681805755"><span class="annot"><a href="#local-6989586621681805755"><span class="hs-identifier hs-type">fun</span></a></span></span><span> </span><span id="local-6989586621681805756"><span class="annot"><a href="#local-6989586621681805756"><span class="hs-identifier hs-type">ann</span></a></span></span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805750"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805751"><span class="hs-identifier hs-type">tyname'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681805752"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681805753"><span class="hs-identifier hs-type">name'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805750"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805752"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805754"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805755"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805756"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805751"><span class="hs-identifier hs-type">tyname'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805753"><span class="hs-identifier hs-type">name'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805754"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805755"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805756"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-221"></span><span id="programMapNames"><span class="annot"><span class="annottext">programMapNames :: forall tyname tyname' name name' (uni :: * -&gt; *) fun ann.
(tyname -&gt; tyname')
-&gt; (name -&gt; name')
-&gt; Program tyname name uni fun ann
-&gt; Program tyname' name' uni fun ann
</span><a href="PlutusCore.Subst.html#programMapNames"><span class="hs-identifier hs-var hs-var">programMapNames</span></a></span></span><span> </span><span id="local-6989586621681806143"><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806143"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681806144"><span class="annot"><span class="annottext">name -&gt; name'
</span><a href="#local-6989586621681806144"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span id="local-6989586621681806146"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806146"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806147"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621681806147"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681806148"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806148"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; Version
-&gt; Term tyname' name' uni fun ann
-&gt; Program tyname' name' uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Version
-&gt; Term tyname name uni fun ann
-&gt; Program tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-var">Program</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806146"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621681806147"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tyname -&gt; tyname')
-&gt; (name -&gt; name')
-&gt; Term tyname name uni fun ann
-&gt; Term tyname' name' uni fun ann
forall tyname tyname' name name' (uni :: * -&gt; *) fun ann.
(tyname -&gt; tyname')
-&gt; (name -&gt; name')
-&gt; Term tyname name uni fun ann
-&gt; Term tyname' name' uni fun ann
</span><a href="PlutusCore.Subst.html#termMapNames"><span class="hs-identifier hs-var">termMapNames</span></a></span><span> </span><span class="annot"><span class="annottext">tyname -&gt; tyname'
</span><a href="#local-6989586621681806143"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">name -&gt; name'
</span><a href="#local-6989586621681806144"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806148"><span class="hs-identifier hs-var">term</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-comment">-- Free variables</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="annot"><span class="hs-comment">-- | Get all the free term variables in a term.</span></span><span>
</span><span id="line-226"></span><span id="local-6989586621681805771"><span id="local-6989586621681805772"><span id="local-6989586621681805774"><span id="local-6989586621681805775"><span id="local-6989586621681805776"><span id="local-6989586621681805777"><span class="annot"><a href="PlutusCore.Subst.html#fvTerm"><span class="hs-identifier hs-type">fvTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805771"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805772"><span class="hs-identifier hs-type">unique</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805774"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805771"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805775"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805776"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805777"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805771"><span class="hs-identifier hs-type">name</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-227"></span><span id="fvTerm"><span class="annot"><span class="annottext">fvTerm :: forall name unique tyname (uni :: * -&gt; *) fun ann.
HasUnique name unique =&gt;
Traversal' (Term tyname name uni fun ann) name
</span><a href="PlutusCore.Subst.html#fvTerm"><span class="hs-identifier hs-var hs-var">fvTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
forall name unique tyname (uni :: * -&gt; *) fun ann.
HasUnique name unique =&gt;
UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
</span><a href="PlutusCore.Subst.html#fvTermCtx"><span class="hs-identifier hs-var">fvTermCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
forall a. Monoid a =&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span id="local-6989586621681805788"><span id="local-6989586621681805789"><span id="local-6989586621681805790"><span id="local-6989586621681805791"><span id="local-6989586621681805792"><span id="local-6989586621681805793"><span class="annot"><a href="PlutusCore.Subst.html#fvTermCtx"><span class="hs-identifier hs-type">fvTermCtx</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805788"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805789"><span class="hs-identifier hs-type">unique</span></a></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Name.UniqueSet.html#UniqueSet"><span class="hs-identifier hs-type">UniqueSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805789"><span class="hs-identifier hs-type">unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805790"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805788"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805791"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805792"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805793"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805788"><span class="hs-identifier hs-type">name</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-232"></span><span id="fvTermCtx"><span class="annot"><span class="annottext">fvTermCtx :: forall name unique tyname (uni :: * -&gt; *) fun ann.
HasUnique name unique =&gt;
UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
</span><a href="PlutusCore.Subst.html#fvTermCtx"><span class="hs-identifier hs-var hs-var">fvTermCtx</span></a></span></span><span> </span><span id="local-6989586621681806169"><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806169"><span class="hs-identifier hs-var">bound</span></a></span></span><span> </span><span id="local-6989586621681806170"><span class="annot"><span class="annottext">name -&gt; f name
</span><a href="#local-6989586621681806170"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621681806171"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806171"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806172"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806172"><span class="hs-identifier hs-var">n</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; name -&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; name -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806171"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(name -&gt; Term tyname name uni fun ann)
-&gt; f name -&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">name -&gt; UniqueSet unique -&gt; Bool
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; Bool
</span><a href="PlutusCore.Name.UniqueSet.html#memberByName"><span class="hs-identifier hs-var">USet.memberByName</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806172"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806169"><span class="hs-identifier hs-var">bound</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">name -&gt; f name
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806172"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">name -&gt; f name
</span><a href="#local-6989586621681806170"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806172"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span> </span><span id="local-6989586621681806174"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806174"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806175"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806175"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681806176"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806176"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681806177"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806177"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; name
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; name
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-var">LamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806174"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806175"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806176"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
forall name unique tyname (uni :: * -&gt; *) fun ann.
HasUnique name unique =&gt;
UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
</span><a href="PlutusCore.Subst.html#fvTermCtx"><span class="hs-identifier hs-var">fvTermCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">name -&gt; UniqueSet unique -&gt; UniqueSet unique
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; UniqueSet unique
</span><a href="PlutusCore.Name.UniqueSet.html#insertByName"><span class="hs-identifier hs-var">USet.insertByName</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681806175"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806169"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">name -&gt; f name
</span><a href="#local-6989586621681806170"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806177"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621681806179"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806179"><span class="hs-identifier hs-var">t</span></a></span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((name -&gt; f name)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (name -&gt; f name)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
forall name unique tyname (uni :: * -&gt; *) fun ann.
HasUnique name unique =&gt;
UniqueSet unique -&gt; Traversal' (Term tyname name uni fun ann) name
</span><a href="PlutusCore.Subst.html#fvTermCtx"><span class="hs-identifier hs-var">fvTermCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806169"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">name -&gt; f name
</span><a href="#local-6989586621681806170"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806179"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><span class="hs-comment">-- | Get all the free type variables in a term.</span></span><span>
</span><span id="line-238"></span><span id="local-6989586621681805806"><span id="local-6989586621681805807"><span id="local-6989586621681805808"><span id="local-6989586621681805809"><span id="local-6989586621681805810"><span id="local-6989586621681805811"><span class="annot"><a href="PlutusCore.Subst.html#ftvTerm"><span class="hs-identifier hs-type">ftvTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805806"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805807"><span class="hs-identifier hs-type">unique</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805806"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805808"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805809"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805810"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805811"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805806"><span class="hs-identifier hs-type">tyname</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-239"></span><span id="ftvTerm"><span class="annot"><span class="annottext">ftvTerm :: forall tyname unique name (uni :: * -&gt; *) fun ann.
HasUnique tyname unique =&gt;
Traversal' (Term tyname name uni fun ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTerm"><span class="hs-identifier hs-var hs-var">ftvTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname unique name (uni :: * -&gt; *) fun ann.
HasUnique tyname unique =&gt;
UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTermCtx"><span class="hs-identifier hs-var">ftvTermCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
forall a. Monoid a =&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span id="local-6989586621681805819"><span id="local-6989586621681805820"><span id="local-6989586621681805821"><span id="local-6989586621681805822"><span id="local-6989586621681805823"><span id="local-6989586621681805824"><span class="annot"><a href="PlutusCore.Subst.html#ftvTermCtx"><span class="hs-identifier hs-type">ftvTermCtx</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805819"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805820"><span class="hs-identifier hs-type">unique</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Name.UniqueSet.html#UniqueSet"><span class="hs-identifier hs-type">UniqueSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805820"><span class="hs-identifier hs-type">unique</span></a></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805819"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805821"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805822"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805823"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805824"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805819"><span class="hs-identifier hs-type">tyname</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-245"></span><span id="ftvTermCtx"><span class="annot"><span class="annottext">ftvTermCtx :: forall tyname unique name (uni :: * -&gt; *) fun ann.
HasUnique tyname unique =&gt;
UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTermCtx"><span class="hs-identifier hs-var hs-var">ftvTermCtx</span></a></span></span><span> </span><span id="local-6989586621681806194"><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806194"><span class="hs-identifier hs-var">bound</span></a></span></span><span> </span><span id="local-6989586621681806195"><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806195"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-246"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span> </span><span id="local-6989586621681806196"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806196"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806197"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806197"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681806198"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806198"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806199"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806199"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; tyname
-&gt; Kind ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; tyname
-&gt; Kind ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-var">TyAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806196"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806197"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806198"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
-&gt; f (Term tyname name uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname unique name (uni :: * -&gt; *) fun ann.
HasUnique tyname unique =&gt;
UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTermCtx"><span class="hs-identifier hs-var">ftvTermCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; UniqueSet unique -&gt; UniqueSet unique
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; UniqueSet unique
</span><a href="PlutusCore.Name.UniqueSet.html#insertByName"><span class="hs-identifier hs-var">USet.insertByName</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806197"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806194"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806195"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806199"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-comment">-- sound because the subterms and subtypes are disjoint</span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621681806200"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806200"><span class="hs-identifier hs-var">t</span></a></span></span><span>              </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-249"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall tyname unique name (uni :: * -&gt; *) fun ann.
HasUnique tyname unique =&gt;
UniqueSet unique
-&gt; Traversal' (Term tyname name uni fun ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTermCtx"><span class="hs-identifier hs-var">ftvTermCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806194"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Traversal' (Term tyname name uni fun ann) tyname
-&gt; Traversal' (Term tyname name uni fun ann) tyname
-&gt; Traversal' (Term tyname name uni fun ann) tyname
forall s a. Traversal' s a -&gt; Traversal' s a -&gt; Traversal' s a
</span><span class="hs-operator hs-var">`Unsound.adjoin`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubtypes"><span class="hs-identifier hs-var">termSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-var">ftvTyCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806194"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806195"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681806200"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="annot"><span class="hs-comment">-- | Get all the free type variables in a type.</span></span><span>
</span><span id="line-252"></span><span id="local-6989586621681805840"><span id="local-6989586621681805841"><span id="local-6989586621681805842"><span id="local-6989586621681805843"><span class="annot"><a href="PlutusCore.Subst.html#ftvTy"><span class="hs-identifier hs-type">ftvTy</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805840"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805841"><span class="hs-identifier hs-type">unique</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805840"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805842"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805843"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805840"><span class="hs-identifier hs-type">tyname</span></a></span></span></span></span></span><span>
</span><span id="line-255"></span><span id="ftvTy"><span class="annot"><span class="annottext">ftvTy :: forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTy"><span class="hs-identifier hs-var hs-var">ftvTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-var">ftvTyCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
forall a. Monoid a =&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span id="local-6989586621681805836"><span id="local-6989586621681805837"><span id="local-6989586621681805838"><span id="local-6989586621681805839"><span class="annot"><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-type">ftvTyCtx</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Name.Unique.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805836"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805837"><span class="hs-identifier hs-type">unique</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="PlutusCore.Name.UniqueSet.html#UniqueSet"><span class="hs-identifier hs-type">UniqueSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805837"><span class="hs-identifier hs-type">unique</span></a></span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversal'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805836"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805838"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805839"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805836"><span class="hs-identifier hs-type">tyname</span></a></span></span></span></span></span><span>
</span><span id="line-261"></span><span id="ftvTyCtx"><span class="annot"><span class="annottext">ftvTyCtx :: forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-var hs-var">ftvTyCtx</span></a></span></span><span> </span><span id="local-6989586621681806232"><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806232"><span class="hs-identifier hs-var">bound</span></a></span></span><span> </span><span id="local-6989586621681806233"><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806233"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span id="local-6989586621681806234"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806234"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806235"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806235"><span class="hs-identifier hs-var">ty</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; tyname -&gt; Type tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; tyname -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806234"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; Type tyname uni ann)
-&gt; f tyname -&gt; f (Type tyname uni ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; UniqueSet unique -&gt; Bool
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; Bool
</span><a href="PlutusCore.Name.UniqueSet.html#memberByName"><span class="hs-identifier hs-var">USet.memberByName</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806235"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806232"><span class="hs-identifier hs-var">bound</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806235"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806233"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806235"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-type">TyForall</span></a></span><span> </span><span id="local-6989586621681806236"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806236"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806237"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806237"><span class="hs-identifier hs-var">bnd</span></a></span></span><span> </span><span id="local-6989586621681806238"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806238"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806239"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806239"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-var">TyForall</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806236"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806237"><span class="hs-identifier hs-var">bnd</span></a></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806238"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; Type tyname uni ann)
-&gt; f (Type tyname uni ann) -&gt; f (Type tyname uni ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-var">ftvTyCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; UniqueSet unique -&gt; UniqueSet unique
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; UniqueSet unique
</span><a href="PlutusCore.Name.UniqueSet.html#insertByName"><span class="hs-identifier hs-var">USet.insertByName</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806237"><span class="hs-identifier hs-var">bnd</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806232"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806233"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806239"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-type">TyLam</span></a></span><span> </span><span id="local-6989586621681806240"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806240"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681806241"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806241"><span class="hs-identifier hs-var">bnd</span></a></span></span><span> </span><span id="local-6989586621681806242"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806242"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681806243"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806243"><span class="hs-identifier hs-var">ty</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-var">TyLam</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681806240"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806241"><span class="hs-identifier hs-var">bnd</span></a></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681806242"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; Type tyname uni ann)
-&gt; f (Type tyname uni ann) -&gt; f (Type tyname uni ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-var">ftvTyCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tyname -&gt; UniqueSet unique -&gt; UniqueSet unique
forall name unique.
HasUnique name unique =&gt;
name -&gt; UniqueSet unique -&gt; UniqueSet unique
</span><a href="PlutusCore.Name.UniqueSet.html#insertByName"><span class="hs-identifier hs-var">USet.insertByName</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681806241"><span class="hs-identifier hs-var">bnd</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806232"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806233"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806243"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span id="local-6989586621681806244"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806244"><span class="hs-identifier hs-var">t</span></a></span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeSubtypes"><span class="hs-identifier hs-var">typeSubtypes</span></a></span><span> </span><span class="annot"><span class="annottext">((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Type tyname uni ann
-&gt; f (Type tyname uni ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
forall tyname unique (uni :: * -&gt; *) ann.
HasUnique tyname unique =&gt;
UniqueSet unique -&gt; Traversal' (Type tyname uni ann) tyname
</span><a href="PlutusCore.Subst.html#ftvTyCtx"><span class="hs-identifier hs-var">ftvTyCtx</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueSet unique
</span><a href="#local-6989586621681806232"><span class="hs-identifier hs-var">bound</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">tyname -&gt; f tyname
</span><a href="#local-6989586621681806233"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681806244"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-comment">-- TODO: these could be Traversals</span><span>
</span><span id="line-269"></span><span class="annot"><span class="hs-comment">-- | Get all the term variables in a term.</span></span><span>
</span><span id="line-270"></span><span id="local-6989586621681805856"><span id="local-6989586621681805857"><span id="local-6989586621681805858"><span id="local-6989586621681805859"><span id="local-6989586621681805860"><span class="annot"><a href="PlutusCore.Subst.html#vTerm"><span class="hs-identifier hs-type">vTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fold</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805857"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805856"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805858"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805859"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805860"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805856"><span class="hs-identifier hs-type">name</span></a></span></span></span></span></span></span><span>
</span><span id="line-271"></span><span id="vTerm"><span class="annot"><span class="annottext">vTerm :: forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(name -&gt; f name)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#vTerm"><span class="hs-identifier hs-var hs-var">vTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubtermsDeep"><span class="hs-identifier hs-var">termSubtermsDeep</span></a></span><span> </span><span class="annot"><span class="annottext">((Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((name -&gt; f name)
    -&gt; Term tyname name uni fun ann
    -&gt; f (Term tyname name uni fun ann))
-&gt; (name -&gt; f name)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(name -&gt; f name)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(name -&gt; f name)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termVars"><span class="hs-identifier hs-var">termVars</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="annot"><span class="hs-comment">-- | Get all the type variables in a term.</span></span><span>
</span><span id="line-274"></span><span id="local-6989586621681805879"><span id="local-6989586621681805880"><span id="local-6989586621681805881"><span id="local-6989586621681805882"><span id="local-6989586621681805883"><span class="annot"><a href="PlutusCore.Subst.html#tvTerm"><span class="hs-identifier hs-type">tvTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fold</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805879"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805880"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805881"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805882"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805883"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805879"><span class="hs-identifier hs-type">tyname</span></a></span></span></span></span></span></span><span>
</span><span id="line-275"></span><span id="tvTerm"><span class="annot"><span class="annottext">tvTerm :: forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Subst.html#tvTerm"><span class="hs-identifier hs-var hs-var">tvTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Term tyname name uni fun ann -&gt; f (Term tyname name uni fun ann)
</span><a href="PlutusCore.Core.Plated.html#termSubtypesDeep"><span class="hs-identifier hs-var">termSubtypesDeep</span></a></span><span> </span><span class="annot"><span class="annottext">((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Term tyname name uni fun ann
 -&gt; f (Term tyname name uni fun ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Term tyname name uni fun ann
-&gt; f (Term tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeTyVars"><span class="hs-identifier hs-var">typeTyVars</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="annot"><span class="hs-comment">-- | Get all the type variables in a type.</span></span><span>
</span><span id="line-278"></span><span id="local-6989586621681805900"><span id="local-6989586621681805901"><span id="local-6989586621681805902"><span class="annot"><a href="PlutusCore.Subst.html#tvTy"><span class="hs-identifier hs-type">tvTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fold</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805900"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805901"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681805902"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681805900"><span class="hs-identifier hs-type">tyname</span></a></span></span></span></span><span>
</span><span id="line-279"></span><span id="tvTy"><span class="annot"><span class="annottext">tvTy :: forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Subst.html#tvTy"><span class="hs-identifier hs-var hs-var">tvTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeSubtypesDeep"><span class="hs-identifier hs-var">typeSubtypesDeep</span></a></span><span> </span><span class="annot"><span class="annottext">((Type tyname uni ann -&gt; f (Type tyname uni ann))
 -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; ((tyname -&gt; f tyname)
    -&gt; Type tyname uni ann -&gt; f (Type tyname uni ann))
-&gt; (tyname -&gt; f tyname)
-&gt; Type tyname uni ann
-&gt; f (Type tyname uni ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
forall tyname (uni :: * -&gt; *) ann (f :: * -&gt; *).
Applicative f =&gt;
(tyname -&gt; f tyname)
-&gt; Type tyname uni ann -&gt; f (Type tyname uni ann)
</span><a href="PlutusCore.Core.Plated.html#typeTyVars"><span class="hs-identifier hs-var">typeTyVars</span></a></span><span>
</span><span id="line-280"></span></pre></body></html>