<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{- Note [Cancelling interleaved Force-Delay pairs]

 The 'ForceDelay' optimisation pushes 'Force' inside its direct 'Apply' subterms,
 removing any 'Delay' at the top of the body of the underlying lambda abstraction.
 For example, @force [(\x -&gt; delay b) a]@ is transformed into @[(\x -&gt; b) a]@.
 We also consider the case where the 'Force' is applied directly to the 'Delay' as
 the base case, i.e. the case when the applications of lambdas is empty.
 In such simple cases, the transformation is obviously correct, the question remains
 if this approach can be generalised (note: see remark at the bottom).

 Since UPLC programs are created from erasing the types of TPLC programs (see
 &quot;PlutusCore.Compiler.Erase&quot;) we will consider TPLC terms of the following structure,
 in pseudo-code (@/\@ is (multi-)type abstraction and @\@ is (multi-)term abstraction):

 &gt; /\T1 -&gt; \X1 -&gt; /\T2 -&gt; \X2 -&gt; /\T3 -&gt; \X3 -&gt; ... -&gt; /\Tn -&gt; \Xn -&gt; body

 where @T1 ... Tn@ are lists of type variables (e.g. @T1@ could be @[t, q, p]@)
 and @X1 ... Xn@ are lists of term variables. Of course, each @/\@ and @\@ here would
 desugar to a sequence of type/term abstractions. Also @[ M P Q ]@ is iterated
 term application, which, as usual, is left-associative.

 In order to reason about the proposed optimisation we need to consider such terms in
 the context of them being applied to some sequence of terms.

 One important observation is that this transformation requires that the underlying
 (term)-lambda abstraction will be exactly reduced by the applications.
 For UPLC, this can happen only when the number of lambda abstracted variables is equal
 to the number of terms to which it will be applied.
 For example, @force (\\x -&gt; delay b) =&gt; (\\x -&gt; b)@ is invalid, since the former is @error@.
 The other case, we can see that applying the optimisation modifies the end result:
 &gt;  force [(\x -&gt; delay b) a1 a2] =&gt; [(\x -&gt; b) a1 a2] =&gt; b[x1:=a1] a2
 &gt;
 &gt;  vs.
 &gt;
 &gt;  force [(\x -&gt; delay b) a1 a2] =&gt; force [(delay b[x1:=a1]) a2] =&gt; error

 To generalise, we consider the family of terms above applied to a family of types and
 terms:
 &gt; [ (/\T1 -&gt; \X1 -&gt;  ... -&gt; /\Tn -&gt; \Xn -&gt; body)
 &gt;     T1 X1 ... Tn Xn
 &gt; ]

 For brevity, the types and the terms to which the lambda applies are named the same as the
 bound variables, but of course this isn't necessary.
 Also note that in general @|Ti| == |Xi|@ doesn't necessarily hold for any @i in [1, n]@.

 Translated to UPLC, the original term is:
 &gt;  delay^|T1| (\X1 -&gt; delay^|T2| (\X2 -&gt; delay^|T3| (\X3 -&gt; ... -&gt; delay^|Tn| (\Xn -&gt; body))))
 where @delay^|A|@ means &quot;apply delay |A| (the length of A) times&quot;.

 With the applications:
 &gt; [force^|Tn| (... [force^|T3| ([force^|T2| ([force^|T1| (original) X1]) X2]) X3] ...) Xn]

 After inlining @original@ we get:
 &gt;  [force^|Tn|
 &gt;    (...
 &gt;      ([force^|T3|
 &gt;        ([force^|T2|
 &gt;          ([force^|T1|
 &gt;            (delay^|T1|
 &gt;              (\X1 -&gt;
 &gt;                 delay^|T2| (\X2 -&gt;
 &gt;                   delay^|T3| (\X3 -&gt;
 &gt;                     ... -&gt;
 &gt;                       delay^|Tn| (\Xn -&gt; body)))))
 &gt;           X1]) X2]) X3]) ...) Xn]

 In the end, after applying the base case optimisation:
 &gt;  [force^|Tn|
 &gt;    (...
 &gt;      ([force^|T3|
 &gt;        ([force^|T2|
 &gt;          ([(\X1 -&gt;
 &gt;            delay^|T2| (\X2 -&gt;
 &gt;              delay^|T3| (\X3 -&gt;
 &gt;                ... -&gt;
 &gt;                  delay^|Tn| (\Xn -&gt; body))))
 &gt;          X1]) X2]) X3]) ...) Xn]

 Notice that the next two reduction steps (applying @X1@ and reducing @force (delay ...)@)
 produce an equivalent term to applying the transformation and then the reduction rule
 for application.
 This is easy to check, so we continue by showing what the &quot;optimised term&quot; looks like:
 &gt;  [force^|Tn|
 &gt;    (...
 &gt;      [force^|T3|
 &gt;        ([(\X1 -&gt; \X2 -&gt;
 &gt;          delay^|T3| (\X3 -&gt;
 &gt;            ... -&gt;
 &gt;              delay^|Tn| (\Xn -&gt; body)))
 &gt;         X1 X2]) X3] ...) Xn]

 The term can be optimised further by &quot;erasing&quot; the @force^|T3|@ and @delay^|T3|@ pair,
 and so on until @Tn@.

 For examples of terms we can optimise, see the test cases in the
 &quot;Transform.Simplify.forceDelay*&quot; module of the test suite.

 Remark:

 It has been observed that the transformation:
 &gt; force([(\x -&gt; body) 5])
 &gt; ==&gt;
 &gt; [(\x -&gt; force(body))]
 where @body@ isn't necessarily of the form @delay(...)@ is also valid.
 The question arises, can we generalise the algorithm above given this observation?

 Let's consider a version of this algorithm which only &quot;pushes forces&quot; down under the
 applications of lambdas, and the following term:
 &gt; force (force ([(\x1 -&gt; delay [(\x2 -&gt; delay [(\x3 -&gt; body) 5]) 7]) 9]))
 &gt; ==&gt; (push inner force)
 &gt; force ([(\x1 -&gt; force (delay [(\x2 -&gt; delay [(\x3 -&gt; body) 5]) 7]) 9])
 &gt; ==&gt; (push outer force)
 &gt; [(\x1 -&gt; force (force (delay [(\x2 -&gt; delay [(\x3 -&gt; body) 5]) 7])) 9]

 The algorithm gets stuck because after this step the term doesn't contain a direct
 application of a @force@ over a series of lambdas and applications.
 To proceed, we need to introduce a separate pass which removes forces immediately
 followed by delays. For our example above this results in:
 &gt; [(\x1 -&gt; force ([(\x2 -&gt; delay [(\x3 -&gt; body) 5]) 7])) 9]

 As can be seen, to proceed with simplifying the term we need to run the &quot;push&quot; pass
 again.

 For an arbitrary term to be fully reduced by such an algorithm, we would need to also do
 an arbitrary number of traversals in this optimisation procedure. This increases the complexity
 of the simplifier from both a computational perspective and a human-readability perspective.

 We can easily avoid this situation by removing the force-delay pairs in the same pass.
 This means that we can fully reduce the term in a single traversal of the term, as described
 in the original algorithm.
-}</span><span>
</span><span id="line-133"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-134"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">UntypedPlutusCore.Transform.ForceDelay</span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#forceDelay"><span class="hs-identifier">forceDelay</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.html"><span class="hs-identifier">UntypedPlutusCore.Core</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">transformOf</span></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#guard"><span class="hs-identifier">guard</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="annot"><span class="hs-comment">{- | Traverses the term, for each node applying the optimisation
 detailed above. For implementation details see 'optimisationProcedure'.
-}</span></span><span>
</span><span id="line-147"></span><span id="local-6989586621681817783"><span id="local-6989586621681817784"><span id="local-6989586621681817785"><span id="local-6989586621681817786"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#forceDelay"><span class="hs-identifier hs-type">forceDelay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817783"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817784"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817785"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817786"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817783"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817784"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817785"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817786"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-148"></span><span id="forceDelay"><span class="annot"><span class="annottext">forceDelay :: forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#forceDelay"><span class="hs-identifier hs-var hs-var">forceDelay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term name uni fun a)
  (Term name uni fun a)
  (Term name uni fun a)
  (Term name uni fun a)
-&gt; (Term name uni fun a -&gt; Term name uni fun a)
-&gt; Term name uni fun a
-&gt; Term name uni fun a
forall a b. ASetter a b a b -&gt; (b -&gt; b) -&gt; a -&gt; b
</span><span class="hs-identifier hs-var">transformOf</span></span><span> </span><span class="annot"><span class="annottext">ASetter
  (Term name uni fun a)
  (Term name uni fun a)
  (Term name uni fun a)
  (Term name uni fun a)
forall name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Term name uni fun ann -&gt; f (Term name uni fun ann))
-&gt; Term name uni fun ann -&gt; f (Term name uni fun ann)
</span><a href="UntypedPlutusCore.Core.Plated.html#termSubterms"><span class="hs-identifier hs-var">termSubterms</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a -&gt; Term name uni fun a
forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#processTerm"><span class="hs-identifier hs-var">processTerm</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><span class="hs-comment">{- | Checks whether the term is of the right form, and &quot;pushes&quot;
 the 'Force' down into the underlying lambda abstractions.
-}</span></span><span>
</span><span id="line-153"></span><span id="local-6989586621681817902"><span id="local-6989586621681817903"><span id="local-6989586621681817904"><span id="local-6989586621681817905"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#processTerm"><span class="hs-identifier hs-type">processTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817902"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817903"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817904"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817905"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817902"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817903"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817904"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817905"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-154"></span><span id="processTerm"><span class="annot"><span class="annottext">processTerm :: forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#processTerm"><span class="hs-identifier hs-var hs-var">processTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Force"><span class="hs-identifier hs-type">Force</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Delay"><span class="hs-identifier hs-type">Delay</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681817907"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817907"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817907"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621681817908"><span class="annot"><span class="annottext">original :: Term name uni fun a
</span><a href="#local-6989586621681817908"><span class="hs-identifier hs-var">original</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Force"><span class="hs-identifier hs-type">Force</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681817909"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817909"><span class="hs-identifier hs-var">subTerm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-157"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a -&gt; Maybe (Term name uni fun a)
forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Maybe (Term name uni fun a)
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#optimisationProcedure"><span class="hs-identifier hs-var">optimisationProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817909"><span class="hs-identifier hs-var">subTerm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-158"></span><span>            </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681817910"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817910"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817910"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-159"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Term name uni fun a)
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817908"><span class="hs-identifier hs-var">original</span></a></span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621681817911"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817911"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817911"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><span class="hs-comment">{- | Converts the subterm of a 'Force' into specialised types for representing
 multiple applications on top of multiple abstractions. Checks whether the lambda
 will eventually get &quot;exactly reduced&quot; and applies the optimisation.
 Returns 'Nothing' if the optimisation cannot be applied.
-}</span></span><span>
</span><span id="line-167"></span><span id="local-6989586621681817805"><span id="local-6989586621681817806"><span id="local-6989586621681817807"><span id="local-6989586621681817808"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#optimisationProcedure"><span class="hs-identifier hs-type">optimisationProcedure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817805"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817806"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817807"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817808"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817805"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817806"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817807"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-168"></span><span id="optimisationProcedure"><span class="annot"><span class="annottext">optimisationProcedure :: forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Maybe (Term name uni fun a)
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#optimisationProcedure"><span class="hs-identifier hs-var hs-var">optimisationProcedure</span></a></span></span><span> </span><span id="local-6989586621681817925"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817925"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621681817926"><span class="annot"><span class="annottext">MultiApply name uni fun a
</span><a href="#local-6989586621681817926"><span class="hs-identifier hs-var">asMultiApply</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a -&gt; Maybe (MultiApply name uni fun a)
forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Maybe (MultiApply name uni fun a)
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#toMultiApply"><span class="hs-identifier hs-var">toMultiApply</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817925"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621681817928"><span class="annot"><span class="annottext">MultiAbs name uni fun a
</span><a href="#local-6989586621681817928"><span class="hs-identifier hs-var">innerMultiAbs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a -&gt; Maybe (MultiAbs name uni fun a)
forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Maybe (MultiAbs name uni fun a)
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#toMultiAbs"><span class="hs-identifier hs-var">toMultiAbs</span></a></span><span> </span><span class="annot"><span class="annottext">(Term name uni fun a -&gt; Maybe (MultiAbs name uni fun a))
-&gt; (MultiApply name uni fun a -&gt; Term name uni fun a)
-&gt; MultiApply name uni fun a
-&gt; Maybe (MultiAbs name uni fun a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MultiApply name uni fun a -&gt; Term name uni fun a
forall name (uni :: * -&gt; *) fun a.
MultiApply name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#appHead"><span class="hs-identifier hs-var">appHead</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiApply name uni fun a -&gt; Maybe (MultiAbs name uni fun a))
-&gt; MultiApply name uni fun a -&gt; Maybe (MultiAbs name uni fun a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MultiApply name uni fun a
</span><a href="#local-6989586621681817926"><span class="hs-identifier hs-var">asMultiApply</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#guard"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Maybe ()) -&gt; Bool -&gt; Maybe ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Term name uni fun a)] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MultiApply name uni fun a -&gt; [(a, Term name uni fun a)]
forall name (uni :: * -&gt; *) fun a.
MultiApply name uni fun a -&gt; [(a, Term name uni fun a)]
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#appSpineRev"><span class="hs-identifier hs-var">appSpineRev</span></a></span><span> </span><span class="annot"><span class="annottext">MultiApply name uni fun a
</span><a href="#local-6989586621681817926"><span class="hs-identifier hs-var">asMultiApply</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, name)] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MultiAbs name uni fun a -&gt; [(a, name)]
forall name (uni :: * -&gt; *) fun a.
MultiAbs name uni fun a -&gt; [(a, name)]
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#absVars"><span class="hs-identifier hs-var">absVars</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAbs name uni fun a
</span><a href="#local-6989586621681817928"><span class="hs-identifier hs-var">innerMultiAbs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MultiAbs name uni fun a -&gt; Term name uni fun a
forall name (uni :: * -&gt; *) fun a.
MultiAbs name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#absRhs"><span class="hs-identifier hs-var">absRhs</span></a></span><span> </span><span class="annot"><span class="annottext">MultiAbs name uni fun a
</span><a href="#local-6989586621681817928"><span class="hs-identifier hs-var">innerMultiAbs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-173"></span><span>        </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Delay"><span class="hs-identifier hs-type">Delay</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681817936"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817936"><span class="hs-identifier hs-var">subTerm</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681817937"><span class="annot"><span class="annottext">optimisedInnerMultiAbs :: MultiAbs name uni fun a
</span><a href="#local-6989586621681817937"><span class="hs-identifier hs-var hs-var">optimisedInnerMultiAbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MultiAbs name uni fun a
</span><a href="#local-6989586621681817928"><span class="hs-identifier hs-var">innerMultiAbs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#absRhs"><span class="hs-identifier hs-var">absRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681817936"><span class="hs-identifier hs-type">subTerm</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-175"></span><span>                </span><span id="local-6989586621681817938"><span class="annot"><span class="annottext">optimisedMultiApply :: MultiApply name uni fun a
</span><a href="#local-6989586621681817938"><span class="hs-identifier hs-var hs-var">optimisedMultiApply</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-176"></span><span>                    </span><span class="annot"><span class="annottext">MultiApply name uni fun a
</span><a href="#local-6989586621681817926"><span class="hs-identifier hs-var">asMultiApply</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#appHead"><span class="hs-identifier hs-var">appHead</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#fromMultiAbs"><span class="hs-identifier hs-type">fromMultiAbs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817937"><span class="hs-identifier hs-type">optimisedInnerMultiAbs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-177"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a -&gt; Maybe (Term name uni fun a)
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term name uni fun a -&gt; Maybe (Term name uni fun a))
-&gt; (MultiApply name uni fun a -&gt; Term name uni fun a)
-&gt; MultiApply name uni fun a
-&gt; Maybe (Term name uni fun a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MultiApply name uni fun a -&gt; Term name uni fun a
forall name (uni :: * -&gt; *) fun a.
MultiApply name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#fromMultiApply"><span class="hs-identifier hs-var">fromMultiApply</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiApply name uni fun a -&gt; Maybe (Term name uni fun a))
-&gt; MultiApply name uni fun a -&gt; Maybe (Term name uni fun a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MultiApply name uni fun a
</span><a href="#local-6989586621681817938"><span class="hs-identifier hs-var">optimisedMultiApply</span></a></span><span>
</span><span id="line-178"></span><span>        </span><span class="annot"><span class="annottext">Term name uni fun a
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Term name uni fun a)
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-keyword">data</span><span> </span><span id="MultiApply"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiApply"><span class="hs-identifier hs-var">MultiApply</span></a></span></span><span> </span><span id="local-6989586621681817827"><span class="annot"><a href="#local-6989586621681817827"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span id="local-6989586621681817828"><span class="annot"><a href="#local-6989586621681817828"><span class="hs-identifier hs-type">uni</span></a></span></span><span> </span><span id="local-6989586621681817829"><span class="annot"><a href="#local-6989586621681817829"><span class="hs-identifier hs-type">fun</span></a></span></span><span> </span><span id="local-6989586621681817830"><span class="annot"><a href="#local-6989586621681817830"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MultiApply"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiApply"><span class="hs-identifier hs-var">MultiApply</span></a></span></span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="appHead"><span class="annot"><span class="annottext">forall name (uni :: * -&gt; *) fun a.
MultiApply name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#appHead"><span class="hs-identifier hs-var hs-var">appHead</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817827"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817828"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817829"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817830"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="appSpineRev"><span class="annot"><span class="annottext">forall name (uni :: * -&gt; *) fun a.
MultiApply name uni fun a -&gt; [(a, Term name uni fun a)]
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#appSpineRev"><span class="hs-identifier hs-var hs-var">appSpineRev</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681817830"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817827"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817828"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817829"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817830"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span id="local-6989586621681817815"><span id="local-6989586621681817816"><span id="local-6989586621681817817"><span id="local-6989586621681817818"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#toMultiApply"><span class="hs-identifier hs-type">toMultiApply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817815"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817816"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817817"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817818"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiApply"><span class="hs-identifier hs-type">MultiApply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817815"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817816"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817817"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817818"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-186"></span><span id="toMultiApply"><span class="annot"><span class="annottext">toMultiApply :: forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Maybe (MultiApply name uni fun a)
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#toMultiApply"><span class="hs-identifier hs-var hs-var">toMultiApply</span></a></span></span><span> </span><span id="local-6989586621681817943"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817943"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817943"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-188"></span><span>        </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
-&gt; Term name uni fun a -&gt; Maybe (MultiApply name uni fun a)
forall {f :: * -&gt; *} {a} {name} {uni :: * -&gt; *} {fun}.
Applicative f =&gt;
[(a, Term name uni fun a)]
-&gt; Term name uni fun a -&gt; f (MultiApply name uni fun a)
</span><a href="#local-6989586621681817945"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817943"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-189"></span><span>        </span><span class="annot"><span class="annottext">Term name uni fun a
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (MultiApply name uni fun a)
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>    </span><span id="local-6989586621681817945"><span class="annot"><span class="annottext">run :: [(a, Term name uni fun a)]
-&gt; Term name uni fun a -&gt; f (MultiApply name uni fun a)
</span><a href="#local-6989586621681817945"><span class="hs-identifier hs-var hs-var">run</span></a></span></span><span> </span><span id="local-6989586621681817951"><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
</span><a href="#local-6989586621681817951"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span id="local-6989586621681817952"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817952"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681817953"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817953"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681817954"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817954"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
-&gt; Term name uni fun a -&gt; f (MultiApply name uni fun a)
</span><a href="#local-6989586621681817945"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817952"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817954"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a, Term name uni fun a)
-&gt; [(a, Term name uni fun a)] -&gt; [(a, Term name uni fun a)]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
</span><a href="#local-6989586621681817951"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817953"><span class="hs-identifier hs-var">t1</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><a href="#local-6989586621681817945"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span id="local-6989586621681817955"><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
</span><a href="#local-6989586621681817955"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681817956"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817956"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><span class="annottext">MultiApply name uni fun a -&gt; f (MultiApply name uni fun a)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiApply name uni fun a -&gt; f (MultiApply name uni fun a))
-&gt; MultiApply name uni fun a -&gt; f (MultiApply name uni fun a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
-&gt; [(a, Term name uni fun a)] -&gt; MultiApply name uni fun a
forall name (uni :: * -&gt; *) fun a.
Term name uni fun a
-&gt; [(a, Term name uni fun a)] -&gt; MultiApply name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiApply"><span class="hs-identifier hs-var">MultiApply</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817956"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
</span><a href="#local-6989586621681817955"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span id="local-6989586621681817957"><span id="local-6989586621681817958"><span id="local-6989586621681817959"><span id="local-6989586621681817960"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#fromMultiApply"><span class="hs-identifier hs-type">fromMultiApply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiApply"><span class="hs-identifier hs-type">MultiApply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817957"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817958"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817959"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817960"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817957"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817958"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817959"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817960"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-197"></span><span id="fromMultiApply"><span class="annot"><span class="annottext">fromMultiApply :: forall name (uni :: * -&gt; *) fun a.
MultiApply name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#fromMultiApply"><span class="hs-identifier hs-var hs-var">fromMultiApply</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiApply"><span class="hs-identifier hs-type">MultiApply</span></a></span><span> </span><span id="local-6989586621681817962"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817962"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681817963"><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
</span><a href="#local-6989586621681817963"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><span class="annottext">(Term name uni fun a
 -&gt; (a, Term name uni fun a) -&gt; Term name uni fun a)
-&gt; Term name uni fun a
-&gt; [(a, Term name uni fun a)]
-&gt; Term name uni fun a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">Foldable.foldl'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681817964"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817964"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681817965"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817965"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681817966"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817966"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
-&gt; Term name uni fun a
-&gt; Term name uni fun a
-&gt; Term name uni fun a
forall name (uni :: * -&gt; *) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><a href="UntypedPlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817965"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817964"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817966"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817962"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Term name uni fun a)]
</span><a href="#local-6989586621681817963"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-keyword">data</span><span> </span><span id="MultiAbs"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiAbs"><span class="hs-identifier hs-var">MultiAbs</span></a></span></span><span> </span><span id="local-6989586621681817838"><span class="annot"><a href="#local-6989586621681817838"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span id="local-6989586621681817839"><span class="annot"><a href="#local-6989586621681817839"><span class="hs-identifier hs-type">uni</span></a></span></span><span> </span><span id="local-6989586621681817840"><span class="annot"><a href="#local-6989586621681817840"><span class="hs-identifier hs-type">fun</span></a></span></span><span> </span><span id="local-6989586621681817841"><span class="annot"><a href="#local-6989586621681817841"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MultiAbs"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiAbs"><span class="hs-identifier hs-var">MultiAbs</span></a></span></span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="absVars"><span class="annot"><span class="annottext">forall name (uni :: * -&gt; *) fun a.
MultiAbs name uni fun a -&gt; [(a, name)]
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#absVars"><span class="hs-identifier hs-var hs-var">absVars</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681817841"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681817838"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="absRhs"><span class="annot"><span class="annottext">forall name (uni :: * -&gt; *) fun a.
MultiAbs name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#absRhs"><span class="hs-identifier hs-var hs-var">absRhs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817838"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817839"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817840"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817841"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span id="local-6989586621681817820"><span id="local-6989586621681817821"><span id="local-6989586621681817822"><span id="local-6989586621681817823"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#toMultiAbs"><span class="hs-identifier hs-type">toMultiAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817820"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817821"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817822"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817823"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiAbs"><span class="hs-identifier hs-type">MultiAbs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817820"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817821"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817822"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817823"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-206"></span><span id="toMultiAbs"><span class="annot"><span class="annottext">toMultiAbs :: forall name (uni :: * -&gt; *) fun a.
Term name uni fun a -&gt; Maybe (MultiAbs name uni fun a)
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#toMultiAbs"><span class="hs-identifier hs-var hs-var">toMultiAbs</span></a></span></span><span> </span><span id="local-6989586621681817969"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817969"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817969"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">name
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(a, name)]
-&gt; Term name uni fun a -&gt; Maybe (MultiAbs name uni fun a)
forall {f :: * -&gt; *} {a} {name} {uni :: * -&gt; *} {fun}.
Applicative f =&gt;
[(a, name)] -&gt; Term name uni fun a -&gt; f (MultiAbs name uni fun a)
</span><a href="#local-6989586621681817971"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817969"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Term name uni fun a
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (MultiAbs name uni fun a)
forall a. Maybe a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621681817971"><span class="annot"><span class="annottext">run :: [(a, name)] -&gt; Term name uni fun a -&gt; f (MultiAbs name uni fun a)
</span><a href="#local-6989586621681817971"><span class="hs-identifier hs-var hs-var">run</span></a></span></span><span> </span><span id="local-6989586621681817976"><span class="annot"><span class="annottext">[(a, name)]
</span><a href="#local-6989586621681817976"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span> </span><span id="local-6989586621681817977"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817977"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681817978"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681817978"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681817979"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817979"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><span class="annottext">[(a, name)] -&gt; Term name uni fun a -&gt; f (MultiAbs name uni fun a)
</span><a href="#local-6989586621681817971"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817977"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681817978"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a, name) -&gt; [(a, name)] -&gt; [(a, name)]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, name)]
</span><a href="#local-6989586621681817976"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817979"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><a href="#local-6989586621681817971"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span id="local-6989586621681817980"><span class="annot"><span class="annottext">[(a, name)]
</span><a href="#local-6989586621681817980"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681817981"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817981"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><span class="annottext">MultiAbs name uni fun a -&gt; f (MultiAbs name uni fun a)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAbs name uni fun a -&gt; f (MultiAbs name uni fun a))
-&gt; MultiAbs name uni fun a -&gt; f (MultiAbs name uni fun a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, name)] -&gt; Term name uni fun a -&gt; MultiAbs name uni fun a
forall name (uni :: * -&gt; *) fun a.
[(a, name)] -&gt; Term name uni fun a -&gt; MultiAbs name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiAbs"><span class="hs-identifier hs-var">MultiAbs</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, name)]
</span><a href="#local-6989586621681817980"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817981"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span id="local-6989586621681817982"><span id="local-6989586621681817983"><span id="local-6989586621681817984"><span id="local-6989586621681817985"><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#fromMultiAbs"><span class="hs-identifier hs-type">fromMultiAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiAbs"><span class="hs-identifier hs-type">MultiAbs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817982"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817983"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817984"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="UntypedPlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817982"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817983"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817984"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681817985"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-217"></span><span id="fromMultiAbs"><span class="annot"><span class="annottext">fromMultiAbs :: forall name (uni :: * -&gt; *) fun a.
MultiAbs name uni fun a -&gt; Term name uni fun a
</span><a href="UntypedPlutusCore.Transform.ForceDelay.html#fromMultiAbs"><span class="hs-identifier hs-var hs-var">fromMultiAbs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="UntypedPlutusCore.Transform.ForceDelay.html#MultiAbs"><span class="hs-identifier hs-type">MultiAbs</span></a></span><span> </span><span id="local-6989586621681817987"><span class="annot"><span class="annottext">[(a, name)]
</span><a href="#local-6989586621681817987"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span id="local-6989586621681817988"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817988"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><span class="annottext">(Term name uni fun a -&gt; (a, name) -&gt; Term name uni fun a)
-&gt; Term name uni fun a -&gt; [(a, name)] -&gt; Term name uni fun a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">Foldable.foldl'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681817989"><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817989"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681817990"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817990"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681817991"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681817991"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; name -&gt; Term name uni fun a -&gt; Term name uni fun a
forall name (uni :: * -&gt; *) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="UntypedPlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-var">LamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681817990"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681817991"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817989"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term name uni fun a
</span><a href="#local-6989586621681817988"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, name)]
</span><a href="#local-6989586621681817987"><span class="hs-identifier hs-var">vars</span></a></span><span>
</span><span id="line-219"></span></pre></body></html>