<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE QuantifiedConstraints #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="annot"><span class="hs-comment">{- | This module is designed to be imported qualified, as many of its
identifiers clash with the Plutarch prelude.
-}</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.LedgerApi.AssocMap</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier">PMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier">KeyGuarantees</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier">Commutativity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Functions</span></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Creation</span></span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier">pempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingleton"><span class="hs-identifier">psingleton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier">psingletonData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier">punsortedMapFromFoldable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier">psortedMapFromFoldable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Transformation</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier">passertSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pforgetSorted"><span class="hs-identifier">pforgetSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmap"><span class="hs-identifier">pmap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier">pmapData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier">pmapWithKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybe"><span class="hs-identifier">pmapMaybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier">pmapMaybeData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Relational lift</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pcheckBinRel"><span class="hs-identifier">pcheckBinRel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Comparison</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqual"><span class="hs-identifier">pkeysEqual</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqualUnsorted"><span class="hs-identifier">pkeysEqualUnsorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Fold</span></span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pall"><span class="hs-identifier">pall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pany"><span class="hs-identifier">pany</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldMapWithKey"><span class="hs-identifier">pfoldMapWithKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier">pfoldlWithKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Combination</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier">punionResolvingCollisionsWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier">punionResolvingCollisionsWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier">pleftBiasedUnion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdifference"><span class="hs-identifier">pdifference</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithDefaults"><span class="hs-identifier">pzipWithDefaults</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWith"><span class="hs-identifier">pintersectionWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWithData"><span class="hs-identifier">pintersectionWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Query</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pnull"><span class="hs-identifier">pnull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier">plookup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupData"><span class="hs-identifier">plookupData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier">plookupDataWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfindWithDefault"><span class="hs-identifier">pfindWithDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAt"><span class="hs-identifier">pfoldAt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier">pfoldAtData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#ptryLookup"><span class="hs-identifier">ptryLookup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Modification</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier">pinsert</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdelete"><span class="hs-identifier">pdelete</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pupdate"><span class="hs-identifier">pupdate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#padjust"><span class="hs-identifier">padjust</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Key-value pair manipulation</span></span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier">pkvPairKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier">pkvPairValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairLt"><span class="hs-identifier">pkvPairLt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Conversion</span></span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeys"><span class="hs-identifier">pkeys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#bimap"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#forM"><span class="hs-identifier">forM</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Builtin</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><span class="hs-identifier">pasMap</span></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="hs-identifier">pdataImpl</span></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><span class="hs-identifier">pforgetData</span></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><span class="hs-identifier">pfromDataImpl</span></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><span class="hs-identifier">ppairDataBuiltin</span></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal.Lift</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><span class="hs-identifier">PLiftable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromPlutarch</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromPlutarchRepr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toPlutarch</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toPlutarchRepr</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><span class="hs-identifier">fromPlutarchUni</span></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><span class="hs-identifier">toPlutarchUni</span></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">punsafeBuiltin</span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal.Witness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">witness</span></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html"><span class="hs-identifier">Plutarch.LedgerApi.Utils</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#Mret"><span class="hs-identifier">Mret</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSBool"><span class="hs-identifier">PSBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSFalse"><span class="hs-identifier">PSFalse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSTrue"><span class="hs-identifier">PSTrue</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#psfalse"><span class="hs-identifier">psfalse</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#pstrue"><span class="hs-identifier">pstrue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.List</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pall</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pany</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pmap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pnull</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">psingleton</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pzipWith</span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Prelude</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PPrelude</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.TryFrom</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PTryFrom</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PTryFromExcess</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ptryFrom'</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Unsafe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">punsafeCoerce</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">punsafeDowncast</span></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V3</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AssocMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusMap</span></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Enum.html#pred"><span class="hs-identifier">pred</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- TODO: Rename this, because this is actually a _sorting_ guarantee!</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-117"></span><span class="hs-keyword">data</span><span> </span><span id="KeyGuarantees"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-var">KeyGuarantees</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sorted"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-var">Sorted</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Unsorted"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-var">Unsorted</span></a></span></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-120"></span><span class="hs-keyword">newtype</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284438"><span class="annot"><a href="#local-6989586621679284438"><span class="hs-identifier hs-type">keysort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284436"><span class="annot"><a href="#local-6989586621679284436"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284437"><span class="annot"><a href="#local-6989586621679284437"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284435"><span class="annot"><a href="#local-6989586621679284435"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284435"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284436"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284437"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-124"></span><span>      </span><span id="local-6989586621679285187"><span id="local-6989586621679285189"><span class="annot"><span class="annottext">(forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x)
-&gt; (forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s)
-&gt; Generic (PMap keysort k v s)
forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cfrom :: forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
from :: forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cto :: forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
to :: forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-128"></span><span>      </span><span id="local-6989586621679285193"><span id="local-6989586621679285199"><span class="annot"><span class="annottext">(forall (s :: S).
 PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v)))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner (PMap keysort k v))
    -&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType (PMap keysort k v)
forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S) (b :: S -&gt; Type).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
pcon' :: forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
$cpmatch' :: forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S) (b :: S -&gt; Type).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-130"></span><span>      </span><span id="local-6989586621679285208"><span class="annot"><span class="annottext">(forall (s :: S).
 Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString)
-&gt; PShow (PMap keysort k v)
forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (t :: S -&gt; Type).
(forall (s :: S). Bool -&gt; Term s t -&gt; Term s PString) -&gt; PShow t
$cpshow' :: forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
pshow' :: forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">PShow</span></span></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679284222"><span id="local-6989586621679284223"><span id="local-6989586621679284224"><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284222"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284223"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284224"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621679284294"><span id="local-6989586621679284295"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.ToData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AsHaskell</span></span><span> </span><span class="annot"><a href="#local-6989586621679284294"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.ToData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AsHaskell</span></span><span> </span><span class="annot"><a href="#local-6989586621679284295"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.FromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AsHaskell</span></span><span> </span><span class="annot"><a href="#local-6989586621679284294"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.FromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AsHaskell</span></span><span> </span><span class="annot"><a href="#local-6989586621679284295"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PLiftable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284294"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284295"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AsHaskell"><span class="annot"><span class="hs-identifier hs-var">AsHaskell</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284294"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284295"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AsHaskell</span></span><span> </span><span class="annot"><a href="#local-6989586621679284294"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AsHaskell</span></span><span> </span><span class="annot"><a href="#local-6989586621679284295"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PlutusRepr"><span class="annot"><span class="hs-identifier hs-var">PlutusRepr</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284294"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284295"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toPlutarchRepr</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621679285273"><span class="annot"><span class="annottext">toPlutarchRepr :: AsHaskell (PMap 'Unsorted k v) -&gt; PlutusRepr (PMap 'Unsorted k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toPlutarchRepr</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((AsHaskell k, AsHaskell v) -&gt; (Data, Data))
-&gt; [(AsHaskell k, AsHaskell v)] -&gt; [(Data, Data)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AsHaskell k -&gt; Data)
-&gt; (AsHaskell v -&gt; Data)
-&gt; (AsHaskell k, AsHaskell v)
-&gt; (Data, Data)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: Type -&gt; Type -&gt; Type) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="annot"><span class="annottext">AsHaskell k -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">AsHaskell v -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(AsHaskell k, AsHaskell v)] -&gt; [(Data, Data)])
-&gt; (Map (AsHaskell k) (AsHaskell v)
    -&gt; [(AsHaskell k, AsHaskell v)])
-&gt; Map (AsHaskell k) (AsHaskell v)
-&gt; [(Data, Data)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map (AsHaskell k) (AsHaskell v) -&gt; [(AsHaskell k, AsHaskell v)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">PlutusMap.toList</span></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toPlutarch</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-153"></span><span>  </span><span id="local-6989586621679285289"><span class="annot"><span class="annottext">toPlutarch :: forall (s :: S).
AsHaskell (PMap 'Unsorted k v) -&gt; PLifted s (PMap 'Unsorted k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toPlutarch</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsHaskell (PMap 'Unsorted k v) -&gt; PLifted s (PMap 'Unsorted k v)
forall (a :: S -&gt; Type) (s :: S).
(PLiftable a, Includes DefaultUni (PlutusRepr a)) =&gt;
AsHaskell a -&gt; PLifted s a
</span><span class="hs-identifier hs-var">toPlutarchUni</span></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fromPlutarchRepr</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-156"></span><span>  </span><span id="local-6989586621679285302"><span class="annot"><span class="annottext">fromPlutarchRepr :: PlutusRepr (PMap 'Unsorted k v)
-&gt; Maybe (AsHaskell (PMap 'Unsorted k v))
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPlutarchRepr</span></span></span><span> </span><span id="local-6989586621679285303"><span class="annot"><span class="annottext">PlutusRepr (PMap 'Unsorted k v)
</span><a href="#local-6989586621679285303"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(AsHaskell k, AsHaskell v)] -&gt; AsHaskell (PMap 'Unsorted k v))
-&gt; Maybe [(AsHaskell k, AsHaskell v)]
-&gt; Maybe (AsHaskell (PMap 'Unsorted k v))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(AsHaskell k, AsHaskell v)] -&gt; AsHaskell (PMap 'Unsorted k v)
[(AsHaskell k, AsHaskell v)] -&gt; Map (AsHaskell k) (AsHaskell v)
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">PlutusMap.unsafeFromList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe [(AsHaskell k, AsHaskell v)]
 -&gt; Maybe (AsHaskell (PMap 'Unsorted k v)))
-&gt; Maybe [(AsHaskell k, AsHaskell v)]
-&gt; Maybe (AsHaskell (PMap 'Unsorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Data, Data)]
-&gt; ((Data, Data) -&gt; Maybe (AsHaskell k, AsHaskell v))
-&gt; Maybe [(AsHaskell k, AsHaskell v)]
forall (t :: Type -&gt; Type) (m :: Type -&gt; Type) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[(Data, Data)]
PlutusRepr (PMap 'Unsorted k v)
</span><a href="#local-6989586621679285303"><span class="hs-identifier hs-var">lst</span></a></span><span> </span><span class="annot"><span class="annottext">(((Data, Data) -&gt; Maybe (AsHaskell k, AsHaskell v))
 -&gt; Maybe [(AsHaskell k, AsHaskell v)])
-&gt; ((Data, Data) -&gt; Maybe (AsHaskell k, AsHaskell v))
-&gt; Maybe [(AsHaskell k, AsHaskell v)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679285305"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679285305"><span class="hs-identifier hs-var">kd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679285306"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679285306"><span class="hs-identifier hs-var">vd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-157"></span><span>    </span><span id="local-6989586621679285307"><span class="annot"><span class="annottext">AsHaskell k
</span><a href="#local-6989586621679285307"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe (AsHaskell k)
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679285305"><span class="hs-identifier hs-var">kd</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span id="local-6989586621679285309"><span class="annot"><span class="annottext">AsHaskell v
</span><a href="#local-6989586621679285309"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe (AsHaskell v)
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679285306"><span class="hs-identifier hs-var">vd</span></a></span><span>
</span><span id="line-159"></span><span>    </span><span class="annot"><span class="annottext">(AsHaskell k, AsHaskell v) -&gt; Maybe (AsHaskell k, AsHaskell v)
forall a. a -&gt; Maybe a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsHaskell k
</span><a href="#local-6989586621679285307"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AsHaskell v
</span><a href="#local-6989586621679285309"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fromPlutarch</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-162"></span><span>  </span><span id="local-6989586621679285321"><span class="annot"><span class="annottext">fromPlutarch :: (forall (s :: S). PLifted s (PMap 'Unsorted k v))
-&gt; Either LiftError (AsHaskell (PMap 'Unsorted k v))
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPlutarch</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S). PLifted s (PMap 'Unsorted k v))
-&gt; Either LiftError (AsHaskell (PMap 'Unsorted k v))
forall (a :: S -&gt; Type).
(PLiftable a, Includes DefaultUni (PlutusRepr a)) =&gt;
(forall (s :: S). PLifted s a) -&gt; Either LiftError (AsHaskell a)
</span><span class="hs-identifier hs-var">fromPlutarchUni</span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679284342"><span id="local-6989586621679284343"><span id="local-6989586621679284344"><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284342"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284343"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284344"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679285326"><span class="annot"><span class="annottext">pfromDataImpl :: forall (s :: S).
Term s (PAsData (PMap keysort k v)) -&gt; Term s (PMap keysort k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pfromDataImpl</span></span></span><span> </span><span id="local-6989586621679285327"><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679285327"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; Term s (PMap keysort k v))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><span class="hs-identifier hs-var">pasMap</span></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v)) -&gt; Term s PData
forall (s :: S) (a :: S -&gt; Type).
Term s (PAsData a) -&gt; Term s PData
</span><span class="hs-identifier hs-var">pforgetData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679285327"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679285329"><span class="annot"><span class="annottext">pdataImpl :: forall (s :: S). Term s (PMap keysort k v) -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pdataImpl</span></span></span><span> </span><span id="local-6989586621679285330"><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679285330"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultFun -&gt; Term s (PMap keysort k v :--&gt; PData)
forall (s :: S) (a :: S -&gt; Type). DefaultFun -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeBuiltin</span></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MapData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v :--&gt; PData)
-&gt; Term s (PMap keysort k v) -&gt; Term s PData
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679285330"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-170"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679284367"><span id="local-6989586621679284368"><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284367"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284368"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679285335"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285335"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285336"><span class="annot"><span class="annottext">#== :: forall (s :: S).
Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
</span><a href="#local-6989586621679285336"><span class="hs-operator hs-var hs-var hs-var hs-var">#==</span></a></span></span><span> </span><span id="local-6989586621679285338"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285338"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679285339"><span class="hs-identifier hs-var">peqViaData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285335"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PBool)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285338"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><a href="#local-6989586621679285339"><span class="hs-identifier hs-type">peqViaData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-174"></span><span>        </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284370"><span class="annot"><a href="#local-6989586621679284370"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-175"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284370"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284367"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284368"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284367"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284368"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>      </span><span id="local-6989586621679285339"><span class="annot"><span class="annottext">peqViaData :: forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679285339"><span class="hs-identifier hs-var hs-var">peqViaData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S).
  Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (forall (s :: S).
    Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285356"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285356"><span class="hs-identifier hs-var">m0</span></a></span></span><span> </span><span id="local-6989586621679285357"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285357"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285356"><span class="hs-identifier hs-var">m0</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285357"><span class="hs-identifier hs-var">m1</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-179"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679284408"><span id="local-6989586621679284409"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284408"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284408"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><span class="hs-identifier hs-var">PTryFromExcess</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284408"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#Mret"><span class="hs-identifier hs-type">Mret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284408"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>  </span><span id="local-6989586621679285387"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: S -&gt; Type).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></span></span><span> </span><span id="local-6989586621679285388"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679285388"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term s (PAsData (PMap 'Unsorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: S -&gt; Type) (s :: S) a.
TermCont s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><span class="hs-identifier hs-var">runTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term s (PAsData (PMap 'Unsorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621679285390"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679285390"><span class="hs-identifier hs-var">opq'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData))
    -&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><span class="hs-identifier hs-var">pasMap</span></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679285388"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span id="local-6989586621679285393"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285393"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
        -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair PData PData)
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285394"><span class="hs-identifier hs-var">ptryFromPair</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair PData PData)
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679285390"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-189"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v)),
 Term s (PMap 'Unsorted k v))
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Unsorted k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679285388"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PMap 'Unsorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285393"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><a href="#local-6989586621679285394"><span class="hs-identifier hs-type">ptryFromPair</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284432"><span class="annot"><a href="#local-6989586621679284432"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284432"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284408"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284409"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>      </span><span id="local-6989586621679285394"><span class="annot"><span class="annottext">ptryFromPair :: forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285394"><span class="hs-identifier hs-var hs-var">ptryFromPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair PData PData)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (c :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair PData PData)
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      (PBuiltinPair PData PData
       :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinPair PData PData)
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285402"><span class="annot"><span class="annottext">Term s (PBuiltinPair PData PData)
</span><a href="#local-6989586621679285402"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-195"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span class="hs-cpp">
          # ptryFrom (pfstBuiltin # p) fst
</span><span class="hs-cpp">          # ptryFrom (psndBuiltin # p) fst
</span><span>
</span><span id="line-199"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-200"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679284459"><span id="local-6989586621679284460"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284460"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284460"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><span class="hs-identifier hs-var">PTryFromExcess</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284460"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#Mret"><span class="hs-identifier hs-type">Mret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284460"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>  </span><span id="local-6989586621679285427"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: S -&gt; Type).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></span></span><span> </span><span id="local-6989586621679285428"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679285428"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term s (PAsData (PMap 'Sorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: S -&gt; Type) (s :: S) a.
TermCont s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><span class="hs-identifier hs-var">runTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term s (PAsData (PMap 'Sorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679285429"><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679285429"><span class="hs-identifier hs-var">opq'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData (PMap 'Unsorted k v)),
   Term s (PMap 'Unsorted k v))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">((((Term s (PAsData (PMap 'Unsorted k v)),
    Term s (PMap 'Unsorted k v))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      s
      (Term s (PAsData (PMap 'Unsorted k v)),
       Term s (PMap 'Unsorted k v)))
-&gt; (((Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
     -&gt; Term s r)
    -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (b :: S -&gt; Type) (a :: S -&gt; Type) (s :: S) (r :: S -&gt; Type).
PTryFrom a b =&gt;
Term s a
-&gt; ((Term s b, Reduce (PTryFromExcess a b s)) -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var">ptryFrom</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284459"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284460"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679285428"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679285430"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285430"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont s (Term s (PMap 'Sorted k v))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
 -&gt; TermCont s (Term s (PMap 'Sorted k v)))
-&gt; ((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont s (Term s (PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">papp</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(POrd k, PIsData k) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier hs-var">passertSorted</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Unsorted k v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v))
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679285429"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
-&gt; TermCont
     s (Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679285428"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285430"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-215"></span><span class="hs-keyword">data</span><span> </span><span id="Commutativity"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-var">Commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Commutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NonCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span></span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-218"></span><span>      </span><span id="local-6989586621679285436"><span id="local-6989586621679285438"><span class="annot"><span class="annottext">Commutativity -&gt; Commutativity -&gt; Bool
(Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool) -&gt; Eq Commutativity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Commutativity -&gt; Commutativity -&gt; Bool
== :: Commutativity -&gt; Commutativity -&gt; Bool
$c/= :: Commutativity -&gt; Commutativity -&gt; Bool
/= :: Commutativity -&gt; Commutativity -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-220"></span><span>      </span><span id="local-6989586621679285445"><span id="local-6989586621679285447"><span id="local-6989586621679285449"><span id="local-6989586621679285453"><span id="local-6989586621679285456"><span id="local-6989586621679285459"><span id="local-6989586621679285462"><span class="annot"><span class="annottext">Eq Commutativity
Eq Commutativity =&gt;
(Commutativity -&gt; Commutativity -&gt; Ordering)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; Ord Commutativity
Commutativity -&gt; Commutativity -&gt; Bool
Commutativity -&gt; Commutativity -&gt; Ordering
Commutativity -&gt; Commutativity -&gt; Commutativity
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Commutativity -&gt; Commutativity -&gt; Ordering
compare :: Commutativity -&gt; Commutativity -&gt; Ordering
$c&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$cmax :: Commutativity -&gt; Commutativity -&gt; Commutativity
max :: Commutativity -&gt; Commutativity -&gt; Commutativity
$cmin :: Commutativity -&gt; Commutativity -&gt; Commutativity
min :: Commutativity -&gt; Commutativity -&gt; Commutativity
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-222"></span><span>      </span><span id="local-6989586621679285466"><span id="local-6989586621679285468"><span id="local-6989586621679285472"><span class="annot"><span class="annottext">Int -&gt; Commutativity -&gt; ShowS
[Commutativity] -&gt; ShowS
Commutativity -&gt; String
(Int -&gt; Commutativity -&gt; ShowS)
-&gt; (Commutativity -&gt; String)
-&gt; ([Commutativity] -&gt; ShowS)
-&gt; Show Commutativity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Commutativity -&gt; ShowS
showsPrec :: Int -&gt; Commutativity -&gt; ShowS
$cshow :: Commutativity -&gt; String
show :: Commutativity -&gt; String
$cshowList :: [Commutativity] -&gt; ShowS
showList :: [Commutativity] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">-- TODO: Rename this, because the name is confusing.</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="annot"><span class="hs-comment">{- | Given a 'PMap' of uncertain order, yield a 'PMap' that is known to be
sorted.

@since 2.0.0
-}</span></span><span>
</span><span id="line-232"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier hs-type">passertSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284463"><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284466"><span class="annot"><a href="#local-6989586621679284466"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284465"><span class="annot"><a href="#local-6989586621679284465"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284464"><span class="annot"><a href="#local-6989586621679284464"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284464"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284465"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284466"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284466"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span id="passertSorted"><span class="annot"><span class="annottext">passertSorted :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(POrd k, PIsData k) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertSorted"><span class="hs-identifier hs-var hs-var">passertSorted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (k ~ k) -&gt; ()
forall (c :: Constraint). c =&gt; Proxy c -&gt; ()
</span><span class="hs-identifier hs-var">witness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (k ~ k)
forall {k} (t :: k). Proxy t
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#~"><span class="hs-operator hs-type">~</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284463"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-241"></span><span>        </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285516"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285516"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>          </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-243"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285518"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679285518"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679285519"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285519"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285520"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285520"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-244"></span><span>                </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285519"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285521"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285521"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-245"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285522"><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679285522"><span class="hs-identifier hs-var">badKey</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>                    </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-247"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679285522"><span class="hs-identifier hs-var">badKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool) -&gt; Term s k -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285521"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PString -&gt; Term s (PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;unsorted map&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679285518"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285520"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s PBool) -&gt; Term s (k :--&gt; PBool)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285521"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>            </span><span class="hs-comment">-- this is actually the empty map so we can</span><span>
</span><span id="line-252"></span><span>            </span><span class="hs-comment">-- safely assume that it is sorted</span><span>
</span><span id="line-253"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285516"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
            # pto m
</span><span class="hs-cpp">            # plam (const $ pcon PFalse)
</span><span>
</span><span id="line-257"></span><span class="annot"><span class="hs-comment">{- | Construct an empty 'PMap'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-261"></span><span id="local-6989586621679284502"><span id="local-6989586621679284503"><span id="local-6989586621679284504"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier hs-type">pempty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284502"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284503"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284504"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-262"></span><span id="pempty"><span class="annot"><span class="annottext">pempty :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier hs-var hs-var">pempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v))
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="annot"><span class="hs-comment">{- | Given a comparison function and a &quot;zero&quot; value, check whether a binary relation holds over
2 sorted 'PMap's.

= Important note

This is primarily intended to be used with 'PValue'. We assume that the comparison behaves like
a comparison would (thus, being at least a partial order, or possibly a total order or
equivalence), and that the starting value does not break it. Use with extreme care.

@since 2.0.0
-}</span></span><span>
</span><span id="line-275"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-type">pcheckBinRel</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284513"><span class="annot"><a href="#local-6989586621679284513"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284514"><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284515"><span class="annot"><a href="#local-6989586621679284515"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284513"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284513"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-282"></span><span>    </span><span class="annot"><a href="#local-6989586621679284515"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284513"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284513"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284514"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span id="pcheckBinRel"><span class="annot"><span class="annottext">pcheckBinRel :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-var hs-var">pcheckBinRel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; PBool))
    :--&gt; (v
          :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; PBool))
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; PBool))
  -&gt; Term s v
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; (Term s (v :--&gt; (v :--&gt; PBool))
    -&gt; Term s v
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285591"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679285591"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679285592"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285592"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679285593"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285593"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679285594"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285594"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679285595"><span class="annot"><span class="annottext">inner :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679285595"><span class="hs-identifier hs-var hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBool))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PBool))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBool))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBool))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285598"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679285598"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679285599"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285599"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span id="local-6989586621679285600"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285600"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-292"></span><span>          </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (r :: S -&gt; Type).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><span class="hs-identifier hs-var">pelimList</span></span><span>
</span><span id="line-293"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285602"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285602"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285603"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285603"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-294"></span><span>                </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285602"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285604"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285604"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-295"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (r :: S -&gt; Type).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><span class="hs-identifier hs-var">pelimList</span></span><span>
</span><span id="line-296"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285605"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285605"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679285606"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285606"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont s (Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont s (Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-297"></span><span>                        </span><span id="local-6989586621679285608"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285608"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s v)
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s v))
-&gt; (Term s (PAsData v)
    -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData v)
-&gt; TermCont s (Term s v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData v) -&gt; Term s v)
-&gt; Term s (PAsData v)
-&gt; (Term s v -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; TermCont s (Term s v))
-&gt; Term s (PAsData v) -&gt; TermCont s (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285605"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-298"></span><span>                        </span><span id="local-6989586621679285609"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285609"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s k)
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285602"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-299"></span><span>                        </span><span id="local-6989586621679285610"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285610"><span class="hs-identifier hs-var">k2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s k)
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285605"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-300"></span><span>                        </span><span class="annot"><span class="annottext">Term s PBool -&gt; TermCont s (Term s PBool)
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-301"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; TermCont s (Term s PBool))
-&gt; Term s PBool -&gt; TermCont s (Term s PBool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-302"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285609"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285610"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>                            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679285591"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                                # v1
</span><span class="hs-cpp">                                # v2
</span><span class="hs-cpp">                                #&amp;&amp; self
</span><span class="hs-cpp">                                # xs
</span><span class="hs-cpp">                                # ys
</span><span>                            </span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-311"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285609"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285610"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679285591"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285604"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285592"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S). Term s PBool -&gt; Term s PBool -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679285598"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285603"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285600"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679285591"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                            # z
</span><span class="hs-cpp">                            # v2
</span><span class="hs-cpp">                            #&amp;&amp; self
</span><span class="hs-cpp">                            # l1
</span><span class="hs-cpp">                            # ys
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679285591"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                        # v1
</span><span class="hs-cpp">                        # z
</span><span class="hs-cpp">                        #&amp;&amp; PPrelude.pall
</span><span class="hs-cpp">                        # plam (\p -&gt; f # pfromData (psndBuiltin # p) # z)
</span><span class="hs-cpp">                        # xs
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>                    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285600"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-328"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">PPrelude.pall</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679285613"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285613"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679285591"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285592"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285613"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285600"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285599"><span class="hs-identifier hs-var">l1</span></a></span><span>
</span><span id="line-331"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679285595"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285593"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679285594"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><span class="hs-comment">{- | Verifies all values in the map satisfy the given predicate.

@since 2.0.0
-}</span></span><span>
</span><span id="line-337"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pall"><span class="hs-identifier hs-type">pall</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284534"><span class="annot"><a href="#local-6989586621679284534"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284535"><span class="annot"><a href="#local-6989586621679284535"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284532"><span class="annot"><a href="#local-6989586621679284532"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284533"><span class="annot"><a href="#local-6989586621679284533"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-339"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284532"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-340"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284533"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284532"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284534"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284535"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284532"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span id="pall"><span class="annot"><span class="annottext">pall :: forall (any :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pall"><span class="hs-identifier hs-var hs-var">pall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285635"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679285635"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679285636"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285636"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-343"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">List.pall</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679285637"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285637"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679285635"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285637"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285636"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.

@since 2.0.0
-}</span></span><span>
</span><span id="line-350"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-type">punionResolvingCollisionsWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284541"><span class="annot"><a href="#local-6989586621679284541"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284542"><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284543"><span class="annot"><a href="#local-6989586621679284543"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284541"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284541"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-356"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-357"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284543"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284541"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284541"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284541"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284542"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span id="punionResolvingCollisionsWith"><span class="annot"><span class="annottext">punionResolvingCollisionsWith :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWith</span></a></span></span><span> </span><span id="local-6989586621679285643"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679285643"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-359"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-361"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679285643"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.

@since 2.1.1
-}</span></span><span>
</span><span id="line-368"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier hs-type">punionResolvingCollisionsWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284555"><span class="annot"><a href="#local-6989586621679284555"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284557"><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284556"><span class="annot"><a href="#local-6989586621679284556"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284555"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284555"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-373"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-374"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><a href="#local-6989586621679284556"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284555"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-378"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284555"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284555"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284557"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-380"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span id="punionResolvingCollisionsWithData"><span class="annot"><span class="annottext">punionResolvingCollisionsWithData :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k) =&gt;
Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWithData</span></a></span></span><span> </span><span id="local-6989586621679285657"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679285657"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-382"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-384"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679285657"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="annot"><span class="hs-comment">{- | Maps and filters the map, much like 'Data.List.mapMaybe'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-390"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-type">pmapMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284569"><span class="annot"><a href="#local-6989586621679284569"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284570"><span class="annot"><a href="#local-6989586621679284570"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284565"><span class="annot"><a href="#local-6989586621679284565"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284566"><span class="annot"><a href="#local-6989586621679284566"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284567"><span class="annot"><a href="#local-6989586621679284567"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284565"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284566"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-395"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284567"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679284566"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284569"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284570"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284569"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284570"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284566"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span id="pmapMaybe"><span class="annot"><span class="annottext">pmapMaybe :: forall (g :: KeyGuarantees) (k :: S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-var hs-var">pmapMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-397"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; PMaybe b)
    -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285683"><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679285683"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (g :: KeyGuarantees) (k :: S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var">pmapMaybeData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (c :--&gt; PMaybe (PAsData b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b)))
-&gt; (Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285684"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679285684"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe b)
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679285683"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b) -&gt; Term s a -&gt; Term s (PMaybe b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679285684"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PMaybe (PAsData b)))
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-398"></span><span>    </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
forall (a :: S -&gt; Type) (s :: S). PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span>
</span><span id="line-399"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679285688"><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679285688"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b)))
-&gt; PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b) -&gt; PMaybe (PAsData b) s
forall (a :: S -&gt; Type) (s :: S). Term s a -&gt; PMaybe a s
</span><span class="hs-identifier hs-var">PJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679285688"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span class="annot"><span class="hs-comment">{- | As 'pmapMaybe', but over Data representation.

@since 2.0.0
-}</span></span><span>
</span><span id="line-405"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-type">pmapMaybeData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284581"><span class="annot"><a href="#local-6989586621679284581"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284582"><span class="annot"><a href="#local-6989586621679284582"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284579"><span class="annot"><a href="#local-6989586621679284579"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284580"><span class="annot"><a href="#local-6989586621679284580"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284578"><span class="annot"><a href="#local-6989586621679284578"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-407"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284578"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284579"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284580"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284581"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284582"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284579"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284581"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284582"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284580"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span id="pmapMaybeData"><span class="annot"><span class="annottext">pmapMaybeData :: forall (g :: KeyGuarantees) (k :: S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var hs-var">pmapMaybeData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PMaybe (PAsData b))
    :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PMaybe (PAsData b))
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PMaybe (PAsData b))
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PMaybe (PAsData b))
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285711"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679285711"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679285712"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679285712"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-410"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-411"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-412"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285713"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679285713"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679285714"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679285714"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285715"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679285715"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-413"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679285713"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679285715"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285716"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679285716"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-414"></span><span>              </span><span class="annot"><span class="annottext">Term s (PMaybe (PAsData b))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679285711"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679285714"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe (PAsData b) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-415"></span><span>                </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679285716"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-416"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679285717"><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679285717"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679285714"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term s (PAsData b)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679285717"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679285716"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-417"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-421"></span><span class="annot"><span class="hs-comment">{- | Tests whether the map is empty.

@since 2.0.0
-}</span></span><span>
</span><span id="line-425"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pnull"><span class="hs-identifier hs-type">pnull</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284597"><span class="annot"><a href="#local-6989586621679284597"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284598"><span class="annot"><a href="#local-6989586621679284598"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284599"><span class="annot"><a href="#local-6989586621679284599"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284596"><span class="annot"><a href="#local-6989586621679284596"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-427"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284596"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284597"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284598"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284599"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span id="pnull"><span class="annot"><span class="annottext">pnull :: forall (any :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PMap any k v :--&gt; PBool)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pnull"><span class="hs-identifier hs-var hs-var">pnull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (PMap any k v :--&gt; PBool)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679285730"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285730"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a :--&gt; PBool)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a :--&gt; PBool)
</span><span class="hs-identifier hs-var">List.pnull</span></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285730"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="annot"><span class="hs-comment">{- | Applies a function to every value in the map, much like 'Data.List.map'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-434"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmap"><span class="hs-identifier hs-type">pmap</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-435"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284609"><span class="annot"><a href="#local-6989586621679284609"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284610"><span class="annot"><a href="#local-6989586621679284610"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284606"><span class="annot"><a href="#local-6989586621679284606"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284607"><span class="annot"><a href="#local-6989586621679284607"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284608"><span class="annot"><a href="#local-6989586621679284608"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-436"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284607"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284608"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284606"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284607"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284609"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284610"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284606"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284609"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284610"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284607"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span id="pmap"><span class="annot"><span class="annottext">pmap :: forall (g :: KeyGuarantees) (k :: S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmap"><span class="hs-identifier hs-var hs-var">pmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679285745"><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679285745"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (g :: KeyGuarantees) (k :: S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier hs-var">pmapData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData b)) -&gt; Term s (c :--&gt; PAsData b)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PAsData b))
 -&gt; Term s (PAsData a :--&gt; PAsData b))
-&gt; (Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285746"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679285746"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679285745"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679285746"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="annot"><span class="hs-comment">{- | As 'pmap', but gives key access as well.

@since 2.1.1
-}</span></span><span>
</span><span id="line-448"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier hs-type">pmapWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284622"><span class="annot"><a href="#local-6989586621679284622"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284623"><span class="annot"><a href="#local-6989586621679284623"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284624"><span class="annot"><a href="#local-6989586621679284624"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284626"><span class="annot"><a href="#local-6989586621679284626"><span class="hs-identifier hs-type">keysort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284625"><span class="annot"><a href="#local-6989586621679284625"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284622"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284623"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284624"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-454"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284625"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284622"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284623"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284624"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284626"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284622"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284623"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284622"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284624"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span id="pmapWithKey"><span class="annot"><span class="annottext">pmapWithKey :: forall (k :: S -&gt; Type) (a :: S -&gt; Type) (b :: S -&gt; Type)
       (keysort :: KeyGuarantees) (s :: S).
(PIsData k, PIsData a, PIsData b) =&gt;
Term
  s
  ((k :--&gt; (a :--&gt; b))
   :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier hs-var hs-var">pmapWithKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((k :--&gt; (a :--&gt; b))
   :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((k :--&gt; (a :--&gt; b))
    :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
 -&gt; Term
      s
      ((k :--&gt; (a :--&gt; b))
       :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b)))
-&gt; ClosedTerm
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-456"></span><span>  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; (a :--&gt; b))
 -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (c :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; (a :--&gt; b))
  -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
 -&gt; Term
      s
      ((k :--&gt; (a :--&gt; b))
       :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b)))
-&gt; (Term s (k :--&gt; (a :--&gt; b))
    -&gt; Term s (PMap keysort k a) -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term
     s
     ((k :--&gt; (a :--&gt; b))
      :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285776"><span class="annot"><span class="annottext">Term s (k :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679285776"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679285777"><span class="annot"><span class="annottext">Term s (PMap keysort k a)
</span><a href="#local-6989586621679285777"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><span class="annottext">Term s (PMap keysort k a)
-&gt; (PMap keysort k a s -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (PMap 'Unsorted k b)
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k a)
</span><a href="#local-6989586621679285777"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap keysort k a s -&gt; Term s (PMap 'Unsorted k b))
 -&gt; Term s (PMap 'Unsorted k b))
-&gt; (PMap keysort k a s -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (PMap 'Unsorted k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679285778"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679285778"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-458"></span><span>      </span><span class="annot"><span class="annottext">PMap 'Unsorted k b s -&gt; Term s (PMap 'Unsorted k b)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k b s -&gt; Term s (PMap 'Unsorted k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap 'Unsorted k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap 'Unsorted k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap 'Unsorted k b s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap 'Unsorted k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap 'Unsorted k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-459"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData a)
    :--&gt; PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-462"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pkvPairKey</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">key</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-463"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span class="hs-cpp">
                    # pdata key
</span><span class="hs-cpp">                    #$ pdata
</span><span>                    </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">key</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pkvPairValue</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # kvs'
</span><span>
</span><span id="line-470"></span><span class="annot"><span class="hs-comment">{- | As 'pmap', but over Data representations.

@since 2.0.0
-}</span></span><span>
</span><span id="line-474"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier hs-type">pmapData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284620"><span class="annot"><a href="#local-6989586621679284620"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284621"><span class="annot"><a href="#local-6989586621679284621"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284618"><span class="annot"><a href="#local-6989586621679284618"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284619"><span class="annot"><a href="#local-6989586621679284619"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284617"><span class="annot"><a href="#local-6989586621679284617"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-476"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284617"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284618"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284619"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284620"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284621"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284618"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284620"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284621"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284619"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span id="pmapData"><span class="annot"><span class="annottext">pmapData :: forall (g :: KeyGuarantees) (k :: S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapData"><span class="hs-identifier hs-var hs-var">pmapData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-478"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PAsData b)
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PAsData b)
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PAsData b)
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285802"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PAsData b)
</span><a href="#local-6989586621679285802"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679285803"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679285803"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-479"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-480"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-481"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285804"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679285804"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679285805"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679285805"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285806"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679285806"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-482"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
              # (ppairDataBuiltin # (pfstBuiltin # x) # (f #$ psndBuiltin # x))
</span><span class="hs-cpp">              # (self # xs)
</span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-489"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap'.

@since 2.1.1
-}</span></span><span>
</span><span id="line-493"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-type">plookup</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284645"><span class="annot"><a href="#local-6989586621679284645"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284646"><span class="annot"><a href="#local-6989586621679284646"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284648"><span class="annot"><a href="#local-6989586621679284648"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284647"><span class="annot"><a href="#local-6989586621679284647"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284645"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284646"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-497"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-498"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284647"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284645"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284648"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284645"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284646"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679284646"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span id="plookup"><span class="annot"><span class="annottext">plookup :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var hs-var">plookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
 -&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v)))
-&gt; ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-500"></span><span>  </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
 -&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v)))
-&gt; (Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285818"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285818"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-501"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe v)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe v)))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type) (x :: S -&gt; Type)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var">plookupDataWith</span></a></span><span class="hs-cpp">
      # phoistAcyclic (plam $ \pair -&gt; pcon $ PJust $ pfromData $ psndBuiltin # pair)
</span><span class="hs-cpp">      # pdata key
</span><span>
</span><span id="line-505"></span><span class="annot"><span class="hs-comment">{- | As 'plookup', but errors when the key is missing.

@since 2.1.1
-}</span></span><span>
</span><span id="line-509"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#ptryLookup"><span class="hs-identifier hs-type">ptryLookup</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284660"><span class="annot"><a href="#local-6989586621679284660"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284661"><span class="annot"><a href="#local-6989586621679284661"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284663"><span class="annot"><a href="#local-6989586621679284663"><span class="hs-identifier hs-type">keys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284662"><span class="annot"><a href="#local-6989586621679284662"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284660"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-512"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284661"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284662"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284660"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284663"><span class="hs-identifier hs-type">keys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284660"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284661"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284661"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-515"></span><span id="ptryLookup"><span class="annot"><span class="annottext">ptryLookup :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (keys :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap keys k v :--&gt; v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#ptryLookup"><span class="hs-identifier hs-var hs-var">ptryLookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (PMap keys k v :--&gt; v))
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (PMap keys k v :--&gt; v))
 -&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v)))
-&gt; ClosedTerm (k :--&gt; (PMap keys k v :--&gt; v))
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s (PMap keys k v) -&gt; Term s v)
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap keys k v) -&gt; Term s v)
-&gt; Term s (c :--&gt; (PMap keys k v :--&gt; v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s (PMap keys k v) -&gt; Term s v)
 -&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v)))
-&gt; (Term s k -&gt; Term s (PMap keys k v) -&gt; Term s v)
-&gt; Term s (k :--&gt; (PMap keys k v :--&gt; v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285839"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285839"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679285840"><span class="annot"><span class="annottext">Term s (PMap keys k v)
</span><a href="#local-6989586621679285840"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-517"></span><span>    </span><span class="annot"><span class="annottext">Term s (PString :--&gt; (PMaybe v :--&gt; v))
forall (a :: S -&gt; Type) (s :: S).
Term s (PString :--&gt; (PMaybe a :--&gt; a))
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertPJust"><span class="hs-identifier hs-var">passertPJust</span></a></span><span class="hs-cpp">
      # &quot;plookupPartial: No value found for key.&quot;
</span><span class="hs-cpp">      # (plookup # k # kvs)
</span><span>
</span><span id="line-521"></span><span class="annot"><span class="hs-comment">{- | as 'plookup', except over Data representation.

@since 2.1.1
-}</span></span><span>
</span><span id="line-525"></span><span id="local-6989586621679284671"><span id="local-6989586621679284672"><span id="local-6989586621679284673"><span id="local-6989586621679284674"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupData"><span class="hs-identifier hs-type">plookupData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-526"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284671"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284672"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284673"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284672"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284674"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284674"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-527"></span><span id="plookupData"><span class="annot"><span class="annottext">plookupData :: forall (s :: S) (k :: S -&gt; Type) (any :: KeyGuarantees)
       (v :: S -&gt; Type).
Term s (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupData"><span class="hs-identifier hs-var hs-var">plookupData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type) (x :: S -&gt; Type)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var">plookupDataWith</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v))))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
-&gt; Term s (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term s (c :--&gt; PMaybe (PAsData v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PMaybe (PAsData v)))
 -&gt; Term
      s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v)))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285849"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285849"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v)))
-&gt; PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; PMaybe (PAsData v) s
forall (a :: S -&gt; Type) (s :: S). Term s a -&gt; PMaybe a s
</span><span class="hs-identifier hs-var">PJust</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; PMaybe (PAsData v) s)
-&gt; Term s (PAsData v) -&gt; PMaybe (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285849"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="annot"><span class="hs-comment">{- | Look up the given key data in a 'PMap', applying the given function to the found key-value pair.

@since 2.1.1
-}</span></span><span>
</span><span id="line-533"></span><span id="local-6989586621679284654"><span id="local-6989586621679284655"><span id="local-6989586621679284656"><span id="local-6989586621679284657"><span id="local-6989586621679284658"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-type">plookupDataWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-534"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-535"></span><span>    </span><span class="annot"><a href="#local-6989586621679284654"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284655"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284656"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679284657"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284655"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-538"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284658"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284655"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284656"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-539"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679284657"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-540"></span><span>    </span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-541"></span><span id="plookupDataWith"><span class="annot"><span class="annottext">plookupDataWith :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type) (x :: S -&gt; Type)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var hs-var">plookupDataWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
    :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
       :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x))))
-&gt; ClosedTerm
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
 -&gt; Term s (PAsData k)
 -&gt; Term s (PMap any k v)
 -&gt; Term s (PMaybe x))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PAsData k)
 -&gt; Term s (PMap any k v)
 -&gt; Term s (PMaybe x))
-&gt; Term s (c :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
  -&gt; Term s (PAsData k)
  -&gt; Term s (PMap any k v)
  -&gt; Term s (PMaybe x))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
       :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x))))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
    -&gt; Term s (PAsData k)
    -&gt; Term s (PMap any k v)
    -&gt; Term s (PMaybe x))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285870"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
</span><a href="#local-6989586621679285870"><span class="hs-identifier hs-var">unwrap</span></a></span></span><span> </span><span id="local-6989586621679285871"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679285871"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679285872"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285872"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-543"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMaybe x))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
    -&gt; Term s (PMaybe x))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-544"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285873"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
</span><a href="#local-6989586621679285873"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679285874"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285874"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285875"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285875"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-545"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMaybe x) -&gt; Term s (PMaybe x) -&gt; Term s (PMaybe x)
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-546"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285874"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679285871"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
</span><a href="#local-6989586621679285870"><span class="hs-identifier hs-var">unwrap</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PMaybe x)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285874"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
</span><a href="#local-6989586621679285873"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMaybe x)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285875"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-550"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMaybe x)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PMaybe x)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMaybe x)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
 -&gt; Term s (PMaybe x))
-&gt; Term s (PMaybe x)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PMaybe x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PMaybe x s -&gt; Term s (PMaybe x)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PMaybe x s
forall (a :: S -&gt; Type) (s :: S). PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span class="hs-special">)</span><span class="hs-cpp">
      # pto m
</span><span>
</span><span id="line-553"></span><span class="annot"><span class="hs-comment">{- | Construct a singleton 'PMap' with the given key and value.

@since 2.1.1
-}</span></span><span>
</span><span id="line-557"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingleton"><span class="hs-identifier hs-type">psingleton</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284686"><span class="annot"><a href="#local-6989586621679284686"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284687"><span class="annot"><a href="#local-6989586621679284687"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284688"><span class="annot"><a href="#local-6989586621679284688"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284686"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-560"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284687"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-562"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284686"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284687"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284686"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284687"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span id="psingleton"><span class="annot"><span class="annottext">psingleton :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#psingleton"><span class="hs-identifier hs-var hs-var">psingleton</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
 -&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285888"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285888"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679285889"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285889"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier hs-var">psingletonData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k) -&gt; Term s (PAsData v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285888"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679285889"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-564"></span><span>
</span><span id="line-565"></span><span class="annot"><span class="hs-comment">{- | Construct a singleton 'PMap' with the given data-encoded key and value.

@since 2.1.1
-}</span></span><span>
</span><span id="line-569"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier hs-type">psingletonData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-570"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284694"><span class="annot"><a href="#local-6989586621679284694"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284695"><span class="annot"><a href="#local-6989586621679284695"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284693"><span class="annot"><a href="#local-6989586621679284693"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-571"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284693"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284694"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284695"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284694"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284695"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span id="psingletonData"><span class="annot"><span class="annottext">psingletonData :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#psingletonData"><span class="hs-identifier hs-var hs-var">psingletonData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-573"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData k)
    -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-574"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679285907"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679285907"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679285908"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679285908"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679285907"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679285908"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap'; return the default if the key is
 absent or apply the argument function to the value data if present.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-581"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAt"><span class="hs-identifier hs-type">pfoldAt</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284700"><span class="annot"><a href="#local-6989586621679284700"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284703"><span class="annot"><a href="#local-6989586621679284703"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284704"><span class="annot"><a href="#local-6989586621679284704"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284702"><span class="annot"><a href="#local-6989586621679284702"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284701"><span class="annot"><a href="#local-6989586621679284701"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-583"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284700"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-584"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284701"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284700"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284702"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284703"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284702"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284704"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284700"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284703"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284702"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span id="pfoldAt"><span class="annot"><span class="annottext">pfoldAt :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (r :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term
  s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAt"><span class="hs-identifier hs-var hs-var">pfoldAt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; ClosedTerm
     (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-586"></span><span>  </span><span class="annot"><span class="annottext">(Term s k
 -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (c :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; (Term s k
    -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-587"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679285917"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285917"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (r :: S -&gt; Type) (s :: S).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-var">pfoldAtData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term s (PAsData k)
-&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679285917"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span class="annot"><span class="hs-comment">{- | Look up the given key data in a 'PMap'; return the default if the key is
 absent or apply the argument function to the value data if present.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-594"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-type">pfoldAtData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-595"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284712"><span class="annot"><a href="#local-6989586621679284712"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284714"><span class="annot"><a href="#local-6989586621679284714"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284715"><span class="annot"><a href="#local-6989586621679284715"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284713"><span class="annot"><a href="#local-6989586621679284713"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284711"><span class="annot"><a href="#local-6989586621679284711"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-596"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284711"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284712"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284713"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284714"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284713"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284715"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284712"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284714"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284713"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-597"></span><span id="pfoldAtData"><span class="annot"><span class="annottext">pfoldAtData :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (r :: S -&gt; Type) (s :: S).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-var hs-var">pfoldAtData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PAsData k
    :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (PAsData k
       :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; ClosedTerm
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-598"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s r
 -&gt; Term s (PAsData v :--&gt; r)
 -&gt; Term s (PMap any k v)
 -&gt; Term s r)
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s r
 -&gt; Term s (PAsData v :--&gt; r)
 -&gt; Term s (PMap any k v)
 -&gt; Term s r)
-&gt; Term
     s (c :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s r
  -&gt; Term s (PAsData v :--&gt; r)
  -&gt; Term s (PMap any k v)
  -&gt; Term s r)
 -&gt; Term
      s
      (PAsData k
       :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; (Term s (PAsData k)
    -&gt; Term s r
    -&gt; Term s (PAsData v :--&gt; r)
    -&gt; Term s (PMap any k v)
    -&gt; Term s r)
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285939"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679285939"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679285940"><span class="annot"><span class="annottext">Term s r
</span><a href="#local-6989586621679285940"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679285941"><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r)
</span><a href="#local-6989586621679285941"><span class="hs-identifier hs-var">apply</span></a></span></span><span> </span><span id="local-6989586621679285942"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285942"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-599"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s r)
-&gt; (Term
      s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
    -&gt; Term s r)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-600"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285943"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
</span><a href="#local-6989586621679285943"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679285944"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285944"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679285945"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285945"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-601"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s r -&gt; Term s r -&gt; Term s r
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-602"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679285939"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r)
</span><a href="#local-6989586621679285941"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r) -&gt; Term s (PAsData v) -&gt; Term s r
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285944"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-604"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
</span><a href="#local-6989586621679285943"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s r
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679285945"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-605"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-606"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s r
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
-&gt; Term s r
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s r
</span><a href="#local-6989586621679285940"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
      # pto m
</span><span>
</span><span id="line-609"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's. Take the value from the left argument for colliding keys.

 Prefer this over 'punionResolvingCollisionsWith NonCommutative # plam const'. It performs better.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-615"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier hs-type">pleftBiasedUnion</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284722"><span class="annot"><a href="#local-6989586621679284722"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284723"><span class="annot"><a href="#local-6989586621679284723"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284724"><span class="annot"><a href="#local-6989586621679284724"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-617"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284722"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-618"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284722"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-619"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284723"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-620"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-621"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284724"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284722"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284723"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284722"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284723"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284722"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284723"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span id="pleftBiasedUnion"><span class="annot"><span class="annottext">pleftBiasedUnion :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier hs-var hs-var">pleftBiasedUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-623"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm
     (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-624"></span><span>    </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-625"></span><span>      </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v) -&gt; SomeMergeHandler k v s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler k v s)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-626"></span><span>        </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="annot"><span class="hs-comment">{- | Difference of two maps. Return elements of the first map not existing in the second map.

@since 2.1.1
-}</span></span><span>
</span><span id="line-632"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdifference"><span class="hs-identifier hs-type">pdifference</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-633"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284745"><span class="annot"><a href="#local-6989586621679284745"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284746"><span class="annot"><a href="#local-6989586621679284746"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284747"><span class="annot"><a href="#local-6989586621679284747"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-634"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284745"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284745"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284746"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-638"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284745"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284746"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284745"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284746"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284745"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284746"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-639"></span><span id="pdifference"><span class="annot"><span class="annottext">pdifference :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, POrd k, PIsData v) =&gt;
Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pdifference"><span class="hs-identifier hs-var hs-var">pdifference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-640"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm
     (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-641"></span><span>    </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-642"></span><span>      </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v) -&gt; SomeMergeHandler k v s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler k v s)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-643"></span><span>        </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="annot"><span class="hs-comment">{- | Tests if anu value in the map satisfies the given predicate.

@since 2.1.1
-}</span></span><span>
</span><span id="line-649"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pany"><span class="hs-identifier hs-type">pany</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-650"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284755"><span class="annot"><a href="#local-6989586621679284755"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284752"><span class="annot"><a href="#local-6989586621679284752"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284754"><span class="annot"><a href="#local-6989586621679284754"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284753"><span class="annot"><a href="#local-6989586621679284753"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284752"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-652"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284753"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284752"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284754"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284755"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284752"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span id="pany"><span class="annot"><span class="annottext">pany :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pany"><span class="hs-identifier hs-var hs-var">pany</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-654"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679285989"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679285989"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679285990"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285990"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-655"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">List.pany</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679285991"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285991"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679285989"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679285991"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679285990"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-656"></span><span>
</span><span id="line-657"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap', returning the default value if the key is absent.

@since 2.1.1
-}</span></span><span>
</span><span id="line-661"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfindWithDefault"><span class="hs-identifier hs-type">pfindWithDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284761"><span class="annot"><a href="#local-6989586621679284761"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284762"><span class="annot"><a href="#local-6989586621679284762"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284764"><span class="annot"><a href="#local-6989586621679284764"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284763"><span class="annot"><a href="#local-6989586621679284763"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-663"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284761"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-664"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284762"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-665"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-666"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284763"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284762"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284761"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284764"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284761"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284762"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284762"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span id="pfindWithDefault"><span class="annot"><span class="annottext">pfindWithDefault :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfindWithDefault"><span class="hs-identifier hs-var hs-var">pfindWithDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
 -&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v))))
-&gt; ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (c :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
 -&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v))))
-&gt; (Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286008"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286008"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679286009"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286009"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (r :: S -&gt; Type) (s :: S).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldAtData"><span class="hs-identifier hs-var">pfoldAtData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))))
-&gt; Term s (PAsData k)
-&gt; Term s (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286009"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s v
-&gt; Term s ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286008"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))
-&gt; Term s (PAsData v :--&gt; v) -&gt; Term s (PMap any k v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v :--&gt; v)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s v) -&gt; Term s (c :--&gt; v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span class="annot"><span class="hs-comment">{- | Insert a new key/value pair into the map, overriding the previous if any.

@since 2.1.1
-}</span></span><span>
</span><span id="line-673"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier hs-type">pinsert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284770"><span class="annot"><a href="#local-6989586621679284770"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284771"><span class="annot"><a href="#local-6989586621679284771"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284772"><span class="annot"><a href="#local-6989586621679284772"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-675"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284770"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-676"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284770"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284771"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-678"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-679"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284772"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284770"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284771"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284770"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284771"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284770"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284771"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span id="pinsert"><span class="annot"><span class="annottext">pinsert :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier hs-var hs-var">pinsert</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-681"></span><span>  </span><span class="annot"><span class="annottext">(Term s k
 -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (c :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s k
    -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286036"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286036"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679286037"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286037"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-682"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (g :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286036"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286037"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s k -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286036"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span class="annot"><span class="hs-comment">{- | Delete a key from the map.

@since 2.1.1
-}</span></span><span>
</span><span id="line-688"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pdelete"><span class="hs-identifier hs-type">pdelete</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284781"><span class="annot"><a href="#local-6989586621679284781"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284783"><span class="annot"><a href="#local-6989586621679284783"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284782"><span class="annot"><a href="#local-6989586621679284782"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284781"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284781"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-693"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284782"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284781"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284781"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284783"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284781"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284783"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span><span id="pdelete"><span class="annot"><span class="annottext">pdelete :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k) =&gt;
Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pdelete"><span class="hs-identifier hs-var hs-var">pdelete</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (g :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a. a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-695"></span><span>
</span><span id="line-696"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using the given potentially non-commutative value merge
 function for key collisions, and different values for the sides.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-701"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithDefaults"><span class="hs-identifier hs-type">pzipWithDefaults</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284791"><span class="annot"><a href="#local-6989586621679284791"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284788"><span class="annot"><a href="#local-6989586621679284788"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284789"><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-703"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284788"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-704"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284788"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284790"><span class="annot"><a href="#local-6989586621679284790"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284790"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286048"><span class="annot"><a href="#local-6989586621679286048"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286048"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-709"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-710"></span><span>    </span><span class="annot"><a href="#local-6989586621679284791"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-712"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284788"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-713"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284788"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-714"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284788"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284789"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-715"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-716"></span><span id="pzipWithDefaults"><span class="annot"><span class="annottext">pzipWithDefaults :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
(forall (s' :: S). Term s' v)
-&gt; (forall (s' :: S). Term s' v)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithDefaults"><span class="hs-identifier hs-var hs-var">pzipWithDefaults</span></a></span></span><span> </span><span id="local-6989586621679286054"><span class="annot"><span class="annottext">forall (s' :: S). Term s' v
</span><a href="#local-6989586621679286054"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679286055"><span class="annot"><span class="annottext">forall (s' :: S). Term s' v
</span><a href="#local-6989586621679286055"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-718"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-719"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (v :: S -&gt; Type) (k :: S -&gt; Type).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
forall (s' :: S). Term s' v
</span><a href="#local-6989586621679286054"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
forall (s' :: S). Term s' v
</span><a href="#local-6989586621679286055"><span class="hs-identifier hs-var">defRight</span></a></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span class="annot"><span class="hs-comment">{- | Build the intersection of two 'PMap's, merging values that share the same key using the
given function.

@since 2.1.1
-}</span></span><span>
</span><span id="line-726"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWith"><span class="hs-identifier hs-type">pintersectionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-727"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286064"><span class="annot"><a href="#local-6989586621679286064"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286065"><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286066"><span class="annot"><a href="#local-6989586621679286066"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-728"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679286064"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-729"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679286064"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-730"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-731"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-732"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-733"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286066"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286064"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286064"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286064"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286065"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span id="pintersectionWith"><span class="annot"><span class="annottext">pintersectionWith :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWith"><span class="hs-identifier hs-var hs-var">pintersectionWith</span></a></span></span><span> </span><span id="local-6989586621679286072"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679286072"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-735"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-736"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-737"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679286072"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="annot"><span class="hs-comment">{- | Build the intersection of two 'PMap's, merging data-encoded values that share the same key using the
given function.

@since 2.1.1
-}</span></span><span>
</span><span id="line-744"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWithData"><span class="hs-identifier hs-type">pintersectionWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-745"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286081"><span class="annot"><a href="#local-6989586621679286081"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286082"><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286083"><span class="annot"><a href="#local-6989586621679286083"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679286081"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679286081"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-748"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-749"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-750"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-751"></span><span>    </span><span class="annot"><a href="#local-6989586621679286083"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-752"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286081"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-754"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286081"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-755"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286081"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286082"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-756"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span id="pintersectionWithData"><span class="annot"><span class="annottext">pintersectionWithData :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k) =&gt;
Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pintersectionWithData"><span class="hs-identifier hs-var hs-var">pintersectionWithData</span></a></span></span><span> </span><span id="local-6989586621679286088"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679286088"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-758"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-759"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-760"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679286088"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span class="annot"><span class="hs-comment">{- | Forget the knowledge that keys were sorted.

@since 2.1.1
-}</span></span><span>
</span><span id="line-766"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pforgetSorted"><span class="hs-identifier hs-type">pforgetSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-767"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284810"><span class="annot"><a href="#local-6989586621679284810"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284808"><span class="annot"><a href="#local-6989586621679284808"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284809"><span class="annot"><a href="#local-6989586621679284809"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284807"><span class="annot"><a href="#local-6989586621679284807"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-768"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284807"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284808"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284809"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-769"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284807"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284810"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284808"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284809"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span id="pforgetSorted"><span class="annot"><span class="annottext">pforgetSorted :: forall (g :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PMap 'Sorted k v) -&gt; Term s (PMap g k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pforgetSorted"><span class="hs-identifier hs-var hs-var">pforgetSorted</span></a></span></span><span> </span><span id="local-6989586621679286095"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286095"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall (s :: S) (a :: S -&gt; Type). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286095"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-771"></span><span>
</span><span id="line-772"></span><span class="annot"><span class="hs-comment">{- | Gives 'PTrue' if both argument 'PMap's contain mappings for exactly the
 same set of keys. Requires a number of equality comparisons between keys
 proportional to the length of the shorter argument.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-778"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqual"><span class="hs-identifier hs-type">pkeysEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284815"><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284817"><span class="annot"><a href="#local-6989586621679284817"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284818"><span class="annot"><a href="#local-6989586621679284818"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284816"><span class="annot"><a href="#local-6989586621679284816"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-782"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-783"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284816"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284817"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284818"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-784"></span><span id="pkeysEqual"><span class="annot"><span class="annottext">pkeysEqual :: forall (k :: S -&gt; Type) (a :: S -&gt; Type) (b :: S -&gt; Type) (s :: S).
(PEq k, PIsData k) =&gt;
Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqual"><span class="hs-identifier hs-var hs-var">pkeysEqual</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
 -&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool)))
-&gt; ClosedTerm (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-785"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k a)
 -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Sorted k b :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k a)
  -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
 -&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool)))
-&gt; (Term s (PMap 'Sorted k a)
    -&gt; Term s (PMap 'Sorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k a :--&gt; (PMap 'Sorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286109"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k a)
</span><a href="#local-6989586621679286109"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679286110"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k b)
</span><a href="#local-6989586621679286110"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-786"></span><span>    </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k a)
-&gt; (PMap 'Sorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k a)
</span><a href="#local-6989586621679286109"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Sorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286111"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286111"><span class="hs-identifier hs-var">ell</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-787"></span><span>      </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k b)
-&gt; (PMap 'Sorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k b)
</span><a href="#local-6989586621679286110"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Sorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286112"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286112"><span class="hs-identifier hs-var">ell'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-788"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679286113"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286111"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286112"><span class="hs-identifier hs-var">ell'</span></a></span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-790"></span><span>    </span><span class="annot"><a href="#local-6989586621679286113"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-791"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284824"><span class="annot"><a href="#local-6989586621679284824"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-792"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-793"></span><span>        </span><span class="annot"><a href="#local-6989586621679284824"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-794"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284815"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284818"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-797"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-798"></span><span>    </span><span id="local-6989586621679286113"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679286113"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s' :: S).
 Term
   s'
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
          :--&gt; PBool)))
-&gt; Term
     s'
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s' :: S).
  Term
    s'
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool)))
 -&gt; Term
      s'
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool)))
-&gt; (forall (s' :: S).
    Term
      s'
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool)))
-&gt; Term
     s'
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-799"></span><span>      </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
          :--&gt; PBool))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
           :--&gt; PBool))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
              :--&gt; PBool))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                   :--&gt; PBool))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286147"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679286147"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286148"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286148"><span class="hs-identifier hs-var">ell</span></a></span></span><span> </span><span id="local-6989586621679286149"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286149"><span class="hs-identifier hs-var">ell'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-800"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData a))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData a))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286148"><span class="hs-identifier hs-var">ell</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData a))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-801"></span><span>          </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286149"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-802"></span><span>            </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PTrue</span></span><span> </span><span class="hs-comment">-- no mismatches found</span><span>
</span><span id="line-803"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span> </span><span class="hs-comment">-- one argument too long</span><span>
</span><span id="line-804"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679286151"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679286151"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286149"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-805"></span><span>            </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span> </span><span class="hs-comment">-- one argument too long</span><span>
</span><span id="line-806"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679286152"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679286152"><span class="hs-identifier hs-var">kv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679286151"><span class="hs-identifier hs-var">kv</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData a))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679286154"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679286154"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679286155"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286155"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-807"></span><span>              </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679286152"><span class="hs-identifier hs-var">kv'</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData b))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679286156"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679286156"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679286157"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286157"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-808"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-809"></span><span>                  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679286154"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679286156"><span class="hs-identifier hs-var">h'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
</span><a href="#local-6989586621679286147"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286155"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286157"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- continue</span><span>
</span><span id="line-811"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- key mismatch</span><span>
</span><span id="line-812"></span><span>
</span><span id="line-813"></span><span class="annot"><span class="hs-comment">{- | As 'pkeysEqual', but requires only 'PEq' constraints for the keys, and
 works for 'Unsorted' 'PMap's. This requires a number of equality comparisons
 between keys proportional to the product of the lengths of both arguments:
 that is, this function is quadratic.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-820"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqualUnsorted"><span class="hs-identifier hs-type">pkeysEqualUnsorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-821"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284833"><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284834"><span class="annot"><a href="#local-6989586621679284834"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284835"><span class="annot"><a href="#local-6989586621679284835"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284836"><span class="annot"><a href="#local-6989586621679284836"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-822"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284834"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284835"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-826"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284836"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284834"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284835"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-827"></span><span id="pkeysEqualUnsorted"><span class="annot"><span class="annottext">pkeysEqualUnsorted :: forall (k :: S -&gt; Type) (a :: S -&gt; Type) (b :: S -&gt; Type) (s :: S).
(PIsData k, PIsData a, PIsData b) =&gt;
Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkeysEqualUnsorted"><span class="hs-identifier hs-var hs-var">pkeysEqualUnsorted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
 -&gt; Term
      s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool)))
-&gt; ClosedTerm
     (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-828"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Unsorted k a)
 -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Unsorted k a)
  -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
 -&gt; Term
      s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool)))
-&gt; (Term s (PMap 'Unsorted k a)
    -&gt; Term s (PMap 'Unsorted k b) -&gt; Term s PBool)
-&gt; Term s (PMap 'Unsorted k a :--&gt; (PMap 'Unsorted k b :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286171"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286171"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679286172"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286172"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-829"></span><span>    </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
-&gt; (PMap 'Unsorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286171"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Unsorted k a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Unsorted k a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286173"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286173"><span class="hs-identifier hs-var">ell</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-830"></span><span>      </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
-&gt; (PMap 'Unsorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286172"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Unsorted k b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMap 'Unsorted k b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286174"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286174"><span class="hs-identifier hs-var">ell'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-831"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
forall (s' :: S).
Term
  s'
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679286175"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286171"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286172"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286173"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286174"><span class="hs-identifier hs-var">ell'</span></a></span><span>
</span><span id="line-832"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-833"></span><span>    </span><span class="annot"><a href="#local-6989586621679286175"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-834"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284842"><span class="annot"><a href="#local-6989586621679284842"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-835"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-836"></span><span>        </span><span class="annot"><a href="#local-6989586621679284842"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-837"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284834"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-838"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284835"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-839"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284834"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-840"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284833"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284835"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-841"></span><span>            </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-842"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-843"></span><span>    </span><span id="local-6989586621679286175"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term
  s'
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679286175"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s' :: S).
 Term
   s'
   (PMap 'Unsorted k a
    :--&gt; (PMap 'Unsorted k b
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                      :--&gt; PBool)))))
-&gt; Term
     s'
     (PMap 'Unsorted k a
      :--&gt; (PMap 'Unsorted k b
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                        :--&gt; PBool))))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s' :: S).
  Term
    s'
    (PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool)))))
 -&gt; Term
      s'
      (PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool)))))
-&gt; (forall (s' :: S).
    Term
      s'
      (PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool)))))
-&gt; Term
     s'
     (PMap 'Unsorted k a
      :--&gt; (PMap 'Unsorted k b
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                        :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-844"></span><span>      </span><span class="annot"><span class="annottext">Term
  s
  (((PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool))))
    :--&gt; (PMap 'Unsorted k a
          :--&gt; (PMap 'Unsorted k b
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                            :--&gt; PBool)))))
   :--&gt; (PMap 'Unsorted k a
         :--&gt; (PMap 'Unsorted k b
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                           :--&gt; PBool)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool))))
    :--&gt; (PMap 'Unsorted k a
          :--&gt; (PMap 'Unsorted k b
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                            :--&gt; PBool)))))
   :--&gt; (PMap 'Unsorted k a
         :--&gt; (PMap 'Unsorted k b
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                           :--&gt; PBool)))))
-&gt; Term
     s
     ((PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
-&gt; Term
     s
     (PMap 'Unsorted k a
      :--&gt; (PMap 'Unsorted k b
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                        :--&gt; PBool))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PMap 'Unsorted k a
    :--&gt; (PMap 'Unsorted k b
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                      :--&gt; PBool))))
 -&gt; Term s (PMap 'Unsorted k a)
 -&gt; Term s (PMap 'Unsorted k b)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Unsorted k a)
 -&gt; Term s (PMap 'Unsorted k b)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PMap 'Unsorted k a
     :--&gt; (PMap 'Unsorted k b
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                       :--&gt; PBool))))
  -&gt; Term s (PMap 'Unsorted k a)
  -&gt; Term s (PMap 'Unsorted k b)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PMap 'Unsorted k a
        :--&gt; (PMap 'Unsorted k b
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                          :--&gt; PBool))))
       :--&gt; (PMap 'Unsorted k a
             :--&gt; (PMap 'Unsorted k b
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                               :--&gt; PBool))))))
-&gt; (Term
      s
      (PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
    -&gt; Term s (PMap 'Unsorted k a)
    -&gt; Term s (PMap 'Unsorted k b)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PMap 'Unsorted k a
       :--&gt; (PMap 'Unsorted k b
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                         :--&gt; PBool))))
      :--&gt; (PMap 'Unsorted k a
            :--&gt; (PMap 'Unsorted k b
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                              :--&gt; PBool)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286227"><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679286227"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286228"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286228"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679286229"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286229"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span id="local-6989586621679286230"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286230"><span class="hs-identifier hs-var">ell</span></a></span></span><span> </span><span id="local-6989586621679286231"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286231"><span class="hs-identifier hs-var">ell'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-845"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData a))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData a))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData a))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286230"><span class="hs-identifier hs-var">ell</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData a))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData a))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-846"></span><span>          </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286231"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-847"></span><span>            </span><span class="hs-comment">-- We reached the end, so we match</span><span>
</span><span id="line-848"></span><span>            </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PTrue</span></span><span>
</span><span id="line-849"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679286232"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679286232"><span class="hs-identifier hs-var">ht'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679286232"><span class="hs-identifier hs-var">ht'</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData b))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679286233"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679286233"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679286234"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286234"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-850"></span><span>              </span><span class="annot"><span class="annottext">Term s (PMaybe a) -&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679286233"><span class="hs-identifier hs-var">h'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
-&gt; Term s (PMap 'Unsorted k a) -&gt; Term s (PMaybe a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286228"><span class="hs-identifier hs-var">kvs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-851"></span><span>                </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-852"></span><span>                </span><span class="annot"><span class="annottext">PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-853"></span><span>                </span><span class="hs-comment">-- We match, so continue</span><span>
</span><span id="line-854"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679286227"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286228"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286229"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286230"><span class="hs-identifier hs-var">ell</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286234"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-855"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679286235"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679286235"><span class="hs-identifier hs-var">ht</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData a))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
</span><a href="#local-6989586621679286235"><span class="hs-identifier hs-var">ht</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData a))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData a))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679286236"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679286236"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679286237"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286237"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-856"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  (PMaybe
     (PPair
        (PBuiltinPair (PAsData k) (PAsData b))
        (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
PIsListLike list a =&gt;
Term s (list a :--&gt; PMaybe (PPair a (list a)))
</span><span class="hs-identifier hs-var">List.puncons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PMaybe
          (PPair
             (PBuiltinPair (PAsData k) (PAsData b))
             (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PMaybe
        (PPair
           (PBuiltinPair (PAsData k) (PAsData b))
           (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286231"><span class="hs-identifier hs-var">ell'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe
    (PPair
       (PBuiltinPair (PAsData k) (PAsData b))
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PMaybe
      (PPair
         (PBuiltinPair (PAsData k) (PAsData b))
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-857"></span><span>              </span><span class="annot"><span class="annottext">PMaybe
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
  s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe b) -&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679286236"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
-&gt; Term s (PMap 'Unsorted k b) -&gt; Term s (PMaybe b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286229"><span class="hs-identifier hs-var">kvs'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-858"></span><span>                </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-859"></span><span>                </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-860"></span><span>                </span><span class="hs-comment">-- We match, so continue</span><span>
</span><span id="line-861"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679286227"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286228"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286229"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286237"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286231"><span class="hs-identifier hs-var">ell'</span></a></span><span>
</span><span id="line-862"></span><span>              </span><span class="hs-comment">-- To save some effort, we try both matches in one shot</span><span>
</span><span id="line-863"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679286238"><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679286238"><span class="hs-identifier hs-var">ht'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PPair
     (PBuiltinPair (PAsData k) (PAsData b))
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
</span><a href="#local-6989586621679286238"><span class="hs-identifier hs-var">ht'</span></a></span><span> </span><span class="annot"><span class="annottext">((PPair
    (PBuiltinPair (PAsData k) (PAsData b))
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    s
  -&gt; Term s PBool)
 -&gt; Term s PBool)
-&gt; (PPair
      (PBuiltinPair (PAsData k) (PAsData b))
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
      s
    -&gt; Term s PBool)
-&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PPair</span></span><span> </span><span id="local-6989586621679286239"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679286239"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679286240"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286240"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-864"></span><span>                </span><span class="annot"><span class="annottext">Term s (PMaybe b) -&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k b :--&gt; PMaybe b))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679286236"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b :--&gt; PMaybe b)
-&gt; Term s (PMap 'Unsorted k b) -&gt; Term s (PMaybe b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286229"><span class="hs-identifier hs-var">kvs'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe b s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-865"></span><span>                  </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-866"></span><span>                  </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-867"></span><span>                  </span><span class="hs-comment">-- Try the other direction</span><span>
</span><span id="line-868"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe a) -&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (any :: KeyGuarantees)
       (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#plookup"><span class="hs-identifier hs-var">plookup</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Unsorted k a :--&gt; PMaybe a))
-&gt; Term s k -&gt; Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData b))
</span><a href="#local-6989586621679286239"><span class="hs-identifier hs-var">h'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a :--&gt; PMaybe a)
-&gt; Term s (PMap 'Unsorted k a) -&gt; Term s (PMaybe a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286228"><span class="hs-identifier hs-var">kvs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (PMaybe a s -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-869"></span><span>                    </span><span class="hs-comment">-- We mismatch, so fail</span><span>
</span><span id="line-870"></span><span>                    </span><span class="annot"><span class="annottext">PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBool s -&gt; Term s PBool
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBool s
forall (s :: S). PBool s
</span><span class="hs-identifier hs-var">PFalse</span></span><span>
</span><span id="line-871"></span><span>                    </span><span class="hs-comment">-- Both succeeded, so continue on tails</span><span>
</span><span id="line-872"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
</span><a href="#local-6989586621679286227"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k a
   :--&gt; (PMap 'Unsorted k b
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                     :--&gt; PBool))))
-&gt; Term s (PMap 'Unsorted k a)
-&gt; Term
     s
     (PMap 'Unsorted k b
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
                  :--&gt; PBool)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k a)
</span><a href="#local-6989586621679286228"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Unsorted k b
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
               :--&gt; PBool)))
-&gt; Term s (PMap 'Unsorted k b)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
            :--&gt; PBool))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k b)
</span><a href="#local-6989586621679286229"><span class="hs-identifier hs-var">kvs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679286237"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679286240"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span class="annot"><span class="hs-comment">{- | Get the key of a key-value pair.

@since 2.1.1
-}</span></span><span>
</span><span id="line-878"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-type">pkvPairKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-879"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284633"><span class="annot"><a href="#local-6989586621679284633"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284635"><span class="annot"><a href="#local-6989586621679284635"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284634"><span class="annot"><a href="#local-6989586621679284634"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-880"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284633"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-881"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284634"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284633"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284635"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284633"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-882"></span><span id="pkvPairKey"><span class="annot"><span class="annottext">pkvPairKey :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var hs-var">pkvPairKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k))
-&gt; ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s k) -&gt; Term s (c :--&gt; k)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286249"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286249"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286249"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span class="annot"><span class="hs-comment">{- | Get the value of a key-value pair.

@since 2.1.1
-}</span></span><span>
</span><span id="line-888"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier hs-type">pkvPairValue</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-889"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284638"><span class="annot"><a href="#local-6989586621679284638"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284636"><span class="annot"><a href="#local-6989586621679284636"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284637"><span class="annot"><a href="#local-6989586621679284637"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-890"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284636"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-891"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284637"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284638"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284636"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284636"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-892"></span><span id="pkvPairValue"><span class="annot"><span class="annottext">pkvPairValue :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData v =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier hs-var hs-var">pkvPairValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v))
-&gt; ClosedTerm (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s v) -&gt; Term s (c :--&gt; v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286258"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286258"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286258"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>
</span><span id="line-894"></span><span class="annot"><span class="hs-comment">-- | @since 2.1.1</span></span><span>
</span><span id="line-895"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-type">punsortedMapFromFoldable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-896"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284854"><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284855"><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284853"><span class="annot"><a href="#local-6989586621679284853"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284856"><span class="annot"><a href="#local-6989586621679284856"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-897"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284853"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-898"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-899"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-900"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-901"></span><span>  </span><span class="annot"><a href="#local-6989586621679284853"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284856"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284856"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-902"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284856"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-903"></span><span id="punsortedMapFromFoldable"><span class="annot"><span class="annottext">punsortedMapFromFoldable :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (f :: Type -&gt; Type)
       (s :: S).
(Foldable f, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Unsorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-var hs-var">punsortedMapFromFoldable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (f (Term s k, Term s v) -&gt; PMap 'Unsorted k v s)
-&gt; f (Term s k, Term s v)
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Unsorted k v s)
-&gt; (f (Term s k, Term s v)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; f (Term s k, Term s v)
-&gt; PMap 'Unsorted k v s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; (Term s k, Term s v)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; f (Term s k, Term s v)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s k, Term s v)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s' :: S).
Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s' k, Term s' v)
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286272"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: S -&gt; Type) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span class="hs-special">)</span><span>
</span><span id="line-904"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-905"></span><span>    </span><span class="annot"><a href="#local-6989586621679286272"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-906"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284865"><span class="annot"><a href="#local-6989586621679284865"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-907"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284865"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-908"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284865"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284865"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-909"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284865"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284854"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284855"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-910"></span><span>    </span><span id="local-6989586621679286272"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s' k, Term s' v)
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286272"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679286277"><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286277"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286278"><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679286278"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679286279"><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679286279"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-911"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
 -&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s')
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
forall (a :: S -&gt; Type) (s :: S).
Term s a -&gt; Term s (PBuiltinList a) -&gt; PBuiltinList a s
</span><span class="hs-identifier hs-var">PCons</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s'
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s'
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PAsData k)
-&gt; Term s' (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' k -&gt; Term s' (PAsData k)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679286278"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PAsData v)
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' v -&gt; Term s' (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679286279"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286277"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-912"></span><span>
</span><span id="line-913"></span><span class="annot"><span class="hs-comment">-- | @since 2.1.1</span></span><span>
</span><span id="line-914"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-type">psortedMapFromFoldable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-915"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284870"><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284871"><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284869"><span class="annot"><a href="#local-6989586621679284869"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284872"><span class="annot"><a href="#local-6989586621679284872"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-916"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284869"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-917"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-918"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-920"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-921"></span><span>  </span><span class="annot"><a href="#local-6989586621679284869"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284872"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284872"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-922"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284872"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-923"></span><span id="psortedMapFromFoldable"><span class="annot"><span class="annottext">psortedMapFromFoldable :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (f :: Type -&gt; Type)
       (s :: S).
(Foldable f, POrd k, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-var hs-var">psortedMapFromFoldable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; f (Term s k, Term s v)
-&gt; Term s (PMap 'Sorted k v)
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
forall (s' :: S).
Term s' (PMap 'Sorted k v)
-&gt; (Term s' k, Term s' v) -&gt; Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679286286"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pempty"><span class="hs-identifier hs-var">pempty</span></a></span><span>
</span><span id="line-924"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-925"></span><span>    </span><span class="annot"><a href="#local-6989586621679286286"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-926"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284877"><span class="annot"><a href="#local-6989586621679284877"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-927"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284877"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-928"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284877"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284877"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-929"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284877"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284870"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284871"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-930"></span><span>    </span><span id="local-6989586621679286286"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term s' (PMap 'Sorted k v)
-&gt; (Term s' k, Term s' v) -&gt; Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679286286"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679286290"><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679286290"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286291"><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679286291"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679286292"><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679286292"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s' (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pinsert"><span class="hs-identifier hs-var">pinsert</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term s' k
-&gt; Term s' (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679286291"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s' v -&gt; Term s' (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679286292"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s' (PMap 'Sorted k v) -&gt; Term s' (PMap 'Sorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679286290"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-931"></span><span>
</span><span id="line-932"></span><span class="annot"><span class="hs-comment">{- | Given an \'updater\' and a key, if the key exists in the 'PMap', apply the
 \'updater\' to it, otherwise do nothing. If the \'updater\' produces
 'PNothing', the value is deleted; otherwise, it is modified to the result.

 Performance will be equivalent to a lookup followed by an insert (or delete),
 as well as the cost of calling the \'updater\'.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-941"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pupdate"><span class="hs-identifier hs-type">pupdate</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284879"><span class="annot"><a href="#local-6989586621679284879"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284880"><span class="annot"><a href="#local-6989586621679284880"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284881"><span class="annot"><a href="#local-6989586621679284881"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284879"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284880"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284879"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-947"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284881"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284880"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679284880"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284879"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284879"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284880"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284879"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284880"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-948"></span><span id="pupdate"><span class="annot"><span class="annottext">pupdate :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PIsData v, POrd k) =&gt;
Term
  s
  ((v :--&gt; PMaybe v)
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pupdate"><span class="hs-identifier hs-var hs-var">pupdate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; PMaybe v)
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; PMaybe v)
    :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; PMaybe v)
       :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-949"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PMaybe v)
 -&gt; Term s k
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (c :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PMaybe v)
  -&gt; Term s k
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s
      ((v :--&gt; PMaybe v)
       :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; PMaybe v)
    -&gt; Term s k
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s
     ((v :--&gt; PMaybe v)
      :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286333"><span class="annot"><span class="annottext">Term s (v :--&gt; PMaybe v)
</span><a href="#local-6989586621679286333"><span class="hs-identifier hs-var">updater</span></a></span></span><span> </span><span id="local-6989586621679286334"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286334"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679286335"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286335"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286335"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PMap 'Sorted k v))
-&gt; (PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286336"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286336"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-950"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-951"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-952"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286337"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286337"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286338"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286338"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286339"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286339"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-953"></span><span>              </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286338"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term s k
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286340"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286340"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-954"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-955"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286340"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286334"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe v)
-&gt; (PMaybe v s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; PMaybe v)
</span><a href="#local-6989586621679286333"><span class="hs-identifier hs-var">updater</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PMaybe v) -&gt; Term s v -&gt; Term s (PMaybe v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286338"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe v s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PMaybe v s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-957"></span><span>                      </span><span class="annot"><span class="annottext">PMaybe v s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286337"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286339"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-958"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679286341"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286341"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286340"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286341"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286337"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286339"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-959"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286334"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286340"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286338"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286339"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286338"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286337"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286339"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
          # kvs'
</span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-965"></span><span>
</span><span id="line-966"></span><span class="annot"><span class="hs-comment">{- | If a value exists at the specified key, apply the function argument to it;
 otherwise, do nothing.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-971"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#padjust"><span class="hs-identifier hs-type">padjust</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-972"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284886"><span class="annot"><a href="#local-6989586621679284886"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284887"><span class="annot"><a href="#local-6989586621679284887"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284888"><span class="annot"><a href="#local-6989586621679284888"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-973"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284886"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-974"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="annot"><a href="#local-6989586621679284886"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-975"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284887"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-976"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-977"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284888"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284887"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284887"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284886"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284886"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284887"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284886"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284887"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-978"></span><span id="padjust"><span class="annot"><span class="annottext">padjust :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PEq k, PIsData v) =&gt;
Term
  s
  ((v :--&gt; v)
   :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#padjust"><span class="hs-identifier hs-var hs-var">padjust</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; v)
   :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; v)
    :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
 -&gt; Term
      s
      ((v :--&gt; v)
       :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-979"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; v)
 -&gt; Term s k
 -&gt; Term s (PMap 'Unsorted k v)
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k
 -&gt; Term s (PMap 'Unsorted k v)
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term
     s (c :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; v)
  -&gt; Term s k
  -&gt; Term s (PMap 'Unsorted k v)
  -&gt; Term s (PMap 'Unsorted k v))
 -&gt; Term
      s
      ((v :--&gt; v)
       :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))))
-&gt; (Term s (v :--&gt; v)
    -&gt; Term s k
    -&gt; Term s (PMap 'Unsorted k v)
    -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term
     s
     ((v :--&gt; v)
      :--&gt; (k :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286366"><span class="annot"><span class="annottext">Term s (v :--&gt; v)
</span><a href="#local-6989586621679286366"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679286367"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286367"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679286368"><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><a href="#local-6989586621679286368"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-980"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((k :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))
forall (k :: S -&gt; Type) (a :: S -&gt; Type) (b :: S -&gt; Type)
       (keysort :: KeyGuarantees) (s :: S).
(PIsData k, PIsData a, PIsData b) =&gt;
Term
  s
  ((k :--&gt; (a :--&gt; b))
   :--&gt; (PMap keysort k a :--&gt; PMap 'Unsorted k b))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pmapWithKey"><span class="hs-identifier hs-var">pmapWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((k :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; v))
-&gt; Term s (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s v -&gt; Term s v) -&gt; Term s (k :--&gt; (v :--&gt; v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s v) -&gt; Term s (c :--&gt; (v :--&gt; v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679286369"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286369"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span id="local-6989586621679286370"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286370"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s v -&gt; Term s v -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286369"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286367"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
</span><a href="#local-6989586621679286366"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286370"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286370"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Unsorted k v)
-&gt; Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Unsorted k v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><a href="#local-6989586621679286368"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-981"></span><span>
</span><span id="line-982"></span><span class="annot"><span class="hs-comment">{- | Left-associative fold of a 'PMap' with keys. Keys and values will be
 presented in key order.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-987"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier hs-type">pfoldlWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-988"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284896"><span class="annot"><a href="#local-6989586621679284896"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284893"><span class="annot"><a href="#local-6989586621679284893"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284894"><span class="annot"><a href="#local-6989586621679284894"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284895"><span class="annot"><a href="#local-6989586621679284895"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-989"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284893"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-990"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284894"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-991"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-992"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284895"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284893"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284894"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284896"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284893"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284894"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284896"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-993"></span><span id="pfoldlWithKey"><span class="annot"><span class="annottext">pfoldlWithKey :: forall (a :: S -&gt; Type) (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PIsData v) =&gt;
Term
  s
  ((a :--&gt; (k :--&gt; (v :--&gt; a)))
   :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier hs-var hs-var">pfoldlWithKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((a :--&gt; (k :--&gt; (v :--&gt; a)))
   :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((a :--&gt; (k :--&gt; (v :--&gt; a)))
    :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
 -&gt; Term
      s
      ((a :--&gt; (k :--&gt; (v :--&gt; a)))
       :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a))))
-&gt; ClosedTerm
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-994"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
 -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
-&gt; Term s (c :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
  -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
 -&gt; Term
      s
      ((a :--&gt; (k :--&gt; (v :--&gt; a)))
       :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a))))
-&gt; (Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
    -&gt; Term s a -&gt; Term s (PMap 'Sorted k v) -&gt; Term s a)
-&gt; Term
     s
     ((a :--&gt; (k :--&gt; (v :--&gt; a)))
      :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286398"><span class="annot"><span class="annottext">Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
</span><a href="#local-6989586621679286398"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679286399"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679286399"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286400"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286400"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (PMap 'Sorted k v s -&gt; Term s a) -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286400"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap 'Sorted k v s -&gt; Term s a) -&gt; Term s a)
-&gt; (PMap 'Sorted k v s -&gt; Term s a) -&gt; Term s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-995"></span><span>    </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286401"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286401"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-996"></span><span>      </span><span class="annot"><span class="annottext">Term
  s
  ((a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
   :--&gt; (a
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (b :: S -&gt; Type).
PIsListLike list a =&gt;
Term s ((b :--&gt; (a :--&gt; b)) :--&gt; (b :--&gt; (list a :--&gt; b)))
</span><span class="hs-identifier hs-var">pfoldl</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
   :--&gt; (a
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)))
-&gt; Term s (a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
-&gt; Term
     s
     (a
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s a
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s a)
-&gt; Term s (a :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s a)
-&gt; Term s (c :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; a))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679286403"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679286403"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679286404"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286404"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
</span><a href="#local-6989586621679286398"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (k :--&gt; (v :--&gt; a)))
-&gt; Term s a -&gt; Term s (k :--&gt; (v :--&gt; a))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679286403"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; a)) -&gt; Term s k -&gt; Term s (v :--&gt; a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286404"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; a) -&gt; Term s v -&gt; Term s a
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData v =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairValue"><span class="hs-identifier hs-var">pkvPairValue</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286404"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (a
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a))
-&gt; Term s a
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679286399"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; a)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s a
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286401"><span class="hs-identifier hs-var">kvs'</span></a></span><span>
</span><span id="line-997"></span><span>
</span><span id="line-998"></span><span class="annot"><span class="hs-comment">{- | Project all key-value pairs into a 'Monoid', then combine. Keys and values
 will be presented in key order.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-1003"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pfoldMapWithKey"><span class="hs-identifier hs-type">pfoldMapWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1004"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284909"><span class="annot"><a href="#local-6989586621679284909"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284906"><span class="annot"><a href="#local-6989586621679284906"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284907"><span class="annot"><a href="#local-6989586621679284907"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284910"><span class="annot"><a href="#local-6989586621679284910"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1005"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284906"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1006"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284907"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1007"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284908"><span class="annot"><a href="#local-6989586621679284908"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284908"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284909"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1008"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1009"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284910"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284906"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284907"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284909"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284906"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284907"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284909"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1010"></span><span id="pfoldMapWithKey"><span class="annot"><span class="annottext">pfoldMapWithKey :: forall (m :: S -&gt; Type) (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PIsData v, forall (s' :: S). Monoid (Term s' m)) =&gt;
Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldMapWithKey"><span class="hs-identifier hs-var hs-var">pfoldMapWithKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
 -&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m)))
-&gt; ClosedTerm ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1011"></span><span>  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; (v :--&gt; m))
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; m))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; (v :--&gt; m))
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
 -&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m)))
-&gt; (Term s (k :--&gt; (v :--&gt; m))
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s m)
-&gt; Term s ((k :--&gt; (v :--&gt; m)) :--&gt; (PMap 'Sorted k v :--&gt; m))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286428"><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; m))
</span><a href="#local-6989586621679286428"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679286429"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286429"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1012"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((m :--&gt; (k :--&gt; (v :--&gt; m)))
   :--&gt; (m :--&gt; (PMap 'Sorted k v :--&gt; m)))
forall (a :: S -&gt; Type) (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PIsData v) =&gt;
Term
  s
  ((a :--&gt; (k :--&gt; (v :--&gt; a)))
   :--&gt; (a :--&gt; (PMap 'Sorted k v :--&gt; a)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pfoldlWithKey"><span class="hs-identifier hs-var">pfoldlWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((m :--&gt; (k :--&gt; (v :--&gt; m)))
   :--&gt; (m :--&gt; (PMap 'Sorted k v :--&gt; m)))
-&gt; Term s (m :--&gt; (k :--&gt; (v :--&gt; m)))
-&gt; Term s (m :--&gt; (PMap 'Sorted k v :--&gt; m))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s m -&gt; Term s k -&gt; Term s v -&gt; Term s m)
-&gt; Term s (m :--&gt; (k :--&gt; (v :--&gt; m)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s k -&gt; Term s v -&gt; Term s m)
-&gt; Term s (c :--&gt; (k :--&gt; (v :--&gt; m)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679286430"><span class="annot"><span class="annottext">Term s m
</span><a href="#local-6989586621679286430"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679286431"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286431"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679286432"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286432"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s m
</span><a href="#local-6989586621679286430"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Term s m -&gt; Term s m -&gt; Term s m
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; m))
</span><a href="#local-6989586621679286428"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (v :--&gt; m)) -&gt; Term s k -&gt; Term s (v :--&gt; m)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286431"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; m) -&gt; Term s v -&gt; Term s m
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286432"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (m :--&gt; (PMap 'Sorted k v :--&gt; m))
-&gt; Term s m -&gt; Term s (PMap 'Sorted k v :--&gt; m)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s m
forall a. Monoid a =&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; m)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s m
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286429"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-1013"></span><span>
</span><span id="line-1014"></span><span class="annot"><span class="hs-comment">{- | Get a list-like structure full of the keys of the argument 'PMap'. If the
 'PMap' is 'Sorted', the keys will maintain that order, and will be unique;
 otherwise, the order is unspecified, and duplicates may exist.

 = Note

 You will need to specify what manner of list-like structure you want; we have
 arranged the type signature to make specifying this easy with
 @TypeApplications@.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-1026"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkeys"><span class="hs-identifier hs-type">pkeys</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1027"></span><span>  </span><span class="hs-keyword">forall</span><span>
</span><span id="line-1028"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679284918"><span class="annot"><a href="#local-6989586621679284918"><span class="hs-identifier hs-type">ell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679284919"><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1030"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679284922"><span class="annot"><a href="#local-6989586621679284922"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1031"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679284921"><span class="annot"><a href="#local-6989586621679284921"><span class="hs-identifier hs-type">keys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1032"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679284920"><span class="annot"><a href="#local-6989586621679284920"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1033"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PListLike</span></span><span> </span><span class="annot"><a href="#local-6989586621679284918"><span class="hs-identifier hs-type">ell</span></a></span><span>
</span><span id="line-1034"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PElemConstraint</span></span><span> </span><span class="annot"><a href="#local-6989586621679284918"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1035"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1036"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284920"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284921"><span class="hs-identifier hs-type">keys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284922"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284918"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1037"></span><span id="pkeys"><span class="annot"><span class="annottext">pkeys :: forall (ell :: (S -&gt; Type) -&gt; S -&gt; Type) (k :: S -&gt; Type)
       (v :: S -&gt; Type) (keys :: KeyGuarantees) (s :: S).
(PListLike ell, PElemConstraint ell (PAsData k)) =&gt;
Term s (PMap keys k v :--&gt; ell (PAsData k))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkeys"><span class="hs-identifier hs-var hs-var">pkeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap keys k v :--&gt; ell (PAsData k))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap keys k v :--&gt; ell (PAsData k))
 -&gt; Term s (PMap keys k v :--&gt; ell (PAsData k)))
-&gt; ClosedTerm (PMap keys k v :--&gt; ell (PAsData k))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1038"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap keys k v) -&gt; Term s (ell (PAsData k)))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (ell (PAsData k)))
-&gt; Term s (c :--&gt; ell (PAsData k))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap keys k v) -&gt; Term s (ell (PAsData k)))
 -&gt; Term s (PMap keys k v :--&gt; ell (PAsData k)))
-&gt; (Term s (PMap keys k v) -&gt; Term s (ell (PAsData k)))
-&gt; Term s (PMap keys k v :--&gt; ell (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286452"><span class="annot"><span class="annottext">Term s (PMap keys k v)
</span><a href="#local-6989586621679286452"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap keys k v)
-&gt; (PMap keys k v s -&gt; Term s (ell (PAsData k)))
-&gt; Term s (ell (PAsData k))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keys k v)
</span><a href="#local-6989586621679286452"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">((PMap keys k v s -&gt; Term s (ell (PAsData k)))
 -&gt; Term s (ell (PAsData k)))
-&gt; (PMap keys k v s -&gt; Term s (ell (PAsData k)))
-&gt; Term s (ell (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span id="local-6989586621679286453"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286453"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1039"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ell (PAsData k))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (ell (PAsData k)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ell (PAsData k))
    -&gt; Term s (ell (PAsData k)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ell (PAsData k))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (ell (PAsData k))
forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (ell (PAsData k))
</span><a href="#local-6989586621679286454"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (ell (PAsData k))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ell (PAsData k))
-&gt; Term s (ell (PAsData k))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (ell (PAsData k))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint ell a =&gt;
Term s (ell a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (ell (PAsData k))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286453"><span class="hs-identifier hs-var">kvs'</span></a></span><span>
</span><span id="line-1040"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1041"></span><span>    </span><span class="annot"><a href="#local-6989586621679286454"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1042"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284929"><span class="annot"><a href="#local-6989586621679284929"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1043"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284929"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284922"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284918"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1044"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284929"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284922"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1045"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284929"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284922"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1046"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284929"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284918"><span class="hs-identifier hs-type">ell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284919"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1047"></span><span>    </span><span id="local-6989586621679286454"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (ell (PAsData k))
</span><a href="#local-6989586621679286454"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679286457"><span class="annot"><span class="annottext">Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
</span><a href="#local-6989586621679286457"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286458"><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286458"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span id="local-6989586621679286459"><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286459"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData k :--&gt; (ell (PAsData k) :--&gt; ell (PAsData k)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint ell a =&gt;
Term s (a :--&gt; (ell a :--&gt; ell a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData k :--&gt; (ell (PAsData k) :--&gt; ell (PAsData k)))
-&gt; Term s' (PAsData k)
-&gt; Term s' (ell (PAsData k) :--&gt; ell (PAsData k))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286458"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s' (ell (PAsData k) :--&gt; ell (PAsData k))
-&gt; Term s' (ell (PAsData k)) -&gt; Term s' (ell (PAsData k))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
</span><a href="#local-6989586621679286457"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s'
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ell (PAsData k))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (ell (PAsData k))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286459"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>
</span><span id="line-1049"></span><span class="annot"><span class="hs-comment">{- | Compare two key-value pairs by their keys. Gives 'PTrue' if the key of the
 first argument pair is less than the key of the second argument pair.

 @since 2.1.1
-}</span></span><span>
</span><span id="line-1054"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairLt"><span class="hs-identifier hs-type">pkvPairLt</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1055"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284931"><span class="annot"><a href="#local-6989586621679284931"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284933"><span class="annot"><a href="#local-6989586621679284933"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284932"><span class="annot"><a href="#local-6989586621679284932"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1056"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284931"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PPartialOrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284931"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1057"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1058"></span><span>    </span><span class="annot"><a href="#local-6989586621679284932"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1059"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284931"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284933"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1060"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284931"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284933"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1061"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-1062"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1063"></span><span id="pkvPairLt"><span class="annot"><span class="annottext">pkvPairLt :: forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
(PIsData k, PPartialOrd k) =&gt;
Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairLt"><span class="hs-identifier hs-var hs-var">pkvPairLt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)))
-&gt; ClosedTerm
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1064"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term
     s (c :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286473"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286473"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span id="local-6989586621679286474"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286474"><span class="hs-identifier hs-var">kv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1065"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286473"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
forall (k :: S -&gt; Type) (v :: S -&gt; Type) (s :: S).
PIsData k =&gt;
Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
</span><a href="Plutarch.LedgerApi.AssocMap.html#pkvPairKey"><span class="hs-identifier hs-var">pkvPairKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s k
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286474"><span class="hs-identifier hs-var">kv'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1066"></span><span>
</span><span id="line-1067"></span><span class="hs-comment">-- Helpers</span><span>
</span><span id="line-1068"></span><span>
</span><span id="line-1069"></span><span class="annot"><span class="hs-comment">-- | Rebuild the map at the given key.</span></span><span>
</span><span id="line-1070"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-type">rebuildAtKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1071"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284780"><span class="annot"><a href="#local-6989586621679284780"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284777"><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284779"><span class="annot"><a href="#local-6989586621679284779"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284778"><span class="annot"><a href="#local-6989586621679284778"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1072"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1073"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1074"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1075"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1076"></span><span>    </span><span class="annot"><a href="#local-6989586621679284778"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1077"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284779"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1078"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284779"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1079"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1081"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284780"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284779"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1082"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284780"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284777"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284779"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1083"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1084"></span><span id="rebuildAtKey"><span class="annot"><span class="annottext">rebuildAtKey :: forall (g :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.LedgerApi.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var hs-var">rebuildAtKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
       :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v))))
-&gt; ClosedTerm
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1085"></span><span>  </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term s (c :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
       :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286520"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286520"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span id="local-6989586621679286521"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286521"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679286522"><span class="annot"><span class="annottext">Term s (PMap g k v)
</span><a href="#local-6989586621679286522"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1086"></span><span>    </span><span class="annot"><span class="annottext">Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall (s :: S) (a :: S -&gt; Type). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v))
-&gt; Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1087"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PInner (PMap g k v))
             :--&gt; PInner (PMap g k v)))
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type) (s :: S)
       (r :: S -&gt; Type).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-1088"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286523"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
</span><a href="#local-6989586621679286523"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286524"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286524"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286525"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286525"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1089"></span><span>            </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286524"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term
       s
       ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PInner (PMap g k v))
        :--&gt; PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term s k
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286526"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286526"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1090"></span><span>              </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PInner (PMap g k v))
  -&gt; Term s (PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
    -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286527"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679286527"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1091"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1092"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286526"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286521"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1093"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
</span><a href="#local-6989586621679286523"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286525"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
   :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PInner (PMap g k v)))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286528"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286528"><span class="hs-identifier hs-var">suffix</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679286527"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286524"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286528"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1094"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1095"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286526"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679286521"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1096"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679286527"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286520"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286525"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1097"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679286527"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286520"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286524"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286525"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1098"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-1099"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1100"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
   :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PInner (PMap g k v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PInner (PMap g k v))
             :--&gt; PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286520"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span class="hs-cpp">        # plam id
</span><span>
</span><span id="line-1104"></span><span class="hs-comment">-- TODO: Get rid of this whole mess.</span><span>
</span><span id="line-1105"></span><span class="hs-keyword">type</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286529"><span class="annot"><a href="#local-6989586621679286529"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286530"><span class="annot"><a href="#local-6989586621679286530"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286531"><span class="annot"><a href="#local-6989586621679286531"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1106"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286531"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286529"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286531"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286530"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1107"></span><span>
</span><span id="line-1108"></span><span class="hs-comment">-- Signals how to handle value merging for matching keys in 'pzipWith'.</span><span>
</span><span id="line-1109"></span><span class="hs-keyword">data</span><span> </span><span id="SomeMergeHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-var">SomeMergeHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284730"><span class="annot"><a href="#local-6989586621679284730"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284731"><span class="annot"><a href="#local-6989586621679284731"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284732"><span class="annot"><a href="#local-6989586621679284732"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1110"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SomeMergeHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284730"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284731"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284730"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284731"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1112"></span><span>
</span><span id="line-1113"></span><span id="local-6989586621679286535"><span id="local-6989586621679286546"><span id="local-6989586621679286551"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679284959"><span id="local-6989586621679284960"><span id="local-6989586621679284961"><span class="annot"><a href="#local-6989586621679284959"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1114"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679284946"><span class="annot"><a href="#local-6989586621679284946"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679284947"><span class="annot"><a href="#local-6989586621679284947"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284959"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284947"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1115"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284959"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284960"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284961"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1116"></span><span>
</span><span id="line-1117"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286554"><span class="annot"><a href="#local-6989586621679286554"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286555"><span class="annot"><a href="#local-6989586621679286555"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286556"><span class="annot"><a href="#local-6989586621679286556"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1118"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286556"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286554"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286556"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286555"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1119"></span><span>
</span><span id="line-1120"></span><span class="hs-comment">{- Signals how to handle value merging for matching keys in 'pzipWith'.

 No restrictions on commutativity: Safe to use for both commutative and
 non-commutative merging operations.
-}</span><span>
</span><span id="line-1125"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-var">MergeHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284736"><span class="annot"><a href="#local-6989586621679284736"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284737"><span class="annot"><a href="#local-6989586621679284737"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284738"><span class="annot"><a href="#local-6989586621679284738"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span>
</span><span id="line-1126"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhBoth%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhBoth%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284736"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284737"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284738"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1127"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhLeft%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhLeft%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhLeft</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284736"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284737"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284738"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1128"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhRight%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhRight%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284736"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284737"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284738"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1129"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1130"></span><span>
</span><span id="line-1131"></span><span id="local-6989586621679286562"><span id="local-6989586621679286572"><span id="local-6989586621679286576"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679284954"><span id="local-6989586621679284957"><span id="local-6989586621679284958"><span class="annot"><a href="#local-6989586621679284954"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1132"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679284955"><span class="annot"><a href="#local-6989586621679284955"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679284956"><span class="annot"><a href="#local-6989586621679284956"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284954"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284955"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284956"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1133"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284954"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284957"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284958"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1134"></span><span>
</span><span id="line-1135"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286579"><span class="annot"><a href="#local-6989586621679286579"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286580"><span class="annot"><a href="#local-6989586621679286580"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286581"><span class="annot"><a href="#local-6989586621679286581"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1136"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286581"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286579"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286581"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286580"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1137"></span><span>
</span><span id="line-1138"></span><span class="hs-comment">{- Signals how to handle value merging for matching keys in 'pzipWith'.

 Safe to use for commutative merging operations only.
-}</span><span>
</span><span id="line-1142"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandlerCommutative_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-var">MergeHandlerCommutative_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284984"><span class="annot"><a href="#local-6989586621679284984"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284985"><span class="annot"><a href="#local-6989586621679284985"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284986"><span class="annot"><a href="#local-6989586621679284986"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span>
</span><span id="line-1143"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v
-&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284984"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284985"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284986"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1144"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcOne</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284984"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284985"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284986"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1145"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1146"></span><span>
</span><span id="line-1147"></span><span id="local-6989586621679286587"><span id="local-6989586621679286595"><span id="local-6989586621679286599"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679284949"><span id="local-6989586621679284952"><span id="local-6989586621679284953"><span class="annot"><a href="#local-6989586621679284949"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1148"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679284950"><span class="annot"><a href="#local-6989586621679284950"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679284951"><span class="annot"><a href="#local-6989586621679284951"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284949"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284950"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284951"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1149"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284949"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284952"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284953"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-var">BothPresentHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286602"><span class="annot"><a href="#local-6989586621679286602"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286603"><span class="annot"><a href="#local-6989586621679286603"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286604"><span class="annot"><a href="#local-6989586621679286604"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1152"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286604"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286602"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286604"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286603"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1153"></span><span>
</span><span id="line-1154"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-var">BothPresentHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284739"><span class="annot"><a href="#local-6989586621679284739"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284740"><span class="annot"><a href="#local-6989586621679284740"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284741"><span class="annot"><a href="#local-6989586621679284741"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1155"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBoth"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span></span><span>
</span><span id="line-1156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- True ~ left, False ~ right</span><span>
</span><span id="line-1157"></span><span>    </span><span id="PassArg"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-1158"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBoth"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284740"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284739"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284741"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284739"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284741"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284739"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284741"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1159"></span><span>
</span><span id="line-1160"></span><span id="local-6989586621679286608"><span id="local-6989586621679286615"><span id="local-6989586621679286619"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679284979"><span id="local-6989586621679284982"><span id="local-6989586621679284983"><span class="annot"><a href="#local-6989586621679284979"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1161"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679284980"><span class="annot"><a href="#local-6989586621679284980"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679284981"><span class="annot"><a href="#local-6989586621679284981"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284979"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284980"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284981"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1162"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284979"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284982"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284983"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1163"></span><span>
</span><span id="line-1164"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandlerCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-var">BothPresentHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286622"><span class="annot"><a href="#local-6989586621679286622"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286623"><span class="annot"><a href="#local-6989586621679286623"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286624"><span class="annot"><a href="#local-6989586621679286624"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1165"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286624"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286622"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286624"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286623"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1166"></span><span>
</span><span id="line-1167"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandlerCommutative_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-var">BothPresentHandlerCommutative_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285014"><span class="annot"><a href="#local-6989586621679285014"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285015"><span class="annot"><a href="#local-6989586621679285015"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285016"><span class="annot"><a href="#local-6989586621679285016"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1168"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBothCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span></span><span>
</span><span id="line-1169"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBothCommutative"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679285015"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285014"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679285016"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285014"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679285016"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285014"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285016"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1170"></span><span>
</span><span id="line-1171"></span><span id="local-6989586621679286629"><span id="local-6989586621679286633"><span id="local-6989586621679286637"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679284997"><span id="local-6989586621679285000"><span id="local-6989586621679285001"><span class="annot"><a href="#local-6989586621679284997"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1172"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679284998"><span class="annot"><a href="#local-6989586621679284998"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679284999"><span class="annot"><a href="#local-6989586621679284999"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284997"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284998"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284999"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1173"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284997"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285000"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285001"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1174"></span><span>
</span><span id="line-1175"></span><span class="hs-keyword">type</span><span> </span><span id="OnePresentHandler"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-var">OnePresentHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286640"><span class="annot"><a href="#local-6989586621679286640"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286641"><span class="annot"><a href="#local-6989586621679286641"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679286642"><span class="annot"><a href="#local-6989586621679286642"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1176"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286642"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286640"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679286642"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679286641"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1177"></span><span>
</span><span id="line-1178"></span><span class="hs-keyword">data</span><span> </span><span id="OnePresentHandler_"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-var">OnePresentHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284742"><span class="annot"><a href="#local-6989586621679284742"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284743"><span class="annot"><a href="#local-6989586621679284743"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284744"><span class="annot"><a href="#local-6989586621679284744"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1179"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropOne"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span></span><span>
</span><span id="line-1180"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PassOne"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span></span><span>
</span><span id="line-1181"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleOne"><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284743"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284742"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284744"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284742"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284744"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1182"></span><span>
</span><span id="line-1183"></span><span id="local-6989586621679286646"><span id="local-6989586621679286650"><span id="local-6989586621679286654"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679284974"><span id="local-6989586621679284977"><span id="local-6989586621679284978"><span class="annot"><a href="#local-6989586621679284974"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-1184"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679284975"><span class="annot"><a href="#local-6989586621679284975"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679284976"><span class="annot"><a href="#local-6989586621679284976"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284974"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284975"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284976"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1185"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284974"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284977"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284978"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1186"></span><span>
</span><span id="line-1187"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-type">unionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1188"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284552"><span class="annot"><a href="#local-6989586621679284552"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284554"><span class="annot"><a href="#local-6989586621679284554"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284553"><span class="annot"><a href="#local-6989586621679284553"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1189"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1190"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284552"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284553"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284553"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284553"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1191"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284554"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284553"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284552"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1192"></span><span id="unionMergeHandler"><span class="annot"><span class="annottext">unionMergeHandler :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var hs-var">unionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679286657"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679286657"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1193"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679286658"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286658"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679286659"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286659"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679286657"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286658"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286659"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-1194"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679286660"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679286660"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1195"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1196"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679286661"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286661"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679286662"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286662"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679286660"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286661"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679286662"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-1197"></span><span>
</span><span id="line-1198"></span><span class="hs-comment">{- Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span><span>
</span><span id="line-1203"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-type">pzipWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1204"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284551"><span class="annot"><a href="#local-6989586621679284551"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284549"><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284550"><span class="annot"><a href="#local-6989586621679284550"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1205"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1206"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1207"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284550"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1208"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1209"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284550"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284551"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1210"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1211"></span><span>    </span><span class="annot"><a href="#local-6989586621679284551"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1212"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284550"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1213"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284550"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1214"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284549"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284550"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1215"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span id="pzipWith"><span class="annot"><span class="annottext">pzipWith :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var hs-var">pzipWith</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679286674"><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286674"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1217"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var">mergeHandlerOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286674"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1218"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679286676"><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286676"><span class="hs-identifier hs-var">mhc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1219"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286676"><span class="hs-identifier hs-var">mhc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1220"></span><span>
</span><span id="line-1221"></span><span class="hs-comment">{- Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span><span>
</span><span id="line-1226"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-type">pzipWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1227"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284564"><span class="annot"><a href="#local-6989586621679284564"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284562"><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284563"><span class="annot"><a href="#local-6989586621679284563"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1228"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1229"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1230"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1231"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679284563"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679284564"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1232"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1233"></span><span>    </span><span class="annot"><a href="#local-6989586621679284564"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1234"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284563"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1235"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284563"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1236"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284562"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284563"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1237"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1238"></span><span id="pzipWithData"><span class="annot"><span class="annottext">pzipWithData :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var hs-var">pzipWithData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679286698"><span class="annot"><span class="annottext">mh :: MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286698"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679286699"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286699"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1239"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286700"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286700"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286701"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286701"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1240"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286699"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var">zipMergeInsert</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286698"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286700"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286701"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1241"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679286704"><span class="annot"><span class="annottext">mh :: MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286704"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679286705"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286705"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1242"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286706"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286706"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286707"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286707"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1243"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: S -&gt; Type) (v :: S -&gt; Type)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286705"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var">zipMergeInsertCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286704"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286706"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679286707"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1244"></span><span>
</span><span id="line-1245"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-type">mergeHandlerOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1246"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285022"><span class="annot"><a href="#local-6989586621679285022"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285020"><span class="annot"><a href="#local-6989586621679285020"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285021"><span class="annot"><a href="#local-6989586621679285021"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1247"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285020"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1248"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285020"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285021"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285022"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1249"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285020"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285022"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1250"></span><span id="mergeHandlerOnData"><span class="annot"><span class="annottext">mergeHandlerOnData :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679286718"><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286718"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679286719"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286719"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679286720"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286720"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1251"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; BothPresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var">bothPresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286718"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286719"><span class="hs-identifier hs-var">leftPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286720"><span class="hs-identifier hs-var">rightPresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1252"></span><span>
</span><span id="line-1253"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-type">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1254"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285026"><span class="annot"><a href="#local-6989586621679285026"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285024"><span class="annot"><a href="#local-6989586621679285024"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285025"><span class="annot"><a href="#local-6989586621679285025"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1255"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285024"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285025"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1256"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285024"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285025"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285026"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1257"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285024"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285025"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285026"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1258"></span><span id="mergeHandlerCommutativeOnData"><span class="annot"><span class="annottext">mergeHandlerCommutativeOnData :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerCommutativeOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679286729"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286729"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679286730"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286730"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1259"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; BothPresentHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var">bothPresentCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286729"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679286730"><span class="hs-identifier hs-var">onePresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>
</span><span id="line-1261"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-type">zipMerge</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1262"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285034"><span class="annot"><a href="#local-6989586621679285034"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285032"><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285033"><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1263"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285034"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1264"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1265"></span><span>    </span><span class="annot"><a href="#local-6989586621679285034"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1266"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span>
</span><span id="line-1267"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1268"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1269"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1270"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1271"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1272"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1273"></span><span>    </span><span class="annot"><a href="#local-6989586621679285034"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1274"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1275"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1276"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285032"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285033"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1277"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1278"></span><span id="zipMerge"><span class="annot"><span class="annottext">zipMerge :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-var hs-var">zipMerge</span></a></span></span><span> </span><span id="local-6989586621679286753"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679286753"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span> </span><span id="local-6989586621679286754"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679286754"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286755"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286755"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679286756"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286756"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286755"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1279"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1280"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679286753"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1281"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: S -&gt; Type) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1282"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286756"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1283"></span><span>      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286757"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286757"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1284"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1287"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1288"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1289"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679286760"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286760"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679286761"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286761"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679286754"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><a href="Plutarch.LedgerApi.Utils.html#pstrue"><span class="hs-identifier hs-var">pstrue</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286760"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286761"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286756"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1292"></span><span>
</span><span id="line-1293"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-type">zipMergeInsert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1294"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285038"><span class="annot"><a href="#local-6989586621679285038"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285036"><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285037"><span class="annot"><a href="#local-6989586621679285037"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1295"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1296"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1297"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1298"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285037"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285038"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1299"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-1300"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-1301"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-1302"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1303"></span><span>    </span><span class="annot"><a href="#local-6989586621679285038"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1304"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span>
</span><span id="line-1305"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285037"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1306"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285037"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1307"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285037"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1308"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285036"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285037"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1309"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1310"></span><span id="zipMergeInsert"><span class="annot"><span class="annottext">zipMergeInsert :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var hs-var">zipMergeInsert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679286834"><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286834"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679286835"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286835"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679286836"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286836"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1311"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-1312"></span><span>  </span><span id="local-6989586621679286837"><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286837"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; TermCont
      s
      (Term
         s
         ((PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286836"><span class="hs-identifier hs-var">rightPresent</span></a></span><span>
</span><span id="line-1313"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      s
      (Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term s PSBool
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PSBool
             :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term s PSBool
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286838"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679286838"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286839"><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span></span><span> </span><span id="local-6989586621679286840"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286840"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286841"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679286842"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286842"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1314"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679286843"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286843"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286837"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679286838"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-1315"></span><span>        </span><span id="local-6989586621679286844"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286844"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286840"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1316"></span><span>        </span><span id="local-6989586621679286845"><span class="annot"><span class="annottext">zipMergeOrdered :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286845"><span class="hs-identifier hs-var hs-var">zipMergeOrdered</span></a></span></span><span> </span><span id="local-6989586621679286846"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286846"><span class="hs-identifier hs-var">xSide</span></a></span></span><span> </span><span id="local-6989586621679286847"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286847"><span class="hs-identifier hs-var">ySide</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1317"></span><span>          </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286848"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286848"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286848"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286843"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286846"><span class="hs-identifier hs-var">xSide</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286847"><span class="hs-identifier hs-var">ySide</span></a></span><span>
</span><span id="line-1318"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286842"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1319"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286850"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286850"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1320"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-1321"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286850"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286835"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286836"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1322"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: S -&gt; Type) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1323"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286840"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1324"></span><span>          </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286852"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286852"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1325"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1328"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1329"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1330"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679286855"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286855"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679286856"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286856"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1333"></span><span>        </span><span id="local-6989586621679286857"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286857"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286855"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-1334"></span><span>        </span><span id="local-6989586621679286858"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286858"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286840"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1335"></span><span>        </span><span id="local-6989586621679286859"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286859"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286857"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1336"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1337"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1338"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286858"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286859"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1339"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286834"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1340"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286845"><span class="hs-identifier hs-var">zipMergeOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286856"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1341"></span><span>                </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679286860"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679286860"><span class="hs-identifier hs-var">passLeft</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286861"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286861"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1342"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # (if passLeft == (argOrder == PSTrue) then x else y)
</span><span class="hs-cpp">                    # applyOrder argOrder zipMergeRec xs' ys'
</span><span>                </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679286862"><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData v)
    -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
</span><a href="#local-6989586621679286862"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286863"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286863"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1346"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ applyOrder' argOrder (merge xk) (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ applyOrder argOrder zipMergeRec xs' ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1353"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1354"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286858"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286859"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1355"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286865"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286865"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1356"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only x-side</span><span>
</span><span id="line-1357"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286865"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286835"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286836"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1358"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679286838"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s PSBool -&gt; Term s PSBool -&gt; Term s PSBool
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286865"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><a href="Plutarch.LedgerApi.Utils.html#psfalse"><span class="hs-identifier hs-var">psfalse</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><a href="Plutarch.LedgerApi.Utils.html#pstrue"><span class="hs-identifier hs-var">pstrue</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286857"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286856"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1359"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286840"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286865"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286843"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286842"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-1360"></span><span>                      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286866"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286866"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1361"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                          # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                          # (self # branchOrder argOrder psfalse pstrue # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1365"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286867"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286867"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1366"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only y-side</span><span>
</span><span id="line-1367"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286867"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286836"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286835"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1368"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679286838"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679286839"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286840"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286841"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286856"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1369"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286857"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679286867"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286843"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286844"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286856"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1370"></span><span>                      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286868"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286868"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1371"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                          # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                          # (self # argOrder' # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1375"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1376"></span><span>
</span><span id="line-1377"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-type">zipMergeCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1378"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285041"><span class="annot"><a href="#local-6989586621679285041"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285039"><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285040"><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1379"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285041"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1380"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1381"></span><span>    </span><span class="annot"><a href="#local-6989586621679285041"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1382"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1383"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1384"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1385"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1387"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1388"></span><span>    </span><span class="annot"><a href="#local-6989586621679285041"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1389"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1390"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1391"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1392"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1393"></span><span id="zipMergeCommutative"><span class="annot"><span class="annottext">zipMergeCommutative :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var hs-var">zipMergeCommutative</span></a></span></span><span> </span><span id="local-6989586621679286890"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679286890"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span> </span><span id="local-6989586621679286891"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286891"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286892"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286892"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679286893"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286893"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286892"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1394"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1395"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679286890"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1396"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: S -&gt; Type) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1397"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286893"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1398"></span><span>      </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286894"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286894"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1399"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1402"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1403"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1404"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679286897"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286897"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679286898"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286898"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286891"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286897"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286898"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286893"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-1407"></span><span>
</span><span id="line-1408"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-type">zipMergeInsertCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1409"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285044"><span class="annot"><a href="#local-6989586621679285044"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285042"><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285043"><span class="annot"><a href="#local-6989586621679285043"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1410"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1411"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1412"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1413"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285044"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1414"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-1415"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-1416"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-1417"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-1418"></span><span>    </span><span class="annot"><a href="#local-6989586621679285044"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1419"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1420"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1421"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1422"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1423"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1424"></span><span id="zipMergeInsertCommutative"><span class="annot"><span class="annottext">zipMergeInsertCommutative :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var hs-var">zipMergeInsertCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679286956"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286956"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679286957"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286957"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1425"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-1426"></span><span>  </span><span id="local-6989586621679286958"><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286958"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      s
      (Term
         s
         ((PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.LedgerApi.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286957"><span class="hs-identifier hs-var">onePresent</span></a></span><span>
</span><span id="line-1427"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; TermCont
      s
      (Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286959"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286959"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679286960"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286960"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286961"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679286962"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286962"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1428"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679286963"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286963"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286958"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286959"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-1429"></span><span>        </span><span id="local-6989586621679286964"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286964"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286960"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1430"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286962"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1431"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1432"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-1433"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286957"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1434"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: S -&gt; Type) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-1435"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286960"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1436"></span><span>          </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286965"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286965"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1437"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (b :: S -&gt; Type) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1440"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1441"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-1442"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679286968"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286968"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679286969"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286969"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1445"></span><span>        </span><span id="local-6989586621679286970"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286970"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286968"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-1446"></span><span>        </span><span id="local-6989586621679286971"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286971"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286960"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1447"></span><span>        </span><span id="local-6989586621679286972"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286972"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: S -&gt; Type).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286970"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1448"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1449"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1450"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286971"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286972"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1451"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286956"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1452"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286963"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286969"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1453"></span><span>                </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679286973"><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData v)
    -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
</span><a href="#local-6989586621679286973"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1454"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ merge xk (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ zipMergeRec
</span><span class="hs-cpp">                    # xs'
</span><span class="hs-cpp">                    # ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1463"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-1464"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286971"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: S -&gt; Type) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286972"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1465"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286957"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1466"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286959"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286970"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286969"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1467"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286960"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286963"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286962"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1468"></span><span>                    </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286974"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286974"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1469"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                        # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                        # (self # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1473"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679286957"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1474"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679286959"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286960"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286961"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286969"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-1475"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679286970"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679286963"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286969"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679286964"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1476"></span><span>                    </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286975"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679286975"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1477"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: S -&gt; Type) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: (S -&gt; Type) -&gt; S -&gt; Type) (a :: S -&gt; Type)
       (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                        # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                        # (self # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-1481"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1482"></span><span>
</span><span id="line-1483"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-type">bothPresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1484"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285050"><span class="annot"><a href="#local-6989586621679285050"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285048"><span class="annot"><a href="#local-6989586621679285048"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285049"><span class="annot"><a href="#local-6989586621679285049"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1485"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285048"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285049"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1486"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285048"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285049"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285050"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1487"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285048"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285049"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285050"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1488"></span><span id="bothPresentOnData"><span class="annot"><span class="annottext">bothPresentOnData :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var hs-var">bothPresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1489"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span>
</span><span id="line-1490"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679286982"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679286982"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679286982"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-1491"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679286983"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679286983"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; (Term s (PAsData v)
     -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))))
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286984"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286984"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679286985"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679286985"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286986"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679286986"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679286983"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286984"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679286985"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679286986"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1492"></span><span>
</span><span id="line-1493"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-type">onePresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1494"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285054"><span class="annot"><a href="#local-6989586621679285054"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285052"><span class="annot"><a href="#local-6989586621679285052"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285053"><span class="annot"><a href="#local-6989586621679285053"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1495"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285052"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285053"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1496"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285052"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285053"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285054"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1497"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285052"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285053"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285054"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1498"></span><span id="onePresentOnData"><span class="annot"><span class="annottext">onePresentOnData :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var hs-var">onePresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1499"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1500"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-1501"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679286992"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; Term s v)
</span><a href="#local-6989586621679286992"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679286993"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286993"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679286994"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679286994"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; Term s v)
</span><a href="#local-6989586621679286992"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679286993"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679286994"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1502"></span><span>
</span><span id="line-1503"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-type">bothPresentCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1504"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285060"><span class="annot"><a href="#local-6989586621679285060"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285058"><span class="annot"><a href="#local-6989586621679285058"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285059"><span class="annot"><a href="#local-6989586621679285059"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1505"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285058"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285059"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1506"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285058"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285059"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285060"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1507"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285058"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679285059"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679285060"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1508"></span><span id="bothPresentCommutativeOnData"><span class="annot"><span class="annottext">bothPresentCommutativeOnData :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.LedgerApi.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var hs-var">bothPresentCommutativeOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1509"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span>
</span><span id="line-1510"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679287001"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679287001"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1511"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; (Term s (PAsData v)
     -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))))
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679287002"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679287002"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679287003"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679287003"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679287004"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679287004"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679287001"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679287002"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679287003"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679287004"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1512"></span><span>
</span><span id="line-1513"></span><span class="annot"><span class="hs-comment">-- | Apply given Plutarch fun with given reified (on Haskell-level) arg order.</span></span><span>
</span><span id="line-1514"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-type">applyOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1515"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285070"><span class="annot"><a href="#local-6989586621679285070"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285071"><span class="annot"><a href="#local-6989586621679285071"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285072"><span class="annot"><a href="#local-6989586621679285072"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1516"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-1517"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1518"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-1519"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679285070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679285071"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679285071"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679285072"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1520"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-1521"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679285070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285071"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1522"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-1523"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679285070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285071"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1524"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679285070"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285072"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1525"></span><span id="applyOrder"><span class="annot"><span class="annottext">applyOrder :: forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder"><span class="hs-identifier hs-var hs-var">applyOrder</span></a></span></span><span> </span><span id="local-6989586621679287005"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679287005"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679287006"><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679287006"><span class="hs-identifier hs-var">pfun</span></a></span></span><span> </span><span id="local-6989586621679287007"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287007"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679287008"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287008"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s b -&gt; Term s b -&gt; Term s b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679287005"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679287006"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287007"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287008"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679287006"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287008"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287007"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1526"></span><span>
</span><span id="line-1527"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-type">branchOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285073"><span class="annot"><a href="#local-6989586621679285073"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285074"><span class="annot"><a href="#local-6989586621679285074"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285073"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679285074"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679285074"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679285074"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1528"></span><span id="branchOrder"><span class="annot"><span class="annottext">branchOrder :: forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var hs-var">branchOrder</span></a></span></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="Plutarch.LedgerApi.Utils.html#PSTrue"><span class="hs-identifier hs-var">PSTrue</span></a></span><span> </span><span id="local-6989586621679287009"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287009"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287009"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1529"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="Plutarch.LedgerApi.Utils.html#PSFalse"><span class="hs-identifier hs-var">PSFalse</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679287010"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287010"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287010"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1530"></span><span>
</span><span id="line-1531"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-type">applyOrder'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1532"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285076"><span class="annot"><a href="#local-6989586621679285076"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285077"><span class="annot"><a href="#local-6989586621679285077"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679285078"><span class="annot"><a href="#local-6989586621679285078"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1533"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-1534"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.Utils.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679285076"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1535"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-1536"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679285077"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679285077"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679285078"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1537"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-1538"></span><span>  </span><span class="annot"><a href="#local-6989586621679285077"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1539"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-1540"></span><span>  </span><span class="annot"><a href="#local-6989586621679285077"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1541"></span><span>  </span><span class="annot"><a href="#local-6989586621679285078"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1542"></span><span id="applyOrder%27"><span class="annot"><span class="annottext">applyOrder' :: forall (s :: S) a b. PSBool s -&gt; (a -&gt; a -&gt; b) -&gt; a -&gt; a -&gt; b
</span><a href="Plutarch.LedgerApi.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-var hs-var">applyOrder'</span></a></span></span><span> </span><span id="local-6989586621679287011"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679287011"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679287012"><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679287012"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679287013"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287013"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679287014"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287014"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; b -&gt; b -&gt; b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.LedgerApi.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679287011"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679287012"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287013"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287014"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679287012"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287014"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679287013"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1543"></span><span>
</span><span id="line-1544"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-type">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1545"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284796"><span class="annot"><a href="#local-6989586621679284796"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284797"><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284798"><span class="annot"><a href="#local-6989586621679284798"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1546"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284796"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1547"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284796"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1548"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284796"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1549"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284798"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284797"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679284796"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1550"></span><span id="defaultMergeHandlerNonCommutative"><span class="annot"><span class="annottext">defaultMergeHandlerNonCommutative :: forall (s :: S) (v :: S -&gt; Type) (k :: S -&gt; Type).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var hs-var">defaultMergeHandlerNonCommutative</span></a></span></span><span> </span><span id="local-6989586621679287015"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287015"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679287016"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287016"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span id="local-6989586621679287017"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287017"><span class="hs-identifier hs-var">combine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1551"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1552"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span>
</span><span id="line-1553"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679287018"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287018"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679287019"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287019"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287017"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287018"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287019"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1554"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; Term s v))
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679287020"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287020"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287017"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287020"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287016"><span class="hs-identifier hs-var">defRight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1555"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; Term s v))
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679287021"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287021"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287017"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287015"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287021"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1556"></span><span>
</span><span id="line-1557"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-type">intersectionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1558"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679287022"><span class="annot"><a href="#local-6989586621679287022"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679287023"><span class="annot"><a href="#local-6989586621679287023"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679287024"><span class="annot"><a href="#local-6989586621679287024"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1559"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1560"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679287022"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679287024"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679287024"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679287024"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1561"></span><span>  </span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679287023"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679287024"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679287022"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1562"></span><span id="intersectionMergeHandler"><span class="annot"><span class="annottext">intersectionMergeHandler :: forall (s :: S) (k :: S -&gt; Type) (v :: S -&gt; Type).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var hs-var">intersectionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679287025"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287025"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1563"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679287026"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287026"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679287027"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287027"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287025"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287026"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287027"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1564"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.LedgerApi.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679287028"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287028"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1565"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1566"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679287029"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287029"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679287030"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287030"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679287028"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287029"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679287030"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.LedgerApi.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1567"></span><span>
</span><span id="line-1568"></span><span class="hs-comment">-- We have to clone this in here or we get a dependency cycle</span><span>
</span><span id="line-1569"></span><span class="annot"><a href="Plutarch.LedgerApi.AssocMap.html#passertPJust"><span class="hs-identifier hs-type">passertPJust</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284670"><span class="annot"><a href="#local-6989586621679284670"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679284669"><span class="annot"><a href="#local-6989586621679284669"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679284669"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PString</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679284670"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679284670"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1570"></span><span id="passertPJust"><span class="annot"><span class="annottext">passertPJust :: forall (a :: S -&gt; Type) (s :: S).
Term s (PString :--&gt; (PMaybe a :--&gt; a))
</span><a href="Plutarch.LedgerApi.AssocMap.html#passertPJust"><span class="hs-identifier hs-var hs-var">passertPJust</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PString :--&gt; (PMaybe a :--&gt; a))
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PString :--&gt; (PMaybe a :--&gt; a))
 -&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a)))
-&gt; ClosedTerm (PString :--&gt; (PMaybe a :--&gt; a))
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1571"></span><span>  </span><span class="annot"><span class="annottext">(Term s PString -&gt; Term s (PMaybe a) -&gt; Term s a)
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe a) -&gt; Term s a)
-&gt; Term s (c :--&gt; (PMaybe a :--&gt; a))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s PString -&gt; Term s (PMaybe a) -&gt; Term s a)
 -&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a)))
-&gt; (Term s PString -&gt; Term s (PMaybe a) -&gt; Term s a)
-&gt; Term s (PString :--&gt; (PMaybe a :--&gt; a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679287040"><span class="annot"><span class="annottext">Term s PString
</span><a href="#local-6989586621679287040"><span class="hs-identifier hs-var">emsg</span></a></span></span><span> </span><span id="local-6989586621679287041"><span class="annot"><span class="annottext">Term s (PMaybe a)
</span><a href="#local-6989586621679287041"><span class="hs-identifier hs-var">mv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe a) -&gt; (PMaybe a s -&gt; Term s a) -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe a)
</span><a href="#local-6989586621679287041"><span class="hs-identifier hs-var">mv'</span></a></span><span> </span><span class="annot"><span class="annottext">((PMaybe a s -&gt; Term s a) -&gt; Term s a)
-&gt; (PMaybe a s -&gt; Term s a) -&gt; Term s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1572"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679287042"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287042"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679287042"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1573"></span><span>    </span><span class="annot"><span class="annottext">PMaybe a s
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PString -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><a href="#local-6989586621679287040"><span class="hs-identifier hs-var">emsg</span></a></span><span>
</span><span id="line-1574"></span></pre></body></html>